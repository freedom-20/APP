(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function lc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Iu={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function lv(){if(sp)return Ro;sp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(s,r,c){var m=null;if(c!==void 0&&(m=""+c),r.key!==void 0&&(m=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:s,key:m,ref:r!==void 0?r:null,props:c}}return Ro.Fragment=t,Ro.jsx=l,Ro.jsxs=l,Ro}var ap;function ov(){return ap||(ap=1,Iu.exports=lv()),Iu.exports}var S=ov(),Du={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function sv(){if(rp)return me;rp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function C(M){return M===null||typeof M!="object"?null:(M=E&&M[E]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,D={};function F(M,B,$){this.props=M,this.context=B,this.refs=D,this.updater=$||N}F.prototype.isReactComponent={},F.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function J(){}J.prototype=F.prototype;function k(M,B,$){this.props=M,this.context=B,this.refs=D,this.updater=$||N}var K=k.prototype=new J;K.constructor=k,I(K,F.prototype),K.isPureReactComponent=!0;var te=Array.isArray;function P(){}var Q={H:null,A:null,T:null,S:null},ye=Object.prototype.hasOwnProperty;function ne(M,B,$){var ee=$.ref;return{$$typeof:i,type:M,key:B,ref:ee!==void 0?ee:null,props:$}}function he(M,B){return ne(M.type,B,M.props)}function Ae(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function Ne(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return B[$]})}var ze=/\/+/g;function Ue(M,B){return typeof M=="object"&&M!==null&&M.key!=null?Ne(""+M.key):B.toString(36)}function Qe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(P,P):(M.status="pending",M.then(function(B){M.status==="pending"&&(M.status="fulfilled",M.value=B)},function(B){M.status==="pending"&&(M.status="rejected",M.reason=B)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,B,$,ee,ce){var re=typeof M;(re==="undefined"||re==="boolean")&&(M=null);var xe=!1;if(M===null)xe=!0;else switch(re){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(M.$$typeof){case i:case t:xe=!0;break;case v:return xe=M._init,q(xe(M._payload),B,$,ee,ce)}}if(xe)return ce=ce(M),xe=ee===""?"."+Ue(M,0):ee,te(ce)?($="",xe!=null&&($=xe.replace(ze,"$&/")+"/"),q(ce,B,$,"",function(At){return At})):ce!=null&&(Ae(ce)&&(ce=he(ce,$+(ce.key==null||M&&M.key===ce.key?"":(""+ce.key).replace(ze,"$&/")+"/")+xe)),B.push(ce)),1;xe=0;var Be=ee===""?".":ee+":";if(te(M))for(var Pe=0;Pe<M.length;Pe++)ee=M[Pe],re=Be+Ue(ee,Pe),xe+=q(ee,B,$,re,ce);else if(Pe=C(M),typeof Pe=="function")for(M=Pe.call(M),Pe=0;!(ee=M.next()).done;)ee=ee.value,re=Be+Ue(ee,Pe++),xe+=q(ee,B,$,re,ce);else if(re==="object"){if(typeof M.then=="function")return q(Qe(M),B,$,ee,ce);throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return xe}function Z(M,B,$){if(M==null)return M;var ee=[],ce=0;return q(M,ee,"","",function(re){return B.call($,re,ce++)}),ee}function oe(M){if(M._status===-1){var B=M._result;B=B(),B.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var Ee=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Re={map:Z,forEach:function(M,B,$){Z(M,function(){B.apply(this,arguments)},$)},count:function(M){var B=0;return Z(M,function(){B++}),B},toArray:function(M){return Z(M,function(B){return B})||[]},only:function(M){if(!Ae(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return me.Activity=_,me.Children=Re,me.Component=F,me.Fragment=l,me.Profiler=r,me.PureComponent=k,me.StrictMode=s,me.Suspense=y,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,me.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Q.H.useMemoCache(M)}},me.cache=function(M){return function(){return M.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(M,B,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ee=I({},M.props),ce=M.key;if(B!=null)for(re in B.key!==void 0&&(ce=""+B.key),B)!ye.call(B,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&B.ref===void 0||(ee[re]=B[re]);var re=arguments.length-2;if(re===1)ee.children=$;else if(1<re){for(var xe=Array(re),Be=0;Be<re;Be++)xe[Be]=arguments[Be+2];ee.children=xe}return ne(M.type,ce,ee)},me.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},me.createElement=function(M,B,$){var ee,ce={},re=null;if(B!=null)for(ee in B.key!==void 0&&(re=""+B.key),B)ye.call(B,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ce[ee]=B[ee]);var xe=arguments.length-2;if(xe===1)ce.children=$;else if(1<xe){for(var Be=Array(xe),Pe=0;Pe<xe;Pe++)Be[Pe]=arguments[Pe+2];ce.children=Be}if(M&&M.defaultProps)for(ee in xe=M.defaultProps,xe)ce[ee]===void 0&&(ce[ee]=xe[ee]);return ne(M,re,ce)},me.createRef=function(){return{current:null}},me.forwardRef=function(M){return{$$typeof:g,render:M}},me.isValidElement=Ae,me.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:oe}},me.memo=function(M,B){return{$$typeof:h,type:M,compare:B===void 0?null:B}},me.startTransition=function(M){var B=Q.T,$={};Q.T=$;try{var ee=M(),ce=Q.S;ce!==null&&ce($,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(P,Ee)}catch(re){Ee(re)}finally{B!==null&&$.types!==null&&(B.types=$.types),Q.T=B}},me.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},me.use=function(M){return Q.H.use(M)},me.useActionState=function(M,B,$){return Q.H.useActionState(M,B,$)},me.useCallback=function(M,B){return Q.H.useCallback(M,B)},me.useContext=function(M){return Q.H.useContext(M)},me.useDebugValue=function(){},me.useDeferredValue=function(M,B){return Q.H.useDeferredValue(M,B)},me.useEffect=function(M,B){return Q.H.useEffect(M,B)},me.useEffectEvent=function(M){return Q.H.useEffectEvent(M)},me.useId=function(){return Q.H.useId()},me.useImperativeHandle=function(M,B,$){return Q.H.useImperativeHandle(M,B,$)},me.useInsertionEffect=function(M,B){return Q.H.useInsertionEffect(M,B)},me.useLayoutEffect=function(M,B){return Q.H.useLayoutEffect(M,B)},me.useMemo=function(M,B){return Q.H.useMemo(M,B)},me.useOptimistic=function(M,B){return Q.H.useOptimistic(M,B)},me.useReducer=function(M,B,$){return Q.H.useReducer(M,B,$)},me.useRef=function(M){return Q.H.useRef(M)},me.useState=function(M){return Q.H.useState(M)},me.useSyncExternalStore=function(M,B,$){return Q.H.useSyncExternalStore(M,B,$)},me.useTransition=function(){return Q.H.useTransition()},me.version="19.2.4",me}var up;function oc(){return up||(up=1,Du.exports=sv()),Du.exports}var ue=oc();const av=lc(ue);var Uu={exports:{}},Mo={},Lu={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cp;function rv(){return cp||(cp=1,(function(i){function t(q,Z){var oe=q.length;q.push(Z);e:for(;0<oe;){var Ee=oe-1>>>1,Re=q[Ee];if(0<r(Re,Z))q[Ee]=Z,q[oe]=Re,oe=Ee;else break e}}function l(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Z=q[0],oe=q.pop();if(oe!==Z){q[0]=oe;e:for(var Ee=0,Re=q.length,M=Re>>>1;Ee<M;){var B=2*(Ee+1)-1,$=q[B],ee=B+1,ce=q[ee];if(0>r($,oe))ee<Re&&0>r(ce,$)?(q[Ee]=ce,q[ee]=oe,Ee=ee):(q[Ee]=$,q[B]=oe,Ee=B);else if(ee<Re&&0>r(ce,oe))q[Ee]=ce,q[ee]=oe,Ee=ee;else break e}}return Z}function r(q,Z){var oe=q.sortIndex-Z.sortIndex;return oe!==0?oe:q.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,_=null,E=3,C=!1,N=!1,I=!1,D=!1,F=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function K(q){for(var Z=l(h);Z!==null;){if(Z.callback===null)s(h);else if(Z.startTime<=q)s(h),Z.sortIndex=Z.expirationTime,t(y,Z);else break;Z=l(h)}}function te(q){if(I=!1,K(q),!N)if(l(y)!==null)N=!0,P||(P=!0,Ne());else{var Z=l(h);Z!==null&&Qe(te,Z.startTime-q)}}var P=!1,Q=-1,ye=5,ne=-1;function he(){return D?!0:!(i.unstable_now()-ne<ye)}function Ae(){if(D=!1,P){var q=i.unstable_now();ne=q;var Z=!0;try{e:{N=!1,I&&(I=!1,J(Q),Q=-1),C=!0;var oe=E;try{t:{for(K(q),_=l(y);_!==null&&!(_.expirationTime>q&&he());){var Ee=_.callback;if(typeof Ee=="function"){_.callback=null,E=_.priorityLevel;var Re=Ee(_.expirationTime<=q);if(q=i.unstable_now(),typeof Re=="function"){_.callback=Re,K(q),Z=!0;break t}_===l(y)&&s(y),K(q)}else s(y);_=l(y)}if(_!==null)Z=!0;else{var M=l(h);M!==null&&Qe(te,M.startTime-q),Z=!1}}break e}finally{_=null,E=oe,C=!1}Z=void 0}}finally{Z?Ne():P=!1}}}var Ne;if(typeof k=="function")Ne=function(){k(Ae)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,Ue=ze.port2;ze.port1.onmessage=Ae,Ne=function(){Ue.postMessage(null)}}else Ne=function(){F(Ae,0)};function Qe(q,Z){Q=F(function(){q(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(q){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var oe=E;E=Z;try{return q()}finally{E=oe}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=E;E=q;try{return Z()}finally{E=oe}},i.unstable_scheduleCallback=function(q,Z,oe){var Ee=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,q){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,q={id:v++,callback:Z,priorityLevel:q,startTime:oe,expirationTime:Re,sortIndex:-1},oe>Ee?(q.sortIndex=oe,t(h,q),l(y)===null&&q===l(h)&&(I?(J(Q),Q=-1):I=!0,Qe(te,oe-Ee))):(q.sortIndex=Re,t(y,q),N||C||(N=!0,P||(P=!0,Ne()))),q},i.unstable_shouldYield=he,i.unstable_wrapCallback=function(q){var Z=E;return function(){var oe=E;E=Z;try{return q.apply(this,arguments)}finally{E=oe}}}})(Gu)),Gu}var fp;function uv(){return fp||(fp=1,Lu.exports=rv()),Lu.exports}var Hu={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function cv(){if(dp)return mt;dp=1;var i=oc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var s={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,h,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,v)},mt.flushSync=function(y){var h=m.T,v=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=h,s.p=v,s.d.f()}},mt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},mt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},mt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,C=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:C}):v==="script"&&s.d.X(y,{crossOrigin:_,integrity:E,fetchPriority:C,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},mt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,_=g(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:_,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},mt.requestFormReset=function(y){s.d.r(y)},mt.unstable_batchedUpdates=function(y,h){return y(h)},mt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},mt.useFormStatus=function(){return m.H.useHostTransitionStatus()},mt.version="19.2.4",mt}var mp;function fv(){if(mp)return Hu.exports;mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Hu.exports=cv(),Hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function dv(){if(pp)return Mo;pp=1;var i=uv(),t=oc(),l=fv();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(s(188))}function h(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var o=e,a=n;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(a=d.return,a!==null){o=a;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return y(d),e;if(p===a)return y(d),n;p=p.sibling}throw Error(s(188))}if(o.return!==a.return)o=d,a=p;else{for(var T=!1,x=d.child;x;){if(x===o){T=!0,o=d,a=p;break}if(x===a){T=!0,a=d,o=p;break}x=x.sibling}if(!T){for(x=p.child;x;){if(x===o){T=!0,o=p,a=d;break}if(x===a){T=!0,a=p,o=d;break}x=x.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==a)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),k=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case I:return"Fragment";case F:return"Profiler";case D:return"StrictMode";case te:return"Suspense";case P:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case k:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case K:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:Ue(e.type)||"Memo";case ye:n=e._payload,e=e._init;try{return Ue(e(n))}catch{}}return null}var Qe=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ee=[],Re=-1;function M(e){return{current:e}}function B(e){0>Re||(e.current=Ee[Re],Ee[Re]=null,Re--)}function $(e,n){Re++,Ee[Re]=e.current,e.current=n}var ee=M(null),ce=M(null),re=M(null),xe=M(null);function Be(e,n){switch($(re,n),$(ce,e),$(ee,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Mm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Mm(n),e=wm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(ee),$(ee,e)}function Pe(){B(ee),B(ce),B(re)}function At(e){e.memoizedState!==null&&$(xe,e);var n=ee.current,o=wm(n,e.type);n!==o&&($(ce,e),$(ee,o))}function an(e){ce.current===e&&(B(ee),B(ce)),xe.current===e&&(B(xe),Co._currentValue=oe)}var Dl,Un;function rn(e){if(Dl===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Dl=n&&n[1]||"",Un=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dl+e+Un}var Ln=!1;function Lt(e,n){if(!e||Ln)return"";Ln=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(H){var G=H}Reflect.construct(e,[],O)}else{try{O.call()}catch(H){G=H}e.call(O.prototype)}}else{try{throw Error()}catch(H){G=H}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(H){if(H&&G&&typeof H.stack=="string")return[H.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),T=p[0],x=p[1];if(T&&x){var A=T.split(`
`),L=x.split(`
`);for(d=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;d<L.length&&!L[d].includes("DetermineComponentFrameRoot");)d++;if(a===A.length||d===L.length)for(a=A.length-1,d=L.length-1;1<=a&&0<=d&&A[a]!==L[d];)d--;for(;1<=a&&0<=d;a--,d--)if(A[a]!==L[d]){if(a!==1||d!==1)do if(a--,d--,0>d||A[a]!==L[d]){var V=`
`+A[a].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=a&&0<=d);break}}}finally{Ln=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?rn(o):""}function Gi(e,n){switch(e.tag){case 26:case 27:case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return e.child!==n&&n!==null?rn("Suspense Fallback"):rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return Lt(e.type,!1);case 11:return Lt(e.type.render,!1);case 1:return Lt(e.type,!0);case 31:return rn("Activity");default:return""}}function Gn(e){try{var n="",o=null;do n+=Gi(e,o),o=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Hi=Object.prototype.hasOwnProperty,Ul=i.unstable_scheduleCallback,qi=i.unstable_cancelCallback,ri=i.unstable_shouldYield,Ho=i.unstable_requestPaint,it=i.unstable_now,Ll=i.unstable_getCurrentPriorityLevel,ui=i.unstable_ImmediatePriority,Gl=i.unstable_UserBlockingPriority,ci=i.unstable_NormalPriority,Vi=i.unstable_LowPriority,qo=i.unstable_IdlePriority,fi=i.log,Vo=i.unstable_setDisableYieldValue,di=null,pt=null;function tn(e){if(typeof fi=="function"&&Vo(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(di,e)}catch{}}var ht=Math.clz32?Math.clz32:Hl,mi=Math.log,_a=Math.LN2;function Hl(e){return e>>>=0,e===0?32:31-(mi(e)/_a|0)|0}var ki=256,zi=262144,Pi=4194304;function un(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hn(e,n,o){var a=e.pendingLanes;if(a===0)return 0;var d=0,p=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var x=a&134217727;return x!==0?(a=x&~p,a!==0?d=un(a):(T&=x,T!==0?d=un(T):o||(o=x&~e,o!==0&&(d=un(o))))):(x=a&~p,x!==0?d=un(x):T!==0?d=un(T):o||(o=a&~e,o!==0&&(d=un(o)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:d}function pi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ea(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var e=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),e}function ql(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function hi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xa(e,n,o,a,d,p){var T=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var x=e.entanglements,A=e.expirationTimes,L=e.hiddenUpdates;for(o=T&~o;0<o;){var V=31-ht(o),O=1<<V;x[V]=0,A[V]=-1;var G=L[V];if(G!==null)for(L[V]=null,V=0;V<G.length;V++){var H=G[V];H!==null&&(H.lane&=-536870913)}o&=~O}a!==0&&zo(e,a,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(T&~n))}function zo(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-ht(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|o&261930}function Po(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-ht(o),d=1<<a;d&n|e[a]&n&&(e[a]|=n),o&=~d}}function Bo(e,n){var o=n&-n;return o=(o&42)!==0?1:Bi(o),(o&(e.suspendedLanes|n))!==0?0:o}function Bi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Oo(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:jm(e.type))}function R(e,n){var o=Z.p;try{return Z.p=e,n()}finally{Z.p=o}}var Y=Math.random().toString(36).slice(2),X="__reactFiber$"+Y,j="__reactProps$"+Y,fe="__reactContainer$"+Y,Ye="__reactEvents$"+Y,Gt="__reactListeners$"+Y,be="__reactHandles$"+Y,dt="__reactResources$"+Y,Xt="__reactMarker$"+Y;function cn(e){delete e[X],delete e[j],delete e[Ye],delete e[Gt],delete e[be]}function Ht(e){var n=e[X];if(n)return n;for(var o=e.parentNode;o;){if(n=o[fe]||o[X]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=qm(e);e!==null;){if(o=e[X])return o;e=qm(e)}return n}e=o,o=e.parentNode}return null}function fn(e){if(e=e[X]||e[fe]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function kl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Oi(e){var n=e[dt];return n||(n=e[dt]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(e){e[Xt]=!0}var gc=new Set,yc={};function gi(e,n){Fi(e,n),Fi(e+"Capture",n)}function Fi(e,n){for(yc[e]=n,e=0;e<n.length;e++)gc.add(n[e])}var Qg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},Tc={};function Zg(e){return Hi.call(Tc,e)?!0:Hi.call(vc,e)?!1:Qg.test(e)?Tc[e]=!0:(vc[e]=!0,!1)}function Fo(e,n,o){if(Zg(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Jo(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function dn(e,n,o,a){if(a===null)e.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+a)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $g(e,n,o){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ca(e){if(!e._valueTracker){var n=Sc(e)?"checked":"value";e._valueTracker=$g(e,n,""+e[n])}}function _c(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=Sc(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function Yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wg=/[\n"\\]/g;function Vt(e){return e.replace(Wg,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(e,n,o,a,d,p,T,x){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qt(n)):e.value!==""+qt(n)&&(e.value=""+qt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?Na(e,T,qt(n)):o!=null?Na(e,T,qt(o)):a!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+qt(x):e.removeAttribute("name")}function Ec(e,n,o,a,d,p,T,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Ca(e);return}o=o!=null?""+qt(o):"",n=n!=null?""+qt(n):o,x||n===e.value||(e.value=n),e.defaultValue=n}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=x?e.checked:!!a,e.defaultChecked=!!a,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),Ca(e)}function Na(e,n,o){n==="number"&&Yo(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function Ji(e,n,o,a){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&a&&(e[o].defaultSelected=!0)}else{for(o=""+qt(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function xc(e,n,o){if(n!=null&&(n=""+qt(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+qt(o):""}function Cc(e,n,o,a){if(n==null){if(a!=null){if(o!=null)throw Error(s(92));if(Qe(a)){if(1<a.length)throw Error(s(93));a=a[0]}o=a}o==null&&(o=""),n=o}o=qt(n),e.defaultValue=o,a=e.textContent,a===o&&a!==""&&a!==null&&(e.value=a),Ca(e)}function Yi(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var jg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ac(e,n,o){var a=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,o):typeof o!="number"||o===0||jg.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function Nc(e,n,o){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,o!=null){for(var a in o)!o.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in n)a=n[d],n.hasOwnProperty(d)&&o[d]!==a&&Ac(e,d,a)}else for(var p in n)n.hasOwnProperty(p)&&Ac(e,p,n[p])}function ba(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),t0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(e){return t0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Ra=null;function Ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Xi=null;function bc(e){var n=fn(e);if(n&&(e=n.stateNode)){var o=e[j]||null;e:switch(e=n.stateNode,n.type){case"input":if(Aa(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var d=a[j]||null;if(!d)throw Error(s(90));Aa(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)a=o[n],a.form===e.form&&_c(a)}break e;case"textarea":xc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&Ji(e,!!o.multiple,n,!1)}}}var wa=!1;function Rc(e,n,o){if(wa)return e(n,o);wa=!0;try{var a=e(n);return a}finally{if(wa=!1,(Ki!==null||Xi!==null)&&(Ls(),Ki&&(n=Ki,e=Xi,Xi=Ki=null,bc(n),e)))for(n=0;n<e.length;n++)bc(e[n])}}function zl(e,n){var o=e.stateNode;if(o===null)return null;var a=o[j]||null;if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,n,typeof o));return o}var pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ia=!1;if(pn)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{Ia=!1}var qn=null,Da=null,Xo=null;function Mc(){if(Xo)return Xo;var e,n=Da,o=n.length,a,d="value"in qn?qn.value:qn.textContent,p=d.length;for(e=0;e<o&&n[e]===d[e];e++);var T=o-e;for(a=1;a<=T&&n[o-a]===d[p-a];a++);return Xo=d.slice(e,1<a?1-a:void 0)}function Qo(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zo(){return!0}function wc(){return!1}function Tt(e){function n(o,a,d,p,T){this._reactName=o,this._targetInst=d,this.type=a,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(o=e[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Zo:wc,this.isPropagationStopped=wc,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),n}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$o=Tt(yi),Bl=_({},yi,{view:0,detail:0}),n0=Tt(Bl),Ua,La,Ol,Wo=_({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ol&&(Ol&&e.type==="mousemove"?(Ua=e.screenX-Ol.screenX,La=e.screenY-Ol.screenY):La=Ua=0,Ol=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:La}}),Ic=Tt(Wo),i0=_({},Wo,{dataTransfer:0}),l0=Tt(i0),o0=_({},Bl,{relatedTarget:0}),Ga=Tt(o0),s0=_({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),a0=Tt(s0),r0=_({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u0=Tt(r0),c0=_({},yi,{data:0}),Dc=Tt(c0),f0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=m0[e])?!!n[e]:!1}function Ha(){return p0}var h0=_({},Bl,{key:function(e){if(e.key){var n=f0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(e){return e.type==="keypress"?Qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g0=Tt(h0),y0=_({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=Tt(y0),v0=_({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),T0=Tt(v0),S0=_({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),_0=Tt(S0),E0=_({},Wo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),x0=Tt(E0),C0=_({},yi,{newState:0,oldState:0}),A0=Tt(C0),N0=[9,13,27,32],qa=pn&&"CompositionEvent"in window,Fl=null;pn&&"documentMode"in document&&(Fl=document.documentMode);var b0=pn&&"TextEvent"in window&&!Fl,Lc=pn&&(!qa||Fl&&8<Fl&&11>=Fl),Gc=" ",Hc=!1;function qc(e,n){switch(e){case"keyup":return N0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qi=!1;function R0(e,n){switch(e){case"compositionend":return Vc(n);case"keypress":return n.which!==32?null:(Hc=!0,Gc);case"textInput":return e=n.data,e===Gc&&Hc?null:e;default:return null}}function M0(e,n){if(Qi)return e==="compositionend"||!qa&&qc(e,n)?(e=Mc(),Xo=Da=qn=null,Qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lc&&n.locale!=="ko"?null:n.data;default:return null}}var w0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!w0[e.type]:n==="textarea"}function zc(e,n,o,a){Ki?Xi?Xi.push(a):Xi=[a]:Ki=a,n=Ps(n,"onChange"),0<n.length&&(o=new $o("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var Jl=null,Yl=null;function I0(e){xm(e,0)}function jo(e){var n=kl(e);if(_c(n))return e}function Pc(e,n){if(e==="change")return n}var Bc=!1;if(pn){var Va;if(pn){var ka="oninput"in document;if(!ka){var Oc=document.createElement("div");Oc.setAttribute("oninput","return;"),ka=typeof Oc.oninput=="function"}Va=ka}else Va=!1;Bc=Va&&(!document.documentMode||9<document.documentMode)}function Fc(){Jl&&(Jl.detachEvent("onpropertychange",Jc),Yl=Jl=null)}function Jc(e){if(e.propertyName==="value"&&jo(Yl)){var n=[];zc(n,Yl,e,Ma(e)),Rc(I0,n)}}function D0(e,n,o){e==="focusin"?(Fc(),Jl=n,Yl=o,Jl.attachEvent("onpropertychange",Jc)):e==="focusout"&&Fc()}function U0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(Yl)}function L0(e,n){if(e==="click")return jo(n)}function G0(e,n){if(e==="input"||e==="change")return jo(n)}function H0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nt=typeof Object.is=="function"?Object.is:H0;function Kl(e,n){if(Nt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var d=o[a];if(!Hi.call(n,d)||!Nt(e[d],n[d]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,n){var o=Yc(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Yc(o)}}function Xc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Yo(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Yo(e.document)}return n}function za(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var q0=pn&&"documentMode"in document&&11>=document.documentMode,Zi=null,Pa=null,Xl=null,Ba=!1;function Zc(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ba||Zi==null||Zi!==Yo(a)||(a=Zi,"selectionStart"in a&&za(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Xl&&Kl(Xl,a)||(Xl=a,a=Ps(Pa,"onSelect"),0<a.length&&(n=new $o("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=Zi)))}function vi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var $i={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Oa={},$c={};pn&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function Ti(e){if(Oa[e])return Oa[e];if(!$i[e])return e;var n=$i[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in $c)return Oa[e]=n[o];return e}var Wc=Ti("animationend"),jc=Ti("animationiteration"),ef=Ti("animationstart"),V0=Ti("transitionrun"),k0=Ti("transitionstart"),z0=Ti("transitioncancel"),tf=Ti("transitionend"),nf=new Map,Fa="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fa.push("scrollEnd");function Qt(e,n){nf.set(e,n),gi(n,[e])}var es=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],Wi=0,Ja=0;function ts(){for(var e=Wi,n=Ja=Wi=0;n<e;){var o=kt[n];kt[n++]=null;var a=kt[n];kt[n++]=null;var d=kt[n];kt[n++]=null;var p=kt[n];if(kt[n++]=null,a!==null&&d!==null){var T=a.pending;T===null?d.next=d:(d.next=T.next,T.next=d),a.pending=d}p!==0&&lf(o,d,p)}}function ns(e,n,o,a){kt[Wi++]=e,kt[Wi++]=n,kt[Wi++]=o,kt[Wi++]=a,Ja|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Ya(e,n,o,a){return ns(e,n,o,a),is(e)}function Si(e,n){return ns(e,null,null,n),is(e)}function lf(e,n,o){e.lanes|=o;var a=e.alternate;a!==null&&(a.lanes|=o);for(var d=!1,p=e.return;p!==null;)p.childLanes|=o,a=p.alternate,a!==null&&(a.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-ht(o),e=p.hiddenUpdates,a=e[d],a===null?e[d]=[n]:a.push(n),n.lane=o|536870912),p):null}function is(e){if(50<yo)throw yo=0,tu=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ji={};function P0(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bt(e,n,o,a){return new P0(e,n,o,a)}function Ka(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hn(e,n){var o=e.alternate;return o===null?(o=bt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function of(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ls(e,n,o,a,d,p){var T=0;if(a=e,typeof e=="function")Ka(e)&&(T=1);else if(typeof e=="string")T=Yy(e,o,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=bt(31,o,n,d),e.elementType=ne,e.lanes=p,e;case I:return _i(o.children,d,p,n);case D:T=8,d|=24;break;case F:return e=bt(12,o,n,d|2),e.elementType=F,e.lanes=p,e;case te:return e=bt(13,o,n,d),e.elementType=te,e.lanes=p,e;case P:return e=bt(19,o,n,d),e.elementType=P,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:T=10;break e;case J:T=9;break e;case K:T=11;break e;case Q:T=14;break e;case ye:T=16,a=null;break e}T=29,o=Error(s(130,e===null?"null":typeof e,"")),a=null}return n=bt(T,o,n,d),n.elementType=e,n.type=a,n.lanes=p,n}function _i(e,n,o,a){return e=bt(7,e,a,n),e.lanes=o,e}function Xa(e,n,o){return e=bt(6,e,null,n),e.lanes=o,e}function sf(e){var n=bt(18,null,null,0);return n.stateNode=e,n}function Qa(e,n,o){return n=bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var af=new WeakMap;function zt(e,n){if(typeof e=="object"&&e!==null){var o=af.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Gn(n)},af.set(e,n),n)}return{value:e,source:n,stack:Gn(n)}}var el=[],tl=0,os=null,Ql=0,Pt=[],Bt=0,Vn=null,nn=1,ln="";function gn(e,n){el[tl++]=Ql,el[tl++]=os,os=e,Ql=n}function rf(e,n,o){Pt[Bt++]=nn,Pt[Bt++]=ln,Pt[Bt++]=Vn,Vn=e;var a=nn;e=ln;var d=32-ht(a)-1;a&=~(1<<d),o+=1;var p=32-ht(n)+d;if(30<p){var T=d-d%5;p=(a&(1<<T)-1).toString(32),a>>=T,d-=T,nn=1<<32-ht(n)+d|o<<d|a,ln=p+e}else nn=1<<p|o<<d|a,ln=e}function Za(e){e.return!==null&&(gn(e,1),rf(e,1,0))}function $a(e){for(;e===os;)os=el[--tl],el[tl]=null,Ql=el[--tl],el[tl]=null;for(;e===Vn;)Vn=Pt[--Bt],Pt[Bt]=null,ln=Pt[--Bt],Pt[Bt]=null,nn=Pt[--Bt],Pt[Bt]=null}function uf(e,n){Pt[Bt++]=nn,Pt[Bt++]=ln,Pt[Bt++]=Vn,nn=n.id,ln=n.overflow,Vn=e}var rt=null,Oe=null,Ce=!1,kn=null,Ot=!1,Wa=Error(s(519));function zn(e){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zl(zt(n,e)),Wa}function cf(e){var n=e.stateNode,o=e.type,a=e.memoizedProps;switch(n[X]=e,n[j]=a,o){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(o=0;o<To.length;o++)Te(To[o],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),Ec(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),Cc(n,a.value,a.defaultValue,a.children)}o=a.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||a.suppressHydrationWarning===!0||bm(n.textContent,o)?(a.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),a.onScroll!=null&&Te("scroll",n),a.onScrollEnd!=null&&Te("scrollend",n),a.onClick!=null&&(n.onclick=mn),n=!0):n=!1,n||zn(e,!0)}function ff(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:rt=rt.return}}function nl(e){if(e!==rt)return!1;if(!Ce)return ff(e),Ce=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||gu(e.type,e.memoizedProps)),o=!o),o&&Oe&&zn(e),ff(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Oe=Hm(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Oe=Hm(e)}else n===27?(n=Oe,ei(e.type)?(e=_u,_u=null,Oe=e):Oe=n):Oe=rt?Jt(e.stateNode.nextSibling):null;return!0}function Ei(){Oe=rt=null,Ce=!1}function ja(){var e=kn;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),kn=null),e}function Zl(e){kn===null?kn=[e]:kn.push(e)}var er=M(null),xi=null,yn=null;function Pn(e,n,o){$(er,n._currentValue),n._currentValue=o}function vn(e){e._currentValue=er.current,B(er)}function tr(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function nr(e,n,o,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=d;for(var A=0;A<n.length;A++)if(x.context===n[A]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),tr(p.return,o,e),a||(T=null);break e}p=x.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(s(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),tr(T,o,e),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===e){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function il(e,n,o,a){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var x=d.type;Nt(d.pendingProps.value,T.value)||(e!==null?e.push(x):e=[x])}}else if(d===xe.current){if(T=d.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Co):e=[Co])}d=d.return}e!==null&&nr(n,e,o,a),n.flags|=262144}function ss(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){xi=e,yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return df(xi,e)}function as(e,n){return xi===null&&Ci(e),df(e,n)}function df(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},yn===null){if(e===null)throw Error(s(308));yn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yn=yn.next=n;return o}var B0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},O0=i.unstable_scheduleCallback,F0=i.unstable_NormalPriority,We={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ir(){return{controller:new B0,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&O0(F0,function(){e.controller.abort()})}var Wl=null,lr=0,ll=0,ol=null;function J0(e,n){if(Wl===null){var o=Wl=[];lr=0,ll=au(),ol={status:"pending",value:void 0,then:function(a){o.push(a)}}}return lr++,n.then(mf,mf),n}function mf(){if(--lr===0&&Wl!==null){ol!==null&&(ol.status="fulfilled");var e=Wl;Wl=null,ll=0,ol=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Y0(e,n){var o=[],a={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(a.status="rejected",a.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),a}var pf=q.S;q.S=function(e,n){$d=it(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&J0(e,n),pf!==null&&pf(e,n)};var Ai=M(null);function or(){var e=Ai.current;return e!==null?e:ke.pooledCache}function rs(e,n){n===null?$(Ai,Ai.current):$(Ai,n.pool)}function hf(){var e=or();return e===null?null:{parent:We._currentValue,pool:e}}var sl=Error(s(460)),sr=Error(s(474)),us=Error(s(542)),cs={then:function(){}};function gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yf(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(mn,mn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tf(e),e;default:if(typeof n.status=="string")n.then(mn,mn);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=a}},function(a){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Tf(e),e}throw bi=n,sl}}function Ni(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(bi=o,sl):o}}var bi=null;function vf(){if(bi===null)throw Error(s(459));var e=bi;return bi=null,e}function Tf(e){if(e===sl||e===us)throw Error(s(483))}var al=null,jl=0;function fs(e){var n=jl;return jl+=1,al===null&&(al=[]),yf(al,e,n)}function eo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ds(e,n){throw n.$$typeof===E?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Sf(e){function n(w,b){if(e){var U=w.deletions;U===null?(w.deletions=[b],w.flags|=16):U.push(b)}}function o(w,b){if(!e)return null;for(;b!==null;)n(w,b),b=b.sibling;return null}function a(w){for(var b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function d(w,b){return w=hn(w,b),w.index=0,w.sibling=null,w}function p(w,b,U){return w.index=U,e?(U=w.alternate,U!==null?(U=U.index,U<b?(w.flags|=67108866,b):U):(w.flags|=67108866,b)):(w.flags|=1048576,b)}function T(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function x(w,b,U,z){return b===null||b.tag!==6?(b=Xa(U,w.mode,z),b.return=w,b):(b=d(b,U),b.return=w,b)}function A(w,b,U,z){var se=U.type;return se===I?V(w,b,U.props.children,z,U.key):b!==null&&(b.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Ni(se)===b.type)?(b=d(b,U.props),eo(b,U),b.return=w,b):(b=ls(U.type,U.key,U.props,null,w.mode,z),eo(b,U),b.return=w,b)}function L(w,b,U,z){return b===null||b.tag!==4||b.stateNode.containerInfo!==U.containerInfo||b.stateNode.implementation!==U.implementation?(b=Qa(U,w.mode,z),b.return=w,b):(b=d(b,U.children||[]),b.return=w,b)}function V(w,b,U,z,se){return b===null||b.tag!==7?(b=_i(U,w.mode,z,se),b.return=w,b):(b=d(b,U),b.return=w,b)}function O(w,b,U){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Xa(""+b,w.mode,U),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return U=ls(b.type,b.key,b.props,null,w.mode,U),eo(U,b),U.return=w,U;case N:return b=Qa(b,w.mode,U),b.return=w,b;case ye:return b=Ni(b),O(w,b,U)}if(Qe(b)||Ne(b))return b=_i(b,w.mode,U,null),b.return=w,b;if(typeof b.then=="function")return O(w,fs(b),U);if(b.$$typeof===k)return O(w,as(w,b),U);ds(w,b)}return null}function G(w,b,U,z){var se=b!==null?b.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return se!==null?null:x(w,b,""+U,z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===se?A(w,b,U,z):null;case N:return U.key===se?L(w,b,U,z):null;case ye:return U=Ni(U),G(w,b,U,z)}if(Qe(U)||Ne(U))return se!==null?null:V(w,b,U,z,null);if(typeof U.then=="function")return G(w,b,fs(U),z);if(U.$$typeof===k)return G(w,b,as(w,U),z);ds(w,U)}return null}function H(w,b,U,z,se){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return w=w.get(U)||null,x(b,w,""+z,se);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return w=w.get(z.key===null?U:z.key)||null,A(b,w,z,se);case N:return w=w.get(z.key===null?U:z.key)||null,L(b,w,z,se);case ye:return z=Ni(z),H(w,b,U,z,se)}if(Qe(z)||Ne(z))return w=w.get(U)||null,V(b,w,z,se,null);if(typeof z.then=="function")return H(w,b,U,fs(z),se);if(z.$$typeof===k)return H(w,b,U,as(b,z),se);ds(b,z)}return null}function ie(w,b,U,z){for(var se=null,Me=null,le=b,ge=b=0,_e=null;le!==null&&ge<U.length;ge++){le.index>ge?(_e=le,le=null):_e=le.sibling;var we=G(w,le,U[ge],z);if(we===null){le===null&&(le=_e);break}e&&le&&we.alternate===null&&n(w,le),b=p(we,b,ge),Me===null?se=we:Me.sibling=we,Me=we,le=_e}if(ge===U.length)return o(w,le),Ce&&gn(w,ge),se;if(le===null){for(;ge<U.length;ge++)le=O(w,U[ge],z),le!==null&&(b=p(le,b,ge),Me===null?se=le:Me.sibling=le,Me=le);return Ce&&gn(w,ge),se}for(le=a(le);ge<U.length;ge++)_e=H(le,w,ge,U[ge],z),_e!==null&&(e&&_e.alternate!==null&&le.delete(_e.key===null?ge:_e.key),b=p(_e,b,ge),Me===null?se=_e:Me.sibling=_e,Me=_e);return e&&le.forEach(function(oi){return n(w,oi)}),Ce&&gn(w,ge),se}function ae(w,b,U,z){if(U==null)throw Error(s(151));for(var se=null,Me=null,le=b,ge=b=0,_e=null,we=U.next();le!==null&&!we.done;ge++,we=U.next()){le.index>ge?(_e=le,le=null):_e=le.sibling;var oi=G(w,le,we.value,z);if(oi===null){le===null&&(le=_e);break}e&&le&&oi.alternate===null&&n(w,le),b=p(oi,b,ge),Me===null?se=oi:Me.sibling=oi,Me=oi,le=_e}if(we.done)return o(w,le),Ce&&gn(w,ge),se;if(le===null){for(;!we.done;ge++,we=U.next())we=O(w,we.value,z),we!==null&&(b=p(we,b,ge),Me===null?se=we:Me.sibling=we,Me=we);return Ce&&gn(w,ge),se}for(le=a(le);!we.done;ge++,we=U.next())we=H(le,w,ge,we.value,z),we!==null&&(e&&we.alternate!==null&&le.delete(we.key===null?ge:we.key),b=p(we,b,ge),Me===null?se=we:Me.sibling=we,Me=we);return e&&le.forEach(function(iv){return n(w,iv)}),Ce&&gn(w,ge),se}function Ve(w,b,U,z){if(typeof U=="object"&&U!==null&&U.type===I&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:e:{for(var se=U.key;b!==null;){if(b.key===se){if(se=U.type,se===I){if(b.tag===7){o(w,b.sibling),z=d(b,U.props.children),z.return=w,w=z;break e}}else if(b.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ye&&Ni(se)===b.type){o(w,b.sibling),z=d(b,U.props),eo(z,U),z.return=w,w=z;break e}o(w,b);break}else n(w,b);b=b.sibling}U.type===I?(z=_i(U.props.children,w.mode,z,U.key),z.return=w,w=z):(z=ls(U.type,U.key,U.props,null,w.mode,z),eo(z,U),z.return=w,w=z)}return T(w);case N:e:{for(se=U.key;b!==null;){if(b.key===se)if(b.tag===4&&b.stateNode.containerInfo===U.containerInfo&&b.stateNode.implementation===U.implementation){o(w,b.sibling),z=d(b,U.children||[]),z.return=w,w=z;break e}else{o(w,b);break}else n(w,b);b=b.sibling}z=Qa(U,w.mode,z),z.return=w,w=z}return T(w);case ye:return U=Ni(U),Ve(w,b,U,z)}if(Qe(U))return ie(w,b,U,z);if(Ne(U)){if(se=Ne(U),typeof se!="function")throw Error(s(150));return U=se.call(U),ae(w,b,U,z)}if(typeof U.then=="function")return Ve(w,b,fs(U),z);if(U.$$typeof===k)return Ve(w,b,as(w,U),z);ds(w,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,b!==null&&b.tag===6?(o(w,b.sibling),z=d(b,U),z.return=w,w=z):(o(w,b),z=Xa(U,w.mode,z),z.return=w,w=z),T(w)):o(w,b)}return function(w,b,U,z){try{jl=0;var se=Ve(w,b,U,z);return al=null,se}catch(le){if(le===sl||le===us)throw le;var Me=bt(29,le,null,w.mode);return Me.lanes=z,Me.return=w,Me}finally{}}}var Ri=Sf(!0),_f=Sf(!1),Bn=!1;function ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function On(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(De&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,n=is(e),lf(e,null,o),n}return ns(e,a,n,o),is(e)}function to(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Po(e,o)}}function ur(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?d=p=n:p=p.next=n}else d=p=n;o={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var cr=!1;function no(){if(cr){var e=ol;if(e!==null)throw e}}function io(e,n,o,a){cr=!1;var d=e.updateQueue;Bn=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var A=x,L=A.next;A.next=null,T===null?p=L:T.next=L,T=A;var V=e.alternate;V!==null&&(V=V.updateQueue,x=V.lastBaseUpdate,x!==T&&(x===null?V.firstBaseUpdate=L:x.next=L,V.lastBaseUpdate=A))}if(p!==null){var O=d.baseState;T=0,V=L=A=null,x=p;do{var G=x.lane&-536870913,H=G!==x.lane;if(H?(Se&G)===G:(a&G)===G){G!==0&&G===ll&&(cr=!0),V!==null&&(V=V.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ie=e,ae=x;G=n;var Ve=o;switch(ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){O=ie.call(Ve,O,G);break e}O=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,G=typeof ie=="function"?ie.call(Ve,O,G):ie,G==null)break e;O=_({},O,G);break e;case 2:Bn=!0}}G=x.callback,G!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[G]:H.push(G))}else H={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},V===null?(L=V=H,A=O):V=V.next=H,T|=G;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;H=x,x=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);V===null&&(A=O),d.baseState=A,d.firstBaseUpdate=L,d.lastBaseUpdate=V,p===null&&(d.shared.lanes=0),Qn|=T,e.lanes=T,e.memoizedState=O}}function Ef(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function xf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Ef(o[e],n)}var rl=M(null),ms=M(0);function Cf(e,n){e=bn,$(ms,e),$(rl,n),bn=e|n.baseLanes}function fr(){$(ms,bn),$(rl,rl.current)}function dr(){bn=ms.current,B(rl),B(ms)}var Rt=M(null),Ft=null;function Jn(e){var n=e.alternate;$(Ze,Ze.current&1),$(Rt,e),Ft===null&&(n===null||rl.current!==null||n.memoizedState!==null)&&(Ft=e)}function mr(e){$(Ze,Ze.current),$(Rt,e),Ft===null&&(Ft=e)}function Af(e){e.tag===22?($(Ze,Ze.current),$(Rt,e),Ft===null&&(Ft=e)):Yn()}function Yn(){$(Ze,Ze.current),$(Rt,Rt.current)}function Mt(e){B(Rt),Ft===e&&(Ft=null),B(Ze)}var Ze=M(0);function ps(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Tu(o)||Su(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tn=0,pe=null,He=null,je=null,hs=!1,ul=!1,Mi=!1,gs=0,lo=0,cl=null,K0=0;function Ke(){throw Error(s(321))}function pr(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Nt(e[o],n[o]))return!1;return!0}function hr(e,n,o,a,d,p){return Tn=p,pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?rd:wr,Mi=!1,p=o(a,d),Mi=!1,ul&&(p=bf(n,o,a,d)),Nf(e),p}function Nf(e){q.H=ao;var n=He!==null&&He.next!==null;if(Tn=0,je=He=pe=null,hs=!1,lo=0,cl=null,n)throw Error(s(300));e===null||et||(e=e.dependencies,e!==null&&ss(e)&&(et=!0))}function bf(e,n,o,a){pe=e;var d=0;do{if(ul&&(cl=null),lo=0,ul=!1,25<=d)throw Error(s(301));if(d+=1,je=He=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=ud,p=n(o,a)}while(ul);return p}function X0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?oo(n):n,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(pe.flags|=1024),n}function gr(){var e=gs!==0;return gs=0,e}function yr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function vr(e){if(hs){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}hs=!1}Tn=0,je=He=pe=null,ul=!1,lo=gs=0,cl=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?pe.memoizedState=je=e:je=je.next=e,je}function $e(){if(He===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var n=je===null?pe.memoizedState:je.next;if(n!==null)je=n,He=e;else{if(e===null)throw pe.alternate===null?Error(s(467)):Error(s(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},je===null?pe.memoizedState=je=e:je=je.next=e}return je}function ys(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(e){var n=lo;return lo+=1,cl===null&&(cl=[]),e=yf(cl,e,n),n=pe,(je===null?n.memoizedState:je.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?rd:wr),e}function vs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oo(e);if(e.$$typeof===k)return ut(e)}throw Error(s(438,String(e)))}function Tr(e){var n=null,o=pe.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var a=pe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=ys(),pe.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),a=0;a<e;a++)o[a]=he;return n.index++,o}function Sn(e,n){return typeof n=="function"?n(e):n}function Ts(e){var n=$e();return Sr(n,He,e)}function Sr(e,n,o){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=o;var d=e.baseQueue,p=a.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}n.baseQueue=d=p,a.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var x=T=null,A=null,L=n,V=!1;do{var O=L.lane&-536870913;if(O!==L.lane?(Se&O)===O:(Tn&O)===O){var G=L.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),O===ll&&(V=!0);else if((Tn&G)===G){L=L.next,G===ll&&(V=!0);continue}else O={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(x=A=O,T=p):A=A.next=O,pe.lanes|=G,Qn|=G;O=L.action,Mi&&o(p,O),p=L.hasEagerState?L.eagerState:o(p,O)}else G={lane:O,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},A===null?(x=A=G,T=p):A=A.next=G,pe.lanes|=O,Qn|=O;L=L.next}while(L!==null&&L!==n);if(A===null?T=p:A.next=x,!Nt(p,e.memoizedState)&&(et=!0,V&&(o=ol,o!==null)))throw o;e.memoizedState=p,e.baseState=T,e.baseQueue=A,a.lastRenderedState=p}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function _r(e){var n=$e(),o=n.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var a=o.dispatch,d=o.pending,p=n.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do p=e(p,T.action),T=T.next;while(T!==d);Nt(p,n.memoizedState)||(et=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,a]}function Rf(e,n,o){var a=pe,d=$e(),p=Ce;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=n();var T=!Nt((He||d).memoizedState,o);if(T&&(d.memoizedState=o,et=!0),d=d.queue,Cr(If.bind(null,a,d,e),[e]),d.getSnapshot!==n||T||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,fl(9,{destroy:void 0},wf.bind(null,a,d,o,n),null),ke===null)throw Error(s(349));p||(Tn&127)!==0||Mf(a,n,o)}return o}function Mf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=pe.updateQueue,n===null?(n=ys(),pe.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function wf(e,n,o,a){n.value=o,n.getSnapshot=a,Df(n)&&Uf(e)}function If(e,n,o){return o(function(){Df(n)&&Uf(e)})}function Df(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Nt(e,o)}catch{return!0}}function Uf(e){var n=Si(e,2);n!==null&&Ct(n,e,2)}function Er(e){var n=gt();if(typeof e=="function"){var o=e;if(e=o(),Mi){tn(!0);try{o()}finally{tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},n}function Lf(e,n,o,a){return e.baseState=o,Sr(e,He,typeof a=="function"?a:Sn)}function Q0(e,n,o,a,d){if(Es(e))throw Error(s(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};q.T!==null?o(!0):p.isTransition=!1,a(p),o=n.pending,o===null?(p.next=n.pending=p,Gf(n,p)):(p.next=o.next,n.pending=o.next=p)}}function Gf(e,n){var o=n.action,a=n.payload,d=e.state;if(n.isTransition){var p=q.T,T={};q.T=T;try{var x=o(d,a),A=q.S;A!==null&&A(T,x),Hf(e,n,x)}catch(L){xr(e,n,L)}finally{p!==null&&T.types!==null&&(p.types=T.types),q.T=p}}else try{p=o(d,a),Hf(e,n,p)}catch(L){xr(e,n,L)}}function Hf(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(a){qf(e,n,a)},function(a){return xr(e,n,a)}):qf(e,n,o)}function qf(e,n,o){n.status="fulfilled",n.value=o,Vf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Gf(e,o)))}function xr(e,n,o){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=o,Vf(n),n=n.next;while(n!==a)}e.action=null}function Vf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kf(e,n){return n}function zf(e,n){if(Ce){var o=ke.formState;if(o!==null){e:{var a=pe;if(Ce){if(Oe){t:{for(var d=Oe,p=Ot;d.nodeType!==8;){if(!p){d=null;break t}if(d=Jt(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Oe=Jt(d.nextSibling),a=d.data==="F!";break e}}zn(a)}a=!1}a&&(n=o[0])}}return o=gt(),o.memoizedState=o.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:n},o.queue=a,o=od.bind(null,pe,a),a.dispatch=o,a=Er(!1),p=Mr.bind(null,pe,!1,a.queue),a=gt(),d={state:n,dispatch:null,action:e,pending:null},a.queue=d,o=Q0.bind(null,pe,d,p,o),d.dispatch=o,a.memoizedState=e,[n,o,!1]}function Pf(e){var n=$e();return Bf(n,He,e)}function Bf(e,n,o){if(n=Sr(e,n,kf)[0],e=Ts(Sn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=oo(n)}catch(T){throw T===sl?us:T}else a=n;n=$e();var d=n.queue,p=d.dispatch;return o!==n.memoizedState&&(pe.flags|=2048,fl(9,{destroy:void 0},Z0.bind(null,d,o),null)),[a,p,e]}function Z0(e,n){e.action=n}function Of(e){var n=$e(),o=He;if(o!==null)return Bf(n,o,e);$e(),n=n.memoizedState,o=$e();var a=o.queue.dispatch;return o.memoizedState=e,[n,a,!1]}function fl(e,n,o,a){return e={tag:e,create:o,deps:a,inst:n,next:null},n=pe.updateQueue,n===null&&(n=ys(),pe.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e),e}function Ff(){return $e().memoizedState}function Ss(e,n,o,a){var d=gt();pe.flags|=e,d.memoizedState=fl(1|n,{destroy:void 0},o,a===void 0?null:a)}function _s(e,n,o,a){var d=$e();a=a===void 0?null:a;var p=d.memoizedState.inst;He!==null&&a!==null&&pr(a,He.memoizedState.deps)?d.memoizedState=fl(n,p,o,a):(pe.flags|=e,d.memoizedState=fl(1|n,p,o,a))}function Jf(e,n){Ss(8390656,8,e,n)}function Cr(e,n){_s(2048,8,e,n)}function $0(e){pe.flags|=4;var n=pe.updateQueue;if(n===null)n=ys(),pe.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Yf(e){var n=$e().memoizedState;return $0({ref:n,nextImpl:e}),function(){if((De&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Kf(e,n){return _s(4,2,e,n)}function Xf(e,n){return _s(4,4,e,n)}function Qf(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zf(e,n,o){o=o!=null?o.concat([e]):null,_s(4,4,Qf.bind(null,n,e),o)}function Ar(){}function $f(e,n){var o=$e();n=n===void 0?null:n;var a=o.memoizedState;return n!==null&&pr(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function Wf(e,n){var o=$e();n=n===void 0?null:n;var a=o.memoizedState;if(n!==null&&pr(n,a[1]))return a[0];if(a=e(),Mi){tn(!0);try{e()}finally{tn(!1)}}return o.memoizedState=[a,n],a}function Nr(e,n,o){return o===void 0||(Tn&1073741824)!==0&&(Se&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=jd(),pe.lanes|=e,Qn|=e,o)}function jf(e,n,o,a){return Nt(o,n)?o:rl.current!==null?(e=Nr(e,o,a),Nt(e,n)||(et=!0),e):(Tn&42)===0||(Tn&1073741824)!==0&&(Se&261930)===0?(et=!0,e.memoizedState=o):(e=jd(),pe.lanes|=e,Qn|=e,n)}function ed(e,n,o,a,d){var p=Z.p;Z.p=p!==0&&8>p?p:8;var T=q.T,x={};q.T=x,Mr(e,!1,n,o);try{var A=d(),L=q.S;if(L!==null&&L(x,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var V=Y0(A,a);so(e,n,V,Dt(e))}else so(e,n,a,Dt(e))}catch(O){so(e,n,{then:function(){},status:"rejected",reason:O},Dt())}finally{Z.p=p,T!==null&&x.types!==null&&(T.types=x.types),q.T=T}}function W0(){}function br(e,n,o,a){if(e.tag!==5)throw Error(s(476));var d=td(e).queue;ed(e,d,n,oe,o===null?W0:function(){return nd(e),o(a)})}function td(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:oe},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function nd(e){var n=td(e);n.next===null&&(n=e.alternate.memoizedState),so(e,n.next.queue,{},Dt())}function Rr(){return ut(Co)}function id(){return $e().memoizedState}function ld(){return $e().memoizedState}function j0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Dt();e=On(o);var a=Fn(n,e,o);a!==null&&(Ct(a,n,o),to(a,n,o)),n={cache:ir()},e.payload=n;return}n=n.return}}function ey(e,n,o){var a=Dt();o={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Es(e)?sd(n,o):(o=Ya(e,n,o,a),o!==null&&(Ct(o,e,a),ad(o,n,a)))}function od(e,n,o){var a=Dt();so(e,n,o,a)}function so(e,n,o,a){var d={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Es(e))sd(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var T=n.lastRenderedState,x=p(T,o);if(d.hasEagerState=!0,d.eagerState=x,Nt(x,T))return ns(e,n,d,0),ke===null&&ts(),!1}catch{}finally{}if(o=Ya(e,n,d,a),o!==null)return Ct(o,e,a),ad(o,n,a),!0}return!1}function Mr(e,n,o,a){if(a={lane:2,revertLane:au(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Es(e)){if(n)throw Error(s(479))}else n=Ya(e,o,a,2),n!==null&&Ct(n,e,2)}function Es(e){var n=e.alternate;return e===pe||n!==null&&n===pe}function sd(e,n){ul=hs=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function ad(e,n,o){if((o&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Po(e,o)}}var ao={readContext:ut,use:vs,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};ao.useEffectEvent=Ke;var rd={readContext:ut,use:vs,useCallback:function(e,n){return gt().memoizedState=[e,n===void 0?null:n],e},useContext:ut,useEffect:Jf,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Ss(4194308,4,Qf.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Ss(4194308,4,e,n)},useInsertionEffect:function(e,n){Ss(4,2,e,n)},useMemo:function(e,n){var o=gt();n=n===void 0?null:n;var a=e();if(Mi){tn(!0);try{e()}finally{tn(!1)}}return o.memoizedState=[a,n],a},useReducer:function(e,n,o){var a=gt();if(o!==void 0){var d=o(n);if(Mi){tn(!0);try{o(n)}finally{tn(!1)}}}else d=n;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=ey.bind(null,pe,e),[a.memoizedState,e]},useRef:function(e){var n=gt();return e={current:e},n.memoizedState=e},useState:function(e){e=Er(e);var n=e.queue,o=od.bind(null,pe,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Ar,useDeferredValue:function(e,n){var o=gt();return Nr(o,e,n)},useTransition:function(){var e=Er(!1);return e=ed.bind(null,pe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var a=pe,d=gt();if(Ce){if(o===void 0)throw Error(s(407));o=o()}else{if(o=n(),ke===null)throw Error(s(349));(Se&127)!==0||Mf(a,n,o)}d.memoizedState=o;var p={value:o,getSnapshot:n};return d.queue=p,Jf(If.bind(null,a,p,e),[e]),a.flags|=2048,fl(9,{destroy:void 0},wf.bind(null,a,p,o,n),null),o},useId:function(){var e=gt(),n=ke.identifierPrefix;if(Ce){var o=ln,a=nn;o=(a&~(1<<32-ht(a)-1)).toString(32)+o,n="_"+n+"R_"+o,o=gs++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=K0++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rr,useFormState:zf,useActionState:zf,useOptimistic:function(e){var n=gt();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Mr.bind(null,pe,!0,o),o.dispatch=n,[e,n]},useMemoCache:Tr,useCacheRefresh:function(){return gt().memoizedState=j0.bind(null,pe)},useEffectEvent:function(e){var n=gt(),o={impl:e};return n.memoizedState=o,function(){if((De&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},wr={readContext:ut,use:vs,useCallback:$f,useContext:ut,useEffect:Cr,useImperativeHandle:Zf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:Wf,useReducer:Ts,useRef:Ff,useState:function(){return Ts(Sn)},useDebugValue:Ar,useDeferredValue:function(e,n){var o=$e();return jf(o,He.memoizedState,e,n)},useTransition:function(){var e=Ts(Sn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:oo(e),n]},useSyncExternalStore:Rf,useId:id,useHostTransitionStatus:Rr,useFormState:Pf,useActionState:Pf,useOptimistic:function(e,n){var o=$e();return Lf(o,He,e,n)},useMemoCache:Tr,useCacheRefresh:ld};wr.useEffectEvent=Yf;var ud={readContext:ut,use:vs,useCallback:$f,useContext:ut,useEffect:Cr,useImperativeHandle:Zf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:Wf,useReducer:_r,useRef:Ff,useState:function(){return _r(Sn)},useDebugValue:Ar,useDeferredValue:function(e,n){var o=$e();return He===null?Nr(o,e,n):jf(o,He.memoizedState,e,n)},useTransition:function(){var e=_r(Sn)[0],n=$e().memoizedState;return[typeof e=="boolean"?e:oo(e),n]},useSyncExternalStore:Rf,useId:id,useHostTransitionStatus:Rr,useFormState:Of,useActionState:Of,useOptimistic:function(e,n){var o=$e();return He!==null?Lf(o,He,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Tr,useCacheRefresh:ld};ud.useEffectEvent=Yf;function Ir(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:_({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Dr={enqueueSetState:function(e,n,o){e=e._reactInternals;var a=Dt(),d=On(a);d.payload=n,o!=null&&(d.callback=o),n=Fn(e,d,a),n!==null&&(Ct(n,e,a),to(n,e,a))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=Dt(),d=On(a);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Fn(e,d,a),n!==null&&(Ct(n,e,a),to(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Dt(),a=On(o);a.tag=2,n!=null&&(a.callback=n),n=Fn(e,a,o),n!==null&&(Ct(n,e,o),to(n,e,o))}};function cd(e,n,o,a,d,p,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,T):n.prototype&&n.prototype.isPureReactComponent?!Kl(o,a)||!Kl(d,p):!0}function fd(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&Dr.enqueueReplaceState(n,n.state,null)}function wi(e,n){var o=n;if("ref"in n){o={};for(var a in n)a!=="ref"&&(o[a]=n[a])}if(e=e.defaultProps){o===n&&(o=_({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function dd(e){es(e)}function md(e){console.error(e)}function pd(e){es(e)}function xs(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function hd(e,n,o){try{var a=e.onCaughtError;a(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Ur(e,n,o){return o=On(o),o.tag=3,o.payload={element:null},o.callback=function(){xs(e,n)},o}function gd(e){return e=On(e),e.tag=3,e}function yd(e,n,o,a){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=a.value;e.payload=function(){return d(p)},e.callback=function(){hd(n,o,a)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){hd(n,o,a),typeof d!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})})}function ty(e,n,o,a,d){if(o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=o.alternate,n!==null&&il(n,o,d,!0),o=Rt.current,o!==null){switch(o.tag){case 31:case 13:return Ft===null?Gs():o.alternate===null&&Xe===0&&(Xe=3),o.flags&=-257,o.flags|=65536,o.lanes=d,a===cs?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([a]):n.add(a),lu(e,a,d)),!1;case 22:return o.flags|=65536,a===cs?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([a]):o.add(a)),lu(e,a,d)),!1}throw Error(s(435,o.tag))}return lu(e,a,d),Gs(),!1}if(Ce)return n=Rt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,a!==Wa&&(e=Error(s(422),{cause:a}),Zl(zt(e,o)))):(a!==Wa&&(n=Error(s(423),{cause:a}),Zl(zt(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=zt(a,o),d=Ur(e.stateNode,a,d),ur(e,d),Xe!==4&&(Xe=2)),!1;var p=Error(s(520),{cause:a});if(p=zt(p,o),go===null?go=[p]:go.push(p),Xe!==4&&(Xe=2),n===null)return!0;a=zt(a,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Ur(o.stateNode,a,e),ur(o,e),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Zn===null||!Zn.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=gd(d),yd(d,e,o,a),ur(o,d),!1}o=o.return}while(o!==null);return!1}var Lr=Error(s(461)),et=!1;function ct(e,n,o,a){n.child=e===null?_f(n,null,o,a):Ri(n,e.child,o,a)}function vd(e,n,o,a,d){o=o.render;var p=n.ref;if("ref"in a){var T={};for(var x in a)x!=="ref"&&(T[x]=a[x])}else T=a;return Ci(n),a=hr(e,n,o,T,p,d),x=gr(),e!==null&&!et?(yr(e,n,d),_n(e,n,d)):(Ce&&x&&Za(n),n.flags|=1,ct(e,n,a,d),n.child)}function Td(e,n,o,a,d){if(e===null){var p=o.type;return typeof p=="function"&&!Ka(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,Sd(e,n,p,a,d)):(e=ls(o.type,null,a,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Br(e,d)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Kl,o(T,a)&&e.ref===n.ref)return _n(e,n,d)}return n.flags|=1,e=hn(p,a),e.ref=n.ref,e.return=n,n.child=e}function Sd(e,n,o,a,d){if(e!==null){var p=e.memoizedProps;if(Kl(p,a)&&e.ref===n.ref)if(et=!1,n.pendingProps=a=p,Br(e,d))(e.flags&131072)!==0&&(et=!0);else return n.lanes=e.lanes,_n(e,n,d)}return Gr(e,n,o,a,d)}function _d(e,n,o,a){var d=a.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(a=n.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~p}else a=0,n.child=null;return Ed(e,n,p,o,a)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&rs(n,p!==null?p.cachePool:null),p!==null?Cf(n,p):fr(),Af(n);else return a=n.lanes=536870912,Ed(e,n,p!==null?p.baseLanes|o:o,o,a)}else p!==null?(rs(n,p.cachePool),Cf(n,p),Yn(),n.memoizedState=null):(e!==null&&rs(n,null),fr(),Yn());return ct(e,n,d,o),n.child}function ro(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ed(e,n,o,a,d){var p=or();return p=p===null?null:{parent:We._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&rs(n,null),fr(),Af(n),e!==null&&il(e,n,a,!0),n.childLanes=d,null}function Cs(e,n){return n=Ns({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function xd(e,n,o){return Ri(n,e.child,null,o),e=Cs(n,n.pendingProps),e.flags|=2,Mt(n),n.memoizedState=null,e}function ny(e,n,o){var a=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ce){if(a.mode==="hidden")return e=Cs(n,a),n.lanes=536870912,ro(null,e);if(mr(n),(e=Oe)?(e=Gm(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=sf(e),o.return=n,n.child=o,rt=n,Oe=null)):e=null,e===null)throw zn(n);return n.lanes=536870912,null}return Cs(n,a)}var p=e.memoizedState;if(p!==null){var T=p.dehydrated;if(mr(n),d)if(n.flags&256)n.flags&=-257,n=xd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(s(558));else if(et||il(e,n,o,!1),d=(o&e.childLanes)!==0,et||d){if(a=ke,a!==null&&(T=Bo(a,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Si(e,T),Ct(a,e,T),Lr;Gs(),n=xd(e,n,o)}else e=p.treeContext,Oe=Jt(T.nextSibling),rt=n,Ce=!0,kn=null,Ot=!1,e!==null&&uf(n,e),n=Cs(n,a),n.flags|=4096;return n}return e=hn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function As(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Gr(e,n,o,a,d){return Ci(n),o=hr(e,n,o,a,void 0,d),a=gr(),e!==null&&!et?(yr(e,n,d),_n(e,n,d)):(Ce&&a&&Za(n),n.flags|=1,ct(e,n,o,d),n.child)}function Cd(e,n,o,a,d,p){return Ci(n),n.updateQueue=null,o=bf(n,a,o,d),Nf(e),a=gr(),e!==null&&!et?(yr(e,n,p),_n(e,n,p)):(Ce&&a&&Za(n),n.flags|=1,ct(e,n,o,p),n.child)}function Ad(e,n,o,a,d){if(Ci(n),n.stateNode===null){var p=ji,T=o.contextType;typeof T=="object"&&T!==null&&(p=ut(T)),p=new o(a,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Dr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=a,p.state=n.memoizedState,p.refs={},ar(n),T=o.contextType,p.context=typeof T=="object"&&T!==null?ut(T):ji,p.state=n.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Ir(n,o,T,a),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Dr.enqueueReplaceState(p,p.state,null),io(n,a,p,d),no(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){p=n.stateNode;var x=n.memoizedProps,A=wi(o,x);p.props=A;var L=p.context,V=o.contextType;T=ji,typeof V=="object"&&V!==null&&(T=ut(V));var O=o.getDerivedStateFromProps;V=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=n.pendingProps!==x,V||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||L!==T)&&fd(n,p,a,T),Bn=!1;var G=n.memoizedState;p.state=G,io(n,a,p,d),no(),L=n.memoizedState,x||G!==L||Bn?(typeof O=="function"&&(Ir(n,o,O,a),L=n.memoizedState),(A=Bn||cd(n,o,A,a,G,L,T))?(V||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=L),p.props=a,p.state=L,p.context=T,a=A):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,rr(e,n),T=n.memoizedProps,V=wi(o,T),p.props=V,O=n.pendingProps,G=p.context,L=o.contextType,A=ji,typeof L=="object"&&L!==null&&(A=ut(L)),x=o.getDerivedStateFromProps,(L=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==O||G!==A)&&fd(n,p,a,A),Bn=!1,G=n.memoizedState,p.state=G,io(n,a,p,d),no();var H=n.memoizedState;T!==O||G!==H||Bn||e!==null&&e.dependencies!==null&&ss(e.dependencies)?(typeof x=="function"&&(Ir(n,o,x,a),H=n.memoizedState),(V=Bn||cd(n,o,V,a,G,H,A)||e!==null&&e.dependencies!==null&&ss(e.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,H,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,H,A)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=H),p.props=a,p.state=H,p.context=A,a=V):(typeof p.componentDidUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),a=!1)}return p=a,As(e,n),a=(n.flags&128)!==0,p||a?(p=n.stateNode,o=a&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&a?(n.child=Ri(n,e.child,null,d),n.child=Ri(n,null,o,d)):ct(e,n,o,d),n.memoizedState=p.state,e=n.child):e=_n(e,n,d),e}function Nd(e,n,o,a){return Ei(),n.flags|=256,ct(e,n,o,a),n.child}var Hr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qr(e){return{baseLanes:e,cachePool:hf()}}function Vr(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=It),e}function bd(e,n,o){var a=n.pendingProps,d=!1,p=(n.flags&128)!==0,T;if((T=p)||(T=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),T&&(d=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ce){if(d?Jn(n):Yn(),(e=Oe)?(e=Gm(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:nn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=sf(e),o.return=n,n.child=o,rt=n,Oe=null)):e=null,e===null)throw zn(n);return Su(e)?n.lanes=32:n.lanes=536870912,null}var x=a.children;return a=a.fallback,d?(Yn(),d=n.mode,x=Ns({mode:"hidden",children:x},d),a=_i(a,d,o,null),x.return=n,a.return=n,x.sibling=a,n.child=x,a=n.child,a.memoizedState=qr(o),a.childLanes=Vr(e,T,o),n.memoizedState=Hr,ro(null,a)):(Jn(n),kr(n,x))}var A=e.memoizedState;if(A!==null&&(x=A.dehydrated,x!==null)){if(p)n.flags&256?(Jn(n),n.flags&=-257,n=zr(e,n,o)):n.memoizedState!==null?(Yn(),n.child=e.child,n.flags|=128,n=null):(Yn(),x=a.fallback,d=n.mode,a=Ns({mode:"visible",children:a.children},d),x=_i(x,d,o,null),x.flags|=2,a.return=n,x.return=n,a.sibling=x,n.child=a,Ri(n,e.child,null,o),a=n.child,a.memoizedState=qr(o),a.childLanes=Vr(e,T,o),n.memoizedState=Hr,n=ro(null,a));else if(Jn(n),Su(x)){if(T=x.nextSibling&&x.nextSibling.dataset,T)var L=T.dgst;T=L,a=Error(s(419)),a.stack="",a.digest=T,Zl({value:a,source:null,stack:null}),n=zr(e,n,o)}else if(et||il(e,n,o,!1),T=(o&e.childLanes)!==0,et||T){if(T=ke,T!==null&&(a=Bo(T,o),a!==0&&a!==A.retryLane))throw A.retryLane=a,Si(e,a),Ct(T,e,a),Lr;Tu(x)||Gs(),n=zr(e,n,o)}else Tu(x)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Oe=Jt(x.nextSibling),rt=n,Ce=!0,kn=null,Ot=!1,e!==null&&uf(n,e),n=kr(n,a.children),n.flags|=4096);return n}return d?(Yn(),x=a.fallback,d=n.mode,A=e.child,L=A.sibling,a=hn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,L!==null?x=hn(L,x):(x=_i(x,d,o,null),x.flags|=2),x.return=n,a.return=n,a.sibling=x,n.child=a,ro(null,a),a=n.child,x=e.child.memoizedState,x===null?x=qr(o):(d=x.cachePool,d!==null?(A=We._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=hf(),x={baseLanes:x.baseLanes|o,cachePool:d}),a.memoizedState=x,a.childLanes=Vr(e,T,o),n.memoizedState=Hr,ro(e.child,a)):(Jn(n),o=e.child,e=o.sibling,o=hn(o,{mode:"visible",children:a.children}),o.return=n,o.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=o,n.memoizedState=null,o)}function kr(e,n){return n=Ns({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ns(e,n){return e=bt(22,e,null,n),e.lanes=0,e}function zr(e,n,o){return Ri(n,e.child,null,o),e=kr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Rd(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),tr(e.return,n,o)}function Pr(e,n,o,a,d,p){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:d,treeForkCount:p}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=a,T.tail=o,T.tailMode=d,T.treeForkCount=p)}function Md(e,n,o){var a=n.pendingProps,d=a.revealOrder,p=a.tail;a=a.children;var T=Ze.current,x=(T&2)!==0;if(x?(T=T&1|2,n.flags|=128):T&=1,$(Ze,T),ct(e,n,a,o),a=Ce?Ql:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rd(e,o,n);else if(e.tag===19)Rd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&ps(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Pr(n,!1,d,o,p,a);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ps(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Pr(n,!0,o,null,p,a);break;case"together":Pr(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function _n(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Qn|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(il(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,o=hn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=hn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function Br(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ss(e)))}function iy(e,n,o){switch(n.tag){case 3:Be(n,n.stateNode.containerInfo),Pn(n,We,e.memoizedState.cache),Ei();break;case 27:case 5:At(n);break;case 4:Be(n,n.stateNode.containerInfo);break;case 10:Pn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mr(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Jn(n),n.flags|=128,null):(o&n.child.childLanes)!==0?bd(e,n,o):(Jn(n),e=_n(e,n,o),e!==null?e.sibling:null);Jn(n);break;case 19:var d=(e.flags&128)!==0;if(a=(o&n.childLanes)!==0,a||(il(e,n,o,!1),a=(o&n.childLanes)!==0),d){if(a)return Md(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(Ze,Ze.current),a)break;return null;case 22:return n.lanes=0,_d(e,n,o,n.pendingProps);case 24:Pn(n,We,e.memoizedState.cache)}return _n(e,n,o)}function wd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)et=!0;else{if(!Br(e,o)&&(n.flags&128)===0)return et=!1,iy(e,n,o);et=(e.flags&131072)!==0}else et=!1,Ce&&(n.flags&1048576)!==0&&rf(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Ni(n.elementType),n.type=e,typeof e=="function")Ka(e)?(a=wi(e,a),n.tag=1,n=Ad(null,n,e,a,o)):(n.tag=0,n=Gr(null,n,e,a,o));else{if(e!=null){var d=e.$$typeof;if(d===K){n.tag=11,n=vd(null,n,e,a,o);break e}else if(d===Q){n.tag=14,n=Td(null,n,e,a,o);break e}}throw n=Ue(e)||e,Error(s(306,n,""))}}return n;case 0:return Gr(e,n,n.type,n.pendingProps,o);case 1:return a=n.type,d=wi(a,n.pendingProps),Ad(e,n,a,d,o);case 3:e:{if(Be(n,n.stateNode.containerInfo),e===null)throw Error(s(387));a=n.pendingProps;var p=n.memoizedState;d=p.element,rr(e,n),io(n,a,null,o);var T=n.memoizedState;if(a=T.cache,Pn(n,We,a),a!==p.cache&&nr(n,[We],o,!0),no(),a=T.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Nd(e,n,a,o);break e}else if(a!==d){d=zt(Error(s(424)),n),Zl(d),n=Nd(e,n,a,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Oe=Jt(e.firstChild),rt=n,Ce=!0,kn=null,Ot=!0,o=_f(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ei(),a===d){n=_n(e,n,o);break e}ct(e,n,a,o)}n=n.child}return n;case 26:return As(e,n),e===null?(o=Pm(n.type,null,n.pendingProps,null))?n.memoizedState=o:Ce||(o=n.type,e=n.pendingProps,a=Bs(re.current).createElement(o),a[X]=n,a[j]=e,ft(a,o,e),lt(a),n.stateNode=a):n.memoizedState=Pm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return At(n),e===null&&Ce&&(a=n.stateNode=Vm(n.type,n.pendingProps,re.current),rt=n,Ot=!0,d=Oe,ei(n.type)?(_u=d,Oe=Jt(a.firstChild)):Oe=d),ct(e,n,n.pendingProps.children,o),As(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ce&&((d=a=Oe)&&(a=Uy(a,n.type,n.pendingProps,Ot),a!==null?(n.stateNode=a,rt=n,Oe=Jt(a.firstChild),Ot=!1,d=!0):d=!1),d||zn(n)),At(n),d=n.type,p=n.pendingProps,T=e!==null?e.memoizedProps:null,a=p.children,gu(d,p)?a=null:T!==null&&gu(d,T)&&(n.flags|=32),n.memoizedState!==null&&(d=hr(e,n,X0,null,null,o),Co._currentValue=d),As(e,n),ct(e,n,a,o),n.child;case 6:return e===null&&Ce&&((e=o=Oe)&&(o=Ly(o,n.pendingProps,Ot),o!==null?(n.stateNode=o,rt=n,Oe=null,e=!0):e=!1),e||zn(n)),null;case 13:return bd(e,n,o);case 4:return Be(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Ri(n,null,a,o):ct(e,n,a,o),n.child;case 11:return vd(e,n,n.type,n.pendingProps,o);case 7:return ct(e,n,n.pendingProps,o),n.child;case 8:return ct(e,n,n.pendingProps.children,o),n.child;case 12:return ct(e,n,n.pendingProps.children,o),n.child;case 10:return a=n.pendingProps,Pn(n,n.type,a.value),ct(e,n,a.children,o),n.child;case 9:return d=n.type._context,a=n.pendingProps.children,Ci(n),d=ut(d),a=a(d),n.flags|=1,ct(e,n,a,o),n.child;case 14:return Td(e,n,n.type,n.pendingProps,o);case 15:return Sd(e,n,n.type,n.pendingProps,o);case 19:return Md(e,n,o);case 31:return ny(e,n,o);case 22:return _d(e,n,o,n.pendingProps);case 24:return Ci(n),a=ut(We),e===null?(d=or(),d===null&&(d=ke,p=ir(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),n.memoizedState={parent:a,cache:d},ar(n),Pn(n,We,d)):((e.lanes&o)!==0&&(rr(e,n),io(n,null,null,o),no()),d=e.memoizedState,p=n.memoizedState,d.parent!==a?(d={parent:a,cache:a},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Pn(n,We,a)):(a=p.cache,Pn(n,We,a),a!==d.cache&&nr(n,[We],o,!0))),ct(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function En(e){e.flags|=4}function Or(e,n,o,a,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(im())e.flags|=8192;else throw bi=cs,sr}else e.flags&=-16777217}function Id(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ym(n))if(im())e.flags|=8192;else throw bi=cs,sr}function bs(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ko():536870912,e.lanes|=n,hl|=n)}function uo(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function ly(e,n,o){var a=n.pendingProps;switch($a(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(n),null;case 1:return Fe(n),null;case 3:return o=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),vn(We),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(nl(n)?En(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ja())),Fe(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(En(n),p!==null?(Fe(n),Id(n,p)):(Fe(n),Or(n,d,null,a,o))):p?p!==e.memoizedState?(En(n),Fe(n),Id(n,p)):(Fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&En(n),Fe(n),Or(n,d,e,a,o)),null;case 27:if(an(n),o=re.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&En(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Fe(n),null}e=ee.current,nl(n)?cf(n):(e=Vm(d,a,o),n.stateNode=e,En(n))}return Fe(n),null;case 5:if(an(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&En(n);else{if(!a){if(n.stateNode===null)throw Error(s(166));return Fe(n),null}if(p=ee.current,nl(n))cf(n);else{var T=Bs(re.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?T.createElement("select",{is:a.is}):T.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?T.createElement(d,{is:a.is}):T.createElement(d)}}p[X]=n,p[j]=a;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=p;e:switch(ft(p,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&En(n)}}return Fe(n),Or(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&En(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(s(166));if(e=re.current,nl(n)){if(e=n.stateNode,o=n.memoizedProps,a=null,d=rt,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[X]=n,e=!!(e.nodeValue===o||a!==null&&a.suppressHydrationWarning===!0||bm(e.nodeValue,o)),e||zn(n,!0)}else e=Bs(e).createTextNode(a),e[X]=n,n.stateNode=e}return Fe(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(a=nl(n),o!==null){if(e===null){if(!a)throw Error(s(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[X]=n}else Ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),e=!1}else o=ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Mt(n),n):(Mt(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Fe(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=nl(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[X]=n}else Ei(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Fe(n),d=!1}else d=ja(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Mt(n),n):(Mt(n),null)}return Mt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=a!==null,e=e!==null&&e.memoizedState!==null,o&&(a=n.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==d&&(a.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),bs(n,n.updateQueue),Fe(n),null);case 4:return Pe(),e===null&&fu(n.stateNode.containerInfo),Fe(n),null;case 10:return vn(n.type),Fe(n),null;case 19:if(B(Ze),a=n.memoizedState,a===null)return Fe(n),null;if(d=(n.flags&128)!==0,p=a.rendering,p===null)if(d)uo(a,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=ps(e),p!==null){for(n.flags|=128,uo(a,!1),e=p.updateQueue,n.updateQueue=e,bs(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)of(o,e),o=o.sibling;return $(Ze,Ze.current&1|2),Ce&&gn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&it()>Ds&&(n.flags|=128,d=!0,uo(a,!1),n.lanes=4194304)}else{if(!d)if(e=ps(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,bs(n,e),uo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ce)return Fe(n),null}else 2*it()-a.renderingStartTime>Ds&&o!==536870912&&(n.flags|=128,d=!0,uo(a,!1),n.lanes=4194304);a.isBackwards?(p.sibling=n.child,n.child=p):(e=a.last,e!==null?e.sibling=p:n.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=it(),e.sibling=null,o=Ze.current,$(Ze,d?o&1|2:o&1),Ce&&gn(n,a.treeForkCount),e):(Fe(n),null);case 22:case 23:return Mt(n),dr(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(o&536870912)!==0&&(n.flags&128)===0&&(Fe(n),n.subtreeFlags&6&&(n.flags|=8192)):Fe(n),o=n.updateQueue,o!==null&&bs(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==o&&(n.flags|=2048),e!==null&&B(Ai),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),vn(We),Fe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function oy(e,n){switch($a(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vn(We),Pe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return an(n),null;case 31:if(n.memoizedState!==null){if(Mt(n),n.alternate===null)throw Error(s(340));Ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Ei()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Ze),null;case 4:return Pe(),null;case 10:return vn(n.type),null;case 22:case 23:return Mt(n),dr(),e!==null&&B(Ai),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vn(We),null;case 25:return null;default:return null}}function Dd(e,n){switch($a(n),n.tag){case 3:vn(We),Pe();break;case 26:case 27:case 5:an(n);break;case 4:Pe();break;case 31:n.memoizedState!==null&&Mt(n);break;case 13:Mt(n);break;case 19:B(Ze);break;case 10:vn(n.type);break;case 22:case 23:Mt(n),dr(),e!==null&&B(Ai);break;case 24:vn(We)}}function co(e,n){try{var o=n.updateQueue,a=o!==null?o.lastEffect:null;if(a!==null){var d=a.next;o=d;do{if((o.tag&e)===e){a=void 0;var p=o.create,T=o.inst;a=p(),T.destroy=a}o=o.next}while(o!==d)}}catch(x){Ge(n,n.return,x)}}function Kn(e,n,o){try{var a=n.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var p=d.next;a=p;do{if((a.tag&e)===e){var T=a.inst,x=T.destroy;if(x!==void 0){T.destroy=void 0,d=n;var A=o,L=x;try{L()}catch(V){Ge(d,A,V)}}}a=a.next}while(a!==p)}}catch(V){Ge(n,n.return,V)}}function Ud(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{xf(n,o)}catch(a){Ge(e,e.return,a)}}}function Ld(e,n,o){o.props=wi(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(a){Ge(e,n,a)}}function fo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof o=="function"?e.refCleanup=o(a):o.current=a}}catch(d){Ge(e,n,d)}}function on(e,n){var o=e.ref,a=e.refCleanup;if(o!==null)if(typeof a=="function")try{a()}catch(d){Ge(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ge(e,n,d)}else o.current=null}function Gd(e){var n=e.type,o=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break e;case"img":o.src?a.src=o.src:o.srcSet&&(a.srcset=o.srcSet)}}catch(d){Ge(e,e.return,d)}}function Fr(e,n,o){try{var a=e.stateNode;by(a,e.type,o,n),a[j]=n}catch(d){Ge(e,e.return,d)}}function Hd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function Jr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yr(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=mn));else if(a!==4&&(a===27&&ei(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(Yr(e,n,o),e=e.sibling;e!==null;)Yr(e,n,o),e=e.sibling}function Rs(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(a===27&&ei(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Rs(e,n,o),e=e.sibling;e!==null;)Rs(e,n,o),e=e.sibling}function qd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var a=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ft(n,a,o),n[X]=e,n[j]=o}catch(p){Ge(e,e.return,p)}}var xn=!1,tt=!1,Kr=!1,Vd=typeof WeakSet=="function"?WeakSet:Set,ot=null;function sy(e,n){if(e=e.containerInfo,pu=Qs,e=Qc(e),za(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var d=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,x=-1,A=-1,L=0,V=0,O=e,G=null;t:for(;;){for(var H;O!==o||d!==0&&O.nodeType!==3||(x=T+d),O!==p||a!==0&&O.nodeType!==3||(A=T+a),O.nodeType===3&&(T+=O.nodeValue.length),(H=O.firstChild)!==null;)G=O,O=H;for(;;){if(O===e)break t;if(G===o&&++L===d&&(x=T),G===p&&++V===a&&(A=T),(H=O.nextSibling)!==null)break;O=G,G=O.parentNode}O=H}o=x===-1||A===-1?null:{start:x,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(hu={focusedElem:e,selectionRange:o},Qs=!1,ot=n;ot!==null;)if(n=ot,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ot=e;else for(;ot!==null;){switch(n=ot,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=n,d=p.memoizedProps,p=p.memoizedState,a=o.stateNode;try{var ie=wi(o.type,d);e=a.getSnapshotBeforeUpdate(ie,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(ae){Ge(o,o.return,ae)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)vu(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,ot=e;break}ot=n.return}}function kd(e,n,o){var a=o.flags;switch(o.tag){case 0:case 11:case 15:An(e,o),a&4&&co(5,o);break;case 1:if(An(e,o),a&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(T){Ge(o,o.return,T)}else{var d=wi(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Ge(o,o.return,T)}}a&64&&Ud(o),a&512&&fo(o,o.return);break;case 3:if(An(e,o),a&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{xf(e,n)}catch(T){Ge(o,o.return,T)}}break;case 27:n===null&&a&4&&qd(o);case 26:case 5:An(e,o),n===null&&a&4&&Gd(o),a&512&&fo(o,o.return);break;case 12:An(e,o);break;case 31:An(e,o),a&4&&Bd(e,o);break;case 13:An(e,o),a&4&&Od(e,o),a&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=hy.bind(null,o),Gy(e,o))));break;case 22:if(a=o.memoizedState!==null||xn,!a){n=n!==null&&n.memoizedState!==null||tt,d=xn;var p=tt;xn=a,(tt=n)&&!p?Nn(e,o,(o.subtreeFlags&8772)!==0):An(e,o),xn=d,tt=p}break;case 30:break;default:An(e,o)}}function zd(e){var n=e.alternate;n!==null&&(e.alternate=null,zd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&cn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,St=!1;function Cn(e,n,o){for(o=o.child;o!==null;)Pd(e,n,o),o=o.sibling}function Pd(e,n,o){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 26:tt||on(o,n),Cn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:tt||on(o,n);var a=Je,d=St;ei(o.type)&&(Je=o.stateNode,St=!1),Cn(e,n,o),_o(o.stateNode),Je=a,St=d;break;case 5:tt||on(o,n);case 6:if(a=Je,d=St,Je=null,Cn(e,n,o),Je=a,St=d,Je!==null)if(St)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(o.stateNode)}catch(p){Ge(o,n,p)}else try{Je.removeChild(o.stateNode)}catch(p){Ge(o,n,p)}break;case 18:Je!==null&&(St?(e=Je,Um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),xl(e)):Um(Je,o.stateNode));break;case 4:a=Je,d=St,Je=o.stateNode.containerInfo,St=!0,Cn(e,n,o),Je=a,St=d;break;case 0:case 11:case 14:case 15:Kn(2,o,n),tt||Kn(4,o,n),Cn(e,n,o);break;case 1:tt||(on(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"&&Ld(o,n,a)),Cn(e,n,o);break;case 21:Cn(e,n,o);break;case 22:tt=(a=tt)||o.memoizedState!==null,Cn(e,n,o),tt=a;break;default:Cn(e,n,o)}}function Bd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xl(e)}catch(o){Ge(n,n.return,o)}}}function Od(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xl(e)}catch(o){Ge(n,n.return,o)}}function ay(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Vd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Vd),n;default:throw Error(s(435,e.tag))}}function Ms(e,n){var o=ay(e);n.forEach(function(a){if(!o.has(a)){o.add(a);var d=gy.bind(null,e,a);a.then(d,d)}})}function _t(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var d=o[a],p=e,T=n,x=T;e:for(;x!==null;){switch(x.tag){case 27:if(ei(x.type)){Je=x.stateNode,St=!1;break e}break;case 5:Je=x.stateNode,St=!1;break e;case 3:case 4:Je=x.stateNode.containerInfo,St=!0;break e}x=x.return}if(Je===null)throw Error(s(160));Pd(p,T,d),Je=null,St=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fd(n,e),n=n.sibling}var Zt=null;function Fd(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(n,e),Et(e),a&4&&(Kn(3,e,e.return),co(3,e),Kn(5,e,e.return));break;case 1:_t(n,e),Et(e),a&512&&(tt||o===null||on(o,o.return)),a&64&&xn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?a:o.concat(a))));break;case 26:var d=Zt;if(_t(n,e),Et(e),a&512&&(tt||o===null||on(o,o.return)),a&4){var p=o!==null?o.memoizedState:null;if(a=e.memoizedState,o===null)if(a===null)if(e.stateNode===null){e:{a=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Xt]||p[X]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(a),d.head.insertBefore(p,d.querySelector("head > title"))),ft(p,a,o),p[X]=e,lt(p),a=p;break e;case"link":var T=Fm("link","href",d).get(a+(o.href||""));if(T){for(var x=0;x<T.length;x++)if(p=T[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(x,1);break t}}p=d.createElement(a),ft(p,a,o),d.head.appendChild(p);break;case"meta":if(T=Fm("meta","content",d).get(a+(o.content||""))){for(x=0;x<T.length;x++)if(p=T[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(x,1);break t}}p=d.createElement(a),ft(p,a,o),d.head.appendChild(p);break;default:throw Error(s(468,a))}p[X]=e,lt(p),a=p}e.stateNode=a}else Jm(d,e.type,e.stateNode);else e.stateNode=Om(d,a,e.memoizedProps);else p!==a?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,a===null?Jm(d,e.type,e.stateNode):Om(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Fr(e,e.memoizedProps,o.memoizedProps)}break;case 27:_t(n,e),Et(e),a&512&&(tt||o===null||on(o,o.return)),o!==null&&a&4&&Fr(e,e.memoizedProps,o.memoizedProps);break;case 5:if(_t(n,e),Et(e),a&512&&(tt||o===null||on(o,o.return)),e.flags&32){d=e.stateNode;try{Yi(d,"")}catch(ie){Ge(e,e.return,ie)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,Fr(e,d,o!==null?o.memoizedProps:d)),a&1024&&(Kr=!0);break;case 6:if(_t(n,e),Et(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,o=e.stateNode;try{o.nodeValue=a}catch(ie){Ge(e,e.return,ie)}}break;case 3:if(Js=null,d=Zt,Zt=Os(n.containerInfo),_t(n,e),Zt=d,Et(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{xl(n.containerInfo)}catch(ie){Ge(e,e.return,ie)}Kr&&(Kr=!1,Jd(e));break;case 4:a=Zt,Zt=Os(e.stateNode.containerInfo),_t(n,e),Et(e),Zt=a;break;case 12:_t(n,e),Et(e);break;case 31:_t(n,e),Et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ms(e,a)));break;case 13:_t(n,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Is=it()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ms(e,a)));break;case 22:d=e.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,L=xn,V=tt;if(xn=L||d,tt=V||A,_t(n,e),tt=V,xn=L,Et(e),a&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||A||xn||tt||Ii(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){A=o=n;try{if(p=A.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{x=A.stateNode;var O=A.memoizedProps.style,G=O!=null&&O.hasOwnProperty("display")?O.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(ie){Ge(A,A.return,ie)}}}else if(n.tag===6){if(o===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ie){Ge(A,A.return,ie)}}}else if(n.tag===18){if(o===null){A=n;try{var H=A.stateNode;d?Lm(H,!0):Lm(A.stateNode,!1)}catch(ie){Ge(A,A.return,ie)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(o=a.retryQueue,o!==null&&(a.retryQueue=null,Ms(e,o))));break;case 19:_t(n,e),Et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ms(e,a)));break;case 30:break;case 21:break;default:_t(n,e),Et(e)}}function Et(e){var n=e.flags;if(n&2){try{for(var o,a=e.return;a!==null;){if(Hd(a)){o=a;break}a=a.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=Jr(e);Rs(e,p,d);break;case 5:var T=o.stateNode;o.flags&32&&(Yi(T,""),o.flags&=-33);var x=Jr(e);Rs(e,x,T);break;case 3:case 4:var A=o.stateNode.containerInfo,L=Jr(e);Yr(e,L,A);break;default:throw Error(s(161))}}catch(V){Ge(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Jd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Jd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function An(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kd(e,n.alternate,n),n=n.sibling}function Ii(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Kn(4,n,n.return),Ii(n);break;case 1:on(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Ld(n,n.return,o),Ii(n);break;case 27:_o(n.stateNode);case 26:case 5:on(n,n.return),Ii(n);break;case 22:n.memoizedState===null&&Ii(n);break;case 30:Ii(n);break;default:Ii(n)}e=e.sibling}}function Nn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,d=e,p=n,T=p.flags;switch(p.tag){case 0:case 11:case 15:Nn(d,p,o),co(4,p);break;case 1:if(Nn(d,p,o),a=p,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(L){Ge(a,a.return,L)}if(a=p,d=a.updateQueue,d!==null){var x=a.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Ef(A[d],x)}catch(L){Ge(a,a.return,L)}}o&&T&64&&Ud(p),fo(p,p.return);break;case 27:qd(p);case 26:case 5:Nn(d,p,o),o&&a===null&&T&4&&Gd(p),fo(p,p.return);break;case 12:Nn(d,p,o);break;case 31:Nn(d,p,o),o&&T&4&&Bd(d,p);break;case 13:Nn(d,p,o),o&&T&4&&Od(d,p);break;case 22:p.memoizedState===null&&Nn(d,p,o),fo(p,p.return);break;case 30:break;default:Nn(d,p,o)}n=n.sibling}}function Xr(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&$l(o))}function Qr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$l(e))}function $t(e,n,o,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yd(e,n,o,a),n=n.sibling}function Yd(e,n,o,a){var d=n.flags;switch(n.tag){case 0:case 11:case 15:$t(e,n,o,a),d&2048&&co(9,n);break;case 1:$t(e,n,o,a);break;case 3:$t(e,n,o,a),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$l(e)));break;case 12:if(d&2048){$t(e,n,o,a),e=n.stateNode;try{var p=n.memoizedProps,T=p.id,x=p.onPostCommit;typeof x=="function"&&x(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ge(n,n.return,A)}}else $t(e,n,o,a);break;case 31:$t(e,n,o,a);break;case 13:$t(e,n,o,a);break;case 23:break;case 22:p=n.stateNode,T=n.alternate,n.memoizedState!==null?p._visibility&2?$t(e,n,o,a):mo(e,n):p._visibility&2?$t(e,n,o,a):(p._visibility|=2,dl(e,n,o,a,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Xr(T,n);break;case 24:$t(e,n,o,a),d&2048&&Qr(n.alternate,n);break;default:$t(e,n,o,a)}}function dl(e,n,o,a,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,T=n,x=o,A=a,L=T.flags;switch(T.tag){case 0:case 11:case 15:dl(p,T,x,A,d),co(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?dl(p,T,x,A,d):mo(p,T):(V._visibility|=2,dl(p,T,x,A,d)),d&&L&2048&&Xr(T.alternate,T);break;case 24:dl(p,T,x,A,d),d&&L&2048&&Qr(T.alternate,T);break;default:dl(p,T,x,A,d)}n=n.sibling}}function mo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,a=n,d=a.flags;switch(a.tag){case 22:mo(o,a),d&2048&&Xr(a.alternate,a);break;case 24:mo(o,a),d&2048&&Qr(a.alternate,a);break;default:mo(o,a)}n=n.sibling}}var po=8192;function ml(e,n,o){if(e.subtreeFlags&po)for(e=e.child;e!==null;)Kd(e,n,o),e=e.sibling}function Kd(e,n,o){switch(e.tag){case 26:ml(e,n,o),e.flags&po&&e.memoizedState!==null&&Ky(o,Zt,e.memoizedState,e.memoizedProps);break;case 5:ml(e,n,o);break;case 3:case 4:var a=Zt;Zt=Os(e.stateNode.containerInfo),ml(e,n,o),Zt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=po,po=16777216,ml(e,n,o),po=a):ml(e,n,o));break;default:ml(e,n,o)}}function Xd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ho(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];ot=a,Zd(a,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qd(e),e=e.sibling}function Qd(e){switch(e.tag){case 0:case 11:case 15:ho(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:ho(e);break;case 12:ho(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ws(e)):ho(e);break;default:ho(e)}}function ws(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];ot=a,Zd(a,e)}Xd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Kn(8,n,n.return),ws(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,ws(n));break;default:ws(n)}e=e.sibling}}function Zd(e,n){for(;ot!==null;){var o=ot;switch(o.tag){case 0:case 11:case 15:Kn(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var a=o.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$l(o.memoizedState.cache)}if(a=o.child,a!==null)a.return=o,ot=a;else e:for(o=e;ot!==null;){a=ot;var d=a.sibling,p=a.return;if(zd(a),a===o){ot=null;break e}if(d!==null){d.return=p,ot=d;break e}ot=p}}}var ry={getCacheForType:function(e){var n=ut(We),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return ut(We).controller.signal}},uy=typeof WeakMap=="function"?WeakMap:Map,De=0,ke=null,ve=null,Se=0,Le=0,wt=null,Xn=!1,pl=!1,Zr=!1,bn=0,Xe=0,Qn=0,Di=0,$r=0,It=0,hl=0,go=null,xt=null,Wr=!1,Is=0,$d=0,Ds=1/0,Us=null,Zn=null,nt=0,$n=null,gl=null,Rn=0,jr=0,eu=null,Wd=null,yo=0,tu=null;function Dt(){return(De&2)!==0&&Se!==0?Se&-Se:q.T!==null?au():Oo()}function jd(){if(It===0)if((Se&536870912)===0||Ce){var e=zi;zi<<=1,(zi&3932160)===0&&(zi=262144),It=e}else It=536870912;return e=Rt.current,e!==null&&(e.flags|=32),It}function Ct(e,n,o){(e===ke&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(yl(e,0),Wn(e,Se,It,!1)),hi(e,o),((De&2)===0||e!==ke)&&(e===ke&&((De&2)===0&&(Di|=o),Xe===4&&Wn(e,Se,It,!1)),sn(e))}function em(e,n,o){if((De&6)!==0)throw Error(s(327));var a=!o&&(n&127)===0&&(n&e.expiredLanes)===0||pi(e,n),d=a?dy(e,n):iu(e,n,!0),p=a;do{if(d===0){pl&&!a&&Wn(e,n,0,!1);break}else{if(o=e.current.alternate,p&&!cy(o)){d=iu(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var x=e;d=go;var A=x.current.memoizedState.isDehydrated;if(A&&(yl(x,T).flags|=256),T=iu(x,T,!1),T!==2){if(Zr&&!A){x.errorRecoveryDisabledLanes|=p,Di|=p,d=4;break e}p=xt,xt=d,p!==null&&(xt===null?xt=p:xt.push.apply(xt,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){yl(e,0),Wn(e,n,0,!0);break}e:{switch(a=e,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Wn(a,n,It,!Xn);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(d=Is+300-it(),10<d)){if(Wn(a,n,It,!Xn),Hn(a,0,!0)!==0)break e;Rn=n,a.timeoutHandle=Im(tm.bind(null,a,o,xt,Us,Wr,n,It,Di,hl,Xn,p,"Throttled",-0,0),d);break e}tm(a,o,xt,Us,Wr,n,It,Di,hl,Xn,p,null,-0,0)}}break}while(!0);sn(e)}function tm(e,n,o,a,d,p,T,x,A,L,V,O,G,H){if(e.timeoutHandle=-1,O=n.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},Kd(n,p,O);var ie=(p&62914560)===p?Is-it():(p&4194048)===p?$d-it():0;if(ie=Xy(O,ie),ie!==null){Rn=p,e.cancelPendingCommit=ie(um.bind(null,e,n,p,o,a,d,T,x,A,V,O,null,G,H)),Wn(e,p,T,!L);return}}um(e,n,p,o,a,d,T,x,A)}function cy(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var a=0;a<o.length;a++){var d=o[a],p=d.getSnapshot;d=d.value;try{if(!Nt(p(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Wn(e,n,o,a){n&=~$r,n&=~Di,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var d=n;0<d;){var p=31-ht(d),T=1<<p;a[p]=-1,d&=~T}o!==0&&zo(e,o,n)}function Ls(){return(De&6)===0?(vo(0),!1):!0}function nu(){if(ve!==null){if(Le===0)var e=ve.return;else e=ve,yn=xi=null,vr(e),al=null,jl=0,e=ve;for(;e!==null;)Dd(e.alternate,e),e=e.return;ve=null}}function yl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,wy(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Rn=0,nu(),ke=e,ve=o=hn(e.current,null),Se=n,Le=0,wt=null,Xn=!1,pl=pi(e,n),Zr=!1,hl=It=$r=Di=Qn=Xe=0,xt=go=null,Wr=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var d=31-ht(a),p=1<<d;n|=e[d],a&=~p}return bn=n,ts(),o}function nm(e,n){pe=null,q.H=ao,n===sl||n===us?(n=vf(),Le=3):n===sr?(n=vf(),Le=4):Le=n===Lr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wt=n,ve===null&&(Xe=1,xs(e,zt(n,e.current)))}function im(){var e=Rt.current;return e===null?!0:(Se&4194048)===Se?Ft===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Ft:!1}function lm(){var e=q.H;return q.H=ao,e===null?ao:e}function om(){var e=q.A;return q.A=ry,e}function Gs(){Xe=4,Xn||(Se&4194048)!==Se&&Rt.current!==null||(pl=!0),(Qn&134217727)===0&&(Di&134217727)===0||ke===null||Wn(ke,Se,It,!1)}function iu(e,n,o){var a=De;De|=2;var d=lm(),p=om();(ke!==e||Se!==n)&&(Us=null,yl(e,n)),n=!1;var T=Xe;e:do try{if(Le!==0&&ve!==null){var x=ve,A=wt;switch(Le){case 8:nu(),T=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(n=!0);var L=Le;if(Le=0,wt=null,vl(e,x,A,L),o&&pl){T=0;break e}break;default:L=Le,Le=0,wt=null,vl(e,x,A,L)}}fy(),T=Xe;break}catch(V){nm(e,V)}while(!0);return n&&e.shellSuspendCounter++,yn=xi=null,De=a,q.H=d,q.A=p,ve===null&&(ke=null,Se=0,ts()),T}function fy(){for(;ve!==null;)sm(ve)}function dy(e,n){var o=De;De|=2;var a=lm(),d=om();ke!==e||Se!==n?(Us=null,Ds=it()+500,yl(e,n)):pl=pi(e,n);e:do try{if(Le!==0&&ve!==null){n=ve;var p=wt;t:switch(Le){case 1:Le=0,wt=null,vl(e,n,p,1);break;case 2:case 9:if(gf(p)){Le=0,wt=null,am(n);break}n=function(){Le!==2&&Le!==9||ke!==e||(Le=7),sn(e)},p.then(n,n);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:gf(p)?(Le=0,wt=null,am(n)):(Le=0,wt=null,vl(e,n,p,7));break;case 5:var T=null;switch(ve.tag){case 26:T=ve.memoizedState;case 5:case 27:var x=ve;if(T?Ym(T):x.stateNode.complete){Le=0,wt=null;var A=x.sibling;if(A!==null)ve=A;else{var L=x.return;L!==null?(ve=L,Hs(L)):ve=null}break t}}Le=0,wt=null,vl(e,n,p,5);break;case 6:Le=0,wt=null,vl(e,n,p,6);break;case 8:nu(),Xe=6;break e;default:throw Error(s(462))}}my();break}catch(V){nm(e,V)}while(!0);return yn=xi=null,q.H=a,q.A=d,De=o,ve!==null?0:(ke=null,Se=0,ts(),Xe)}function my(){for(;ve!==null&&!ri();)sm(ve)}function sm(e){var n=wd(e.alternate,e,bn);e.memoizedProps=e.pendingProps,n===null?Hs(e):ve=n}function am(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Cd(o,n,n.pendingProps,n.type,void 0,Se);break;case 11:n=Cd(o,n,n.pendingProps,n.type.render,n.ref,Se);break;case 5:vr(n);default:Dd(o,n),n=ve=of(n,bn),n=wd(o,n,bn)}e.memoizedProps=e.pendingProps,n===null?Hs(e):ve=n}function vl(e,n,o,a){yn=xi=null,vr(n),al=null,jl=0;var d=n.return;try{if(ty(e,d,n,o,Se)){Xe=1,xs(e,zt(o,e.current)),ve=null;return}}catch(p){if(d!==null)throw ve=d,p;Xe=1,xs(e,zt(o,e.current)),ve=null;return}n.flags&32768?(Ce||a===1?e=!0:pl||(Se&536870912)!==0?e=!1:(Xn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Rt.current,a!==null&&a.tag===13&&(a.flags|=16384))),rm(n,e)):Hs(n)}function Hs(e){var n=e;do{if((n.flags&32768)!==0){rm(n,Xn);return}e=n.return;var o=ly(n.alternate,n,bn);if(o!==null){ve=o;return}if(n=n.sibling,n!==null){ve=n;return}ve=n=e}while(n!==null);Xe===0&&(Xe=5)}function rm(e,n){do{var o=oy(e.alternate,e);if(o!==null){o.flags&=32767,ve=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ve=e;return}ve=e=o}while(e!==null);Xe=6,ve=null}function um(e,n,o,a,d,p,T,x,A){e.cancelPendingCommit=null;do qs();while(nt!==0);if((De&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(p=n.lanes|n.childLanes,p|=Ja,xa(e,o,p,T,x,A),e===ke&&(ve=ke=null,Se=0),gl=n,$n=e,Rn=o,jr=p,eu=d,Wd=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yy(ci,function(){return pm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null,d=Z.p,Z.p=2,T=De,De|=4;try{sy(e,n,o)}finally{De=T,Z.p=d,q.T=a}}nt=1,cm(),fm(),dm()}}function cm(){if(nt===1){nt=0;var e=$n,n=gl,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null;var a=Z.p;Z.p=2;var d=De;De|=4;try{Fd(n,e);var p=hu,T=Qc(e.containerInfo),x=p.focusedElem,A=p.selectionRange;if(T!==x&&x&&x.ownerDocument&&Xc(x.ownerDocument.documentElement,x)){if(A!==null&&za(x)){var L=A.start,V=A.end;if(V===void 0&&(V=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(V,x.value.length);else{var O=x.ownerDocument||document,G=O&&O.defaultView||window;if(G.getSelection){var H=G.getSelection(),ie=x.textContent.length,ae=Math.min(A.start,ie),Ve=A.end===void 0?ae:Math.min(A.end,ie);!H.extend&&ae>Ve&&(T=Ve,Ve=ae,ae=T);var w=Kc(x,ae),b=Kc(x,Ve);if(w&&b&&(H.rangeCount!==1||H.anchorNode!==w.node||H.anchorOffset!==w.offset||H.focusNode!==b.node||H.focusOffset!==b.offset)){var U=O.createRange();U.setStart(w.node,w.offset),H.removeAllRanges(),ae>Ve?(H.addRange(U),H.extend(b.node,b.offset)):(U.setEnd(b.node,b.offset),H.addRange(U))}}}}for(O=[],H=x;H=H.parentNode;)H.nodeType===1&&O.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<O.length;x++){var z=O[x];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Qs=!!pu,hu=pu=null}finally{De=d,Z.p=a,q.T=o}}e.current=n,nt=2}}function fm(){if(nt===2){nt=0;var e=$n,n=gl,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=q.T,q.T=null;var a=Z.p;Z.p=2;var d=De;De|=4;try{kd(e,n.alternate,n)}finally{De=d,Z.p=a,q.T=o}}nt=3}}function dm(){if(nt===4||nt===3){nt=0,Ho();var e=$n,n=gl,o=Rn,a=Wd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?nt=5:(nt=0,gl=$n=null,mm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Zn=null),Vl(o),n=n.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(di,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=q.T,d=Z.p,Z.p=2,q.T=null;try{for(var p=e.onRecoverableError,T=0;T<a.length;T++){var x=a[T];p(x.value,{componentStack:x.stack})}}finally{q.T=n,Z.p=d}}(Rn&3)!==0&&qs(),sn(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===tu?yo++:(yo=0,tu=e):yo=0,vo(0)}}function mm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$l(n)))}function qs(){return cm(),fm(),dm(),pm()}function pm(){if(nt!==5)return!1;var e=$n,n=jr;jr=0;var o=Vl(Rn),a=q.T,d=Z.p;try{Z.p=32>o?32:o,q.T=null,o=eu,eu=null;var p=$n,T=Rn;if(nt=0,gl=$n=null,Rn=0,(De&6)!==0)throw Error(s(331));var x=De;if(De|=4,Qd(p.current),Yd(p,p.current,T,o),De=x,vo(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(di,p)}catch{}return!0}finally{Z.p=d,q.T=a,mm(e,n)}}function hm(e,n,o){n=zt(o,n),n=Ur(e.stateNode,n,2),e=Fn(e,n,2),e!==null&&(hi(e,2),sn(e))}function Ge(e,n,o){if(e.tag===3)hm(e,e,o);else for(;n!==null;){if(n.tag===3){hm(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zn===null||!Zn.has(a))){e=zt(o,e),o=gd(2),a=Fn(n,o,2),a!==null&&(yd(o,a,n,e),hi(a,2),sn(a));break}}n=n.return}}function lu(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new uy;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(o)||(Zr=!0,d.add(o),e=py.bind(null,e,n,o),n.then(e,e))}function py(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,ke===e&&(Se&o)===o&&(Xe===4||Xe===3&&(Se&62914560)===Se&&300>it()-Is?(De&2)===0&&yl(e,0):$r|=o,hl===Se&&(hl=0)),sn(e)}function gm(e,n){n===0&&(n=ko()),e=Si(e,n),e!==null&&(hi(e,n),sn(e))}function hy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),gm(e,o)}function gy(e,n){var o=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(n),gm(e,o)}function yy(e,n){return Ul(e,n)}var Vs=null,Tl=null,ou=!1,ks=!1,su=!1,jn=0;function sn(e){e!==Tl&&e.next===null&&(Tl===null?Vs=Tl=e:Tl=Tl.next=e),ks=!0,ou||(ou=!0,Ty())}function vo(e,n){if(!su&&ks){su=!0;do for(var o=!1,a=Vs;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var p=0;else{var T=a.suspendedLanes,x=a.pingedLanes;p=(1<<31-ht(42|e)+1)-1,p&=d&~(T&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Sm(a,p))}else p=Se,p=Hn(a,a===ke?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||pi(a,p)||(o=!0,Sm(a,p));a=a.next}while(o);su=!1}}function vy(){ym()}function ym(){ks=ou=!1;var e=0;jn!==0&&My()&&(e=jn);for(var n=it(),o=null,a=Vs;a!==null;){var d=a.next,p=vm(a,n);p===0?(a.next=null,o===null?Vs=d:o.next=d,d===null&&(Tl=o)):(o=a,(e!==0||(p&3)!==0)&&(ks=!0)),a=d}nt!==0&&nt!==5||vo(e),jn!==0&&(jn=0)}function vm(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var T=31-ht(p),x=1<<T,A=d[T];A===-1?((x&o)===0||(x&a)!==0)&&(d[T]=Ea(x,n)):A<=n&&(e.expiredLanes|=x),p&=~x}if(n=ke,o=Se,o=Hn(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,o===0||e===n&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&qi(a),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||pi(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(a!==null&&qi(a),Vl(o)){case 2:case 8:o=Gl;break;case 32:o=ci;break;case 268435456:o=qo;break;default:o=ci}return a=Tm.bind(null,e),o=Ul(o,a),e.callbackPriority=n,e.callbackNode=o,n}return a!==null&&a!==null&&qi(a),e.callbackPriority=2,e.callbackNode=null,2}function Tm(e,n){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(qs()&&e.callbackNode!==o)return null;var a=Se;return a=Hn(e,e===ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(em(e,a,n),vm(e,it()),e.callbackNode!=null&&e.callbackNode===o?Tm.bind(null,e):null)}function Sm(e,n){if(qs())return null;em(e,n,!0)}function Ty(){Iy(function(){(De&6)!==0?Ul(ui,vy):ym()})}function au(){if(jn===0){var e=ll;e===0&&(e=ki,ki<<=1,(ki&261888)===0&&(ki=256)),jn=e}return jn}function _m(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ko(""+e)}function Em(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Sy(e,n,o,a,d){if(n==="submit"&&o&&o.stateNode===d){var p=_m((d[j]||null).action),T=a.submitter;T&&(n=(n=T[j]||null)?_m(n.formAction):T.getAttribute("formAction"),n!==null&&(p=n,T=null));var x=new $o("action","action",null,a,d);e.push({event:x,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(jn!==0){var A=T?Em(d,T):new FormData(d);br(o,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(x.preventDefault(),A=T?Em(d,T):new FormData(d),br(o,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var ru=0;ru<Fa.length;ru++){var uu=Fa[ru],_y=uu.toLowerCase(),Ey=uu[0].toUpperCase()+uu.slice(1);Qt(_y,"on"+Ey)}Qt(Wc,"onAnimationEnd"),Qt(jc,"onAnimationIteration"),Qt(ef,"onAnimationStart"),Qt("dblclick","onDoubleClick"),Qt("focusin","onFocus"),Qt("focusout","onBlur"),Qt(V0,"onTransitionRun"),Qt(k0,"onTransitionStart"),Qt(z0,"onTransitionCancel"),Qt(tf,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(To));function xm(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],d=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var T=a.length-1;0<=T;T--){var x=a[T],A=x.instance,L=x.currentTarget;if(x=x.listener,A!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=L;try{p(d)}catch(V){es(V)}d.currentTarget=null,p=A}else for(T=0;T<a.length;T++){if(x=a[T],A=x.instance,L=x.currentTarget,x=x.listener,A!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=L;try{p(d)}catch(V){es(V)}d.currentTarget=null,p=A}}}}function Te(e,n){var o=n[Ye];o===void 0&&(o=n[Ye]=new Set);var a=e+"__bubble";o.has(a)||(Cm(n,e,2,!1),o.add(a))}function cu(e,n,o){var a=0;n&&(a|=4),Cm(o,e,a,n)}var zs="_reactListening"+Math.random().toString(36).slice(2);function fu(e){if(!e[zs]){e[zs]=!0,gc.forEach(function(o){o!=="selectionchange"&&(xy.has(o)||cu(o,!1,e),cu(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zs]||(n[zs]=!0,cu("selectionchange",!1,n))}}function Cm(e,n,o,a){switch(jm(n)){case 2:var d=$y;break;case 8:d=Wy;break;default:d=Nu}o=d.bind(null,n,o,e),d=void 0,!Ia||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function du(e,n,o,a,d){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var T=a.tag;if(T===3||T===4){var x=a.stateNode.containerInfo;if(x===d)break;if(T===4)for(T=a.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;x!==null;){if(T=Ht(x),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){a=p=T;continue e}x=x.parentNode}}a=a.return}Rc(function(){var L=p,V=Ma(o),O=[];e:{var G=nf.get(e);if(G!==void 0){var H=$o,ie=e;switch(e){case"keypress":if(Qo(o)===0)break e;case"keydown":case"keyup":H=g0;break;case"focusin":ie="focus",H=Ga;break;case"focusout":ie="blur",H=Ga;break;case"beforeblur":case"afterblur":H=Ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=l0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=T0;break;case Wc:case jc:case ef:H=a0;break;case tf:H=_0;break;case"scroll":case"scrollend":H=n0;break;case"wheel":H=x0;break;case"copy":case"cut":case"paste":H=u0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Uc;break;case"toggle":case"beforetoggle":H=A0}var ae=(n&4)!==0,Ve=!ae&&(e==="scroll"||e==="scrollend"),w=ae?G!==null?G+"Capture":null:G;ae=[];for(var b=L,U;b!==null;){var z=b;if(U=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||U===null||w===null||(z=zl(b,w),z!=null&&ae.push(So(b,z,U))),Ve)break;b=b.return}0<ae.length&&(G=new H(G,ie,null,o,V),O.push({event:G,listeners:ae}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",G&&o!==Ra&&(ie=o.relatedTarget||o.fromElement)&&(Ht(ie)||ie[fe]))break e;if((H||G)&&(G=V.window===V?V:(G=V.ownerDocument)?G.defaultView||G.parentWindow:window,H?(ie=o.relatedTarget||o.toElement,H=L,ie=ie?Ht(ie):null,ie!==null&&(Ve=c(ie),ae=ie.tag,ie!==Ve||ae!==5&&ae!==27&&ae!==6)&&(ie=null)):(H=null,ie=L),H!==ie)){if(ae=Ic,z="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Uc,z="onPointerLeave",w="onPointerEnter",b="pointer"),Ve=H==null?G:kl(H),U=ie==null?G:kl(ie),G=new ae(z,b+"leave",H,o,V),G.target=Ve,G.relatedTarget=U,z=null,Ht(V)===L&&(ae=new ae(w,b+"enter",ie,o,V),ae.target=U,ae.relatedTarget=Ve,z=ae),Ve=z,H&&ie)t:{for(ae=Cy,w=H,b=ie,U=0,z=w;z;z=ae(z))U++;z=0;for(var se=b;se;se=ae(se))z++;for(;0<U-z;)w=ae(w),U--;for(;0<z-U;)b=ae(b),z--;for(;U--;){if(w===b||b!==null&&w===b.alternate){ae=w;break t}w=ae(w),b=ae(b)}ae=null}else ae=null;H!==null&&Am(O,G,H,ae,!1),ie!==null&&Ve!==null&&Am(O,Ve,ie,ae,!0)}}e:{if(G=L?kl(L):window,H=G.nodeName&&G.nodeName.toLowerCase(),H==="select"||H==="input"&&G.type==="file")var Me=Pc;else if(kc(G))if(Bc)Me=G0;else{Me=U0;var le=D0}else H=G.nodeName,!H||H.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?L&&ba(L.elementType)&&(Me=Pc):Me=L0;if(Me&&(Me=Me(e,L))){zc(O,Me,o,V);break e}le&&le(e,G,L),e==="focusout"&&L&&G.type==="number"&&L.memoizedProps.value!=null&&Na(G,"number",G.value)}switch(le=L?kl(L):window,e){case"focusin":(kc(le)||le.contentEditable==="true")&&(Zi=le,Pa=L,Xl=null);break;case"focusout":Xl=Pa=Zi=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,Zc(O,o,V);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":Zc(O,o,V)}var ge;if(qa)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Qi?qc(e,o)&&(_e="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(Lc&&o.locale!=="ko"&&(Qi||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Qi&&(ge=Mc()):(qn=V,Da="value"in qn?qn.value:qn.textContent,Qi=!0)),le=Ps(L,_e),0<le.length&&(_e=new Dc(_e,e,null,o,V),O.push({event:_e,listeners:le}),ge?_e.data=ge:(ge=Vc(o),ge!==null&&(_e.data=ge)))),(ge=b0?R0(e,o):M0(e,o))&&(_e=Ps(L,"onBeforeInput"),0<_e.length&&(le=new Dc("onBeforeInput","beforeinput",null,o,V),O.push({event:le,listeners:_e}),le.data=ge)),Sy(O,e,L,o,V)}xm(O,n)})}function So(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Ps(e,n){for(var o=n+"Capture",a=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=zl(e,o),d!=null&&a.unshift(So(e,d,p)),d=zl(e,n),d!=null&&a.push(So(e,d,p))),e.tag===3)return a;e=e.return}return[]}function Cy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Am(e,n,o,a,d){for(var p=n._reactName,T=[];o!==null&&o!==a;){var x=o,A=x.alternate,L=x.stateNode;if(x=x.tag,A!==null&&A===a)break;x!==5&&x!==26&&x!==27||L===null||(A=L,d?(L=zl(o,p),L!=null&&T.unshift(So(o,L,A))):d||(L=zl(o,p),L!=null&&T.push(So(o,L,A)))),o=o.return}T.length!==0&&e.push({event:n,listeners:T})}var Ay=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(Ny,"")}function bm(e,n){return n=Nm(n),Nm(e)===n}function qe(e,n,o,a,d,p){switch(o){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||Yi(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&Yi(e,""+a);break;case"className":Jo(e,"class",a);break;case"tabIndex":Jo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Jo(e,o,a);break;case"style":Nc(e,a,p);break;case"data":if(n!=="object"){Jo(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=Ko(""+a),e.setAttribute(o,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&qe(e,n,"name",d.name,d,null),qe(e,n,"formEncType",d.formEncType,d,null),qe(e,n,"formMethod",d.formMethod,d,null),qe(e,n,"formTarget",d.formTarget,d,null)):(qe(e,n,"encType",d.encType,d,null),qe(e,n,"method",d.method,d,null),qe(e,n,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=Ko(""+a),e.setAttribute(o,a);break;case"onClick":a!=null&&(e.onclick=mn);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(o=a.__html,o!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}o=Ko(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""+a):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":a===!0?e.setAttribute(o,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,a):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(o,a):e.removeAttribute(o);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(o):e.setAttribute(o,a);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Fo(e,"popover",a);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Fo(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=e0.get(o)||o,Fo(e,o,a))}}function mu(e,n,o,a,d,p){switch(o){case"style":Nc(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(o=a.__html,o!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=o}}break;case"children":typeof a=="string"?Yi(e,a):(typeof a=="number"||typeof a=="bigint")&&Yi(e,""+a);break;case"onScroll":a!=null&&Te("scroll",e);break;case"onScrollEnd":a!=null&&Te("scrollend",e);break;case"onClick":a!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yc.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),p=e[j]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof a=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,a,d);break e}o in e?e[o]=a:a===!0?e.setAttribute(o,""):Fo(e,o,a)}}}function ft(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var a=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:qe(e,n,p,T,o,null)}}d&&qe(e,n,"srcSet",o.srcSet,o,null),a&&qe(e,n,"src",o.src,o,null);return;case"input":Te("invalid",e);var x=p=T=d=null,A=null,L=null;for(a in o)if(o.hasOwnProperty(a)){var V=o[a];if(V!=null)switch(a){case"name":d=V;break;case"type":T=V;break;case"checked":A=V;break;case"defaultChecked":L=V;break;case"value":p=V;break;case"defaultValue":x=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,n));break;default:qe(e,n,a,V,o,null)}}Ec(e,p,x,A,L,T,d,!1);return;case"select":Te("invalid",e),a=T=p=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":T=x;break;case"multiple":a=x;default:qe(e,n,d,x,o,null)}n=p,o=T,e.multiple=!!a,n!=null?Ji(e,!!a,n,!1):o!=null&&Ji(e,!!a,o,!0);return;case"textarea":Te("invalid",e),p=d=a=null;for(T in o)if(o.hasOwnProperty(T)&&(x=o[T],x!=null))switch(T){case"value":a=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:qe(e,n,T,x,o,null)}Cc(e,a,d,p);return;case"option":for(A in o)if(o.hasOwnProperty(A)&&(a=o[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:qe(e,n,A,a,o,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(a=0;a<To.length;a++)Te(To[a],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in o)if(o.hasOwnProperty(L)&&(a=o[L],a!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:qe(e,n,L,a,o,null)}return;default:if(ba(n)){for(V in o)o.hasOwnProperty(V)&&(a=o[V],a!==void 0&&mu(e,n,V,a,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(a=o[x],a!=null&&qe(e,n,x,a,o,null))}function by(e,n,o,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,x=null,A=null,L=null,V=null;for(H in o){var O=o[H];if(o.hasOwnProperty(H)&&O!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=O;default:a.hasOwnProperty(H)||qe(e,n,H,null,a,O)}}for(var G in a){var H=a[G];if(O=o[G],a.hasOwnProperty(G)&&(H!=null||O!=null))switch(G){case"type":p=H;break;case"name":d=H;break;case"checked":L=H;break;case"defaultChecked":V=H;break;case"value":T=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==O&&qe(e,n,G,H,a,O)}}Aa(e,T,x,A,L,V,p,d);return;case"select":H=T=x=G=null;for(p in o)if(A=o[p],o.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":H=A;default:a.hasOwnProperty(p)||qe(e,n,p,null,a,A)}for(d in a)if(p=a[d],A=o[d],a.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":G=p;break;case"defaultValue":x=p;break;case"multiple":T=p;default:p!==A&&qe(e,n,d,p,a,A)}n=x,o=T,a=H,G!=null?Ji(e,!!o,G,!1):!!a!=!!o&&(n!=null?Ji(e,!!o,n,!0):Ji(e,!!o,o?[]:"",!1));return;case"textarea":H=G=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!a.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:qe(e,n,x,null,a,d)}for(T in a)if(d=a[T],p=o[T],a.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":G=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&qe(e,n,T,d,a,p)}xc(e,G,H);return;case"option":for(var ie in o)if(G=o[ie],o.hasOwnProperty(ie)&&G!=null&&!a.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:qe(e,n,ie,null,a,G)}for(A in a)if(G=a[A],H=o[A],a.hasOwnProperty(A)&&G!==H&&(G!=null||H!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:qe(e,n,A,G,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ae in o)G=o[ae],o.hasOwnProperty(ae)&&G!=null&&!a.hasOwnProperty(ae)&&qe(e,n,ae,null,a,G);for(L in a)if(G=a[L],H=o[L],a.hasOwnProperty(L)&&G!==H&&(G!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:qe(e,n,L,G,a,H)}return;default:if(ba(n)){for(var Ve in o)G=o[Ve],o.hasOwnProperty(Ve)&&G!==void 0&&!a.hasOwnProperty(Ve)&&mu(e,n,Ve,void 0,a,G);for(V in a)G=a[V],H=o[V],!a.hasOwnProperty(V)||G===H||G===void 0&&H===void 0||mu(e,n,V,G,a,H);return}}for(var w in o)G=o[w],o.hasOwnProperty(w)&&G!=null&&!a.hasOwnProperty(w)&&qe(e,n,w,null,a,G);for(O in a)G=a[O],H=o[O],!a.hasOwnProperty(O)||G===H||G==null&&H==null||qe(e,n,O,G,a,H)}function Rm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ry(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),a=0;a<o.length;a++){var d=o[a],p=d.transferSize,T=d.initiatorType,x=d.duration;if(p&&x&&Rm(T)){for(T=0,x=d.responseEnd,a+=1;a<o.length;a++){var A=o[a],L=A.startTime;if(L>x)break;var V=A.transferSize,O=A.initiatorType;V&&Rm(O)&&(A=A.responseEnd,T+=V*(A<x?1:(x-L)/(A-L)))}if(--a,n+=8*(p+T)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,hu=null;function Bs(e){return e.nodeType===9?e:e.ownerDocument}function Mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yu=null;function My(){var e=window.event;return e&&e.type==="popstate"?e===yu?!1:(yu=e,!0):(yu=null,!1)}var Im=typeof setTimeout=="function"?setTimeout:void 0,wy=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,Iy=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(Dy)}:Im;function Dy(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function Um(e,n){var o=n,a=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(a===0){e.removeChild(d),xl(n);return}a--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")a++;else if(o==="html")_o(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,_o(o);for(var p=o.firstChild;p;){var T=p.nextSibling,x=p.nodeName;p[Xt]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&_o(e.ownerDocument.body);o=d}while(o);xl(n)}function Lm(e,n){var o=e;e=0;do{var a=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=a}while(o)}function vu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vu(o),cn(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Uy(e,n,o,a){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xt])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Ly(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=Jt(e.nextSibling),e===null))return null;return e}function Gm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Jt(e.nextSibling),e===null))return null;return e}function Tu(e){return e.data==="$?"||e.data==="$~"}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gy(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var a=function(){n(),o.removeEventListener("DOMContentLoaded",a)};o.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Jt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _u=null;function Hm(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return Jt(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function qm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Vm(e,n,o){switch(n=Bs(o),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _o(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);cn(e)}var Yt=new Map,km=new Set;function Os(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=Z.d;Z.d={f:Hy,r:qy,D:Vy,C:ky,L:zy,m:Py,X:Oy,S:By,M:Fy};function Hy(){var e=Mn.f(),n=Ls();return e||n}function qy(e){var n=fn(e);n!==null&&n.tag===5&&n.type==="form"?nd(n):Mn.r(e)}var Sl=typeof document>"u"?null:document;function zm(e,n,o){var a=Sl;if(a&&typeof n=="string"&&n){var d=Vt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),km.has(d)||(km.add(d),e={rel:e,crossOrigin:o,href:n},a.querySelector(d)===null&&(n=a.createElement("link"),ft(n,"link",e),lt(n),a.head.appendChild(n)))}}function Vy(e){Mn.D(e),zm("dns-prefetch",e,null)}function ky(e,n){Mn.C(e,n),zm("preconnect",e,n)}function zy(e,n,o){Mn.L(e,n,o);var a=Sl;if(a&&e&&n){var d='link[rel="preload"][as="'+Vt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Vt(o.imageSizes)+'"]')):d+='[href="'+Vt(e)+'"]';var p=d;switch(n){case"style":p=_l(e);break;case"script":p=El(e)}Yt.has(p)||(e=_({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Yt.set(p,e),a.querySelector(d)!==null||n==="style"&&a.querySelector(Eo(p))||n==="script"&&a.querySelector(xo(p))||(n=a.createElement("link"),ft(n,"link",e),lt(n),a.head.appendChild(n)))}}function Py(e,n){Mn.m(e,n);var o=Sl;if(o&&e){var a=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+Vt(a)+'"][href="'+Vt(e)+'"]',p=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=El(e)}if(!Yt.has(p)&&(e=_({rel:"modulepreload",href:e},n),Yt.set(p,e),o.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xo(p)))return}a=o.createElement("link"),ft(a,"link",e),lt(a),o.head.appendChild(a)}}}function By(e,n,o){Mn.S(e,n,o);var a=Sl;if(a&&e){var d=Oi(a).hoistableStyles,p=_l(e);n=n||"default";var T=d.get(p);if(!T){var x={loading:0,preload:null};if(T=a.querySelector(Eo(p)))x.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Yt.get(p))&&Eu(e,o);var A=T=a.createElement("link");lt(A),ft(A,"link",e),A._p=new Promise(function(L,V){A.onload=L,A.onerror=V}),A.addEventListener("load",function(){x.loading|=1}),A.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Fs(T,n,a)}T={type:"stylesheet",instance:T,count:1,state:x},d.set(p,T)}}}function Oy(e,n){Mn.X(e,n);var o=Sl;if(o&&e){var a=Oi(o).hoistableScripts,d=El(e),p=a.get(d);p||(p=o.querySelector(xo(d)),p||(e=_({src:e,async:!0},n),(n=Yt.get(d))&&xu(e,n),p=o.createElement("script"),lt(p),ft(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(d,p))}}function Fy(e,n){Mn.M(e,n);var o=Sl;if(o&&e){var a=Oi(o).hoistableScripts,d=El(e),p=a.get(d);p||(p=o.querySelector(xo(d)),p||(e=_({src:e,async:!0,type:"module"},n),(n=Yt.get(d))&&xu(e,n),p=o.createElement("script"),lt(p),ft(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(d,p))}}function Pm(e,n,o,a){var d=(d=re.current)?Os(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=_l(o.href),o=Oi(d).hoistableStyles,a=o.get(n),a||(a={type:"style",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=_l(o.href);var p=Oi(d).hoistableStyles,T=p.get(e);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,T),(p=d.querySelector(Eo(e)))&&!p._p&&(T.instance=p,T.state.loading=5),Yt.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yt.set(e,o),p||Jy(d,e,o,T.state))),n&&a===null)throw Error(s(528,""));return T}if(n&&a!==null)throw Error(s(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=El(o),o=Oi(d).hoistableScripts,a=o.get(n),a||(a={type:"script",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function _l(e){return'href="'+Vt(e)+'"'}function Eo(e){return'link[rel="stylesheet"]['+e+"]"}function Bm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Jy(e,n,o,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),ft(n,"link",o),lt(n),e.head.appendChild(n))}function El(e){return'[src="'+Vt(e)+'"]'}function xo(e){return"script[async]"+e}function Om(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(a)return n.instance=a,lt(a),a;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),lt(a),ft(a,"style",d),Fs(a,o.precedence,e),n.instance=a;case"stylesheet":d=_l(o.href);var p=e.querySelector(Eo(d));if(p)return n.state.loading|=4,n.instance=p,lt(p),p;a=Bm(o),(d=Yt.get(d))&&Eu(a,d),p=(e.ownerDocument||e).createElement("link"),lt(p);var T=p;return T._p=new Promise(function(x,A){T.onload=x,T.onerror=A}),ft(p,"link",a),n.state.loading|=4,Fs(p,o.precedence,e),n.instance=p;case"script":return p=El(o.src),(d=e.querySelector(xo(p)))?(n.instance=d,lt(d),d):(a=o,(d=Yt.get(p))&&(a=_({},o),xu(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),lt(d),ft(d,"link",a),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Fs(a,o.precedence,e));return n.instance}function Fs(e,n,o){for(var a=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,p=d,T=0;T<a.length;T++){var x=a[T];if(x.dataset.precedence===n)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Js=null;function Fm(e,n,o){if(Js===null){var a=new Map,d=Js=new Map;d.set(o,a)}else d=Js,a=d.get(o),a||(a=new Map,d.set(o,a));if(a.has(e))return a;for(a.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var p=o[d];if(!(p[Xt]||p[X]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(n)||"";T=e+T;var x=a.get(T);x?x.push(p):a.set(T,[p])}}return a}function Jm(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function Yy(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ym(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ky(e,n,o,a){if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=_l(a.href),p=n.querySelector(Eo(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ys.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=p,lt(p);return}p=n.ownerDocument||n,a=Bm(a),(d=Yt.get(d))&&Eu(a,d),p=p.createElement("link"),lt(p);var T=p;T._p=new Promise(function(x,A){T.onload=x,T.onerror=A}),ft(p,"link",a),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Ys.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Cu=0;function Xy(e,n){return e.stylesheets&&e.count===0&&Xs(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var a=setTimeout(function(){if(e.stylesheets&&Xs(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&Cu===0&&(Cu=62500*Ry());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xs(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Cu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function Ys(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ks=null;function Xs(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ks=new Map,n.forEach(Qy,e),Ks=null,Ys.call(e))}function Qy(e,n){if(!(n.state.loading&4)){var o=Ks.get(e);if(o)var a=o.get(null);else{o=new Map,Ks.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),a=T)}a&&o.set(null,a)}d=n.instance,T=d.getAttribute("data-precedence"),p=o.get(T)||a,p===a&&o.set(null,d),o.set(T,d),this.count++,a=Ys.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Co={$$typeof:k,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Zy(e,n,o,a,d,p,T,x,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ql(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.hiddenUpdates=ql(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Km(e,n,o,a,d,p,T,x,A,L,V,O){return e=new Zy(e,n,o,T,A,L,V,O,x),n=1,p===!0&&(n|=24),p=bt(3,null,null,n),e.current=p,p.stateNode=e,n=ir(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:a,isDehydrated:o,cache:n},ar(p),e}function Xm(e){return e?(e=ji,e):ji}function Qm(e,n,o,a,d,p){d=Xm(d),a.context===null?a.context=d:a.pendingContext=d,a=On(n),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=Fn(e,a,n),o!==null&&(Ct(o,e,n),to(o,e,n))}function Zm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Au(e,n){Zm(e,n),(e=e.alternate)&&Zm(e,n)}function $m(e){if(e.tag===13||e.tag===31){var n=Si(e,67108864);n!==null&&Ct(n,e,67108864),Au(e,67108864)}}function Wm(e){if(e.tag===13||e.tag===31){var n=Dt();n=Bi(n);var o=Si(e,n);o!==null&&Ct(o,e,n),Au(e,n)}}var Qs=!0;function $y(e,n,o,a){var d=q.T;q.T=null;var p=Z.p;try{Z.p=2,Nu(e,n,o,a)}finally{Z.p=p,q.T=d}}function Wy(e,n,o,a){var d=q.T;q.T=null;var p=Z.p;try{Z.p=8,Nu(e,n,o,a)}finally{Z.p=p,q.T=d}}function Nu(e,n,o,a){if(Qs){var d=bu(a);if(d===null)du(e,n,a,Zs,o),ep(e,a);else if(ev(d,e,n,o,a))a.stopPropagation();else if(ep(e,a),n&4&&-1<jy.indexOf(e)){for(;d!==null;){var p=fn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=un(p.pendingLanes);if(T!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;T;){var A=1<<31-ht(T);x.entanglements[1]|=A,T&=~A}sn(p),(De&6)===0&&(Ds=it()+500,vo(0))}}break;case 31:case 13:x=Si(p,2),x!==null&&Ct(x,p,2),Ls(),Au(p,2)}if(p=bu(a),p===null&&du(e,n,a,Zs,o),p===d)break;d=p}d!==null&&a.stopPropagation()}else du(e,n,a,null,o)}}function bu(e){return e=Ma(e),Ru(e)}var Zs=null;function Ru(e){if(Zs=null,e=Ht(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Zs=e,null}function jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ll()){case ui:return 2;case Gl:return 8;case ci:case Vi:return 32;case qo:return 268435456;default:return 32}default:return 32}}var Mu=!1,ti=null,ni=null,ii=null,Ao=new Map,No=new Map,li=[],jy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ep(e,n){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(n.pointerId)}}function bo(e,n,o,a,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:p,targetContainers:[d]},n!==null&&(n=fn(n),n!==null&&$m(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function ev(e,n,o,a,d){switch(n){case"focusin":return ti=bo(ti,e,n,o,a,d),!0;case"dragenter":return ni=bo(ni,e,n,o,a,d),!0;case"mouseover":return ii=bo(ii,e,n,o,a,d),!0;case"pointerover":var p=d.pointerId;return Ao.set(p,bo(Ao.get(p)||null,e,n,o,a,d)),!0;case"gotpointercapture":return p=d.pointerId,No.set(p,bo(No.get(p)||null,e,n,o,a,d)),!0}return!1}function tp(e){var n=Ht(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,R(e.priority,function(){Wm(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,R(e.priority,function(){Wm(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $s(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=bu(e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);Ra=a,o.target.dispatchEvent(a),Ra=null}else return n=fn(o),n!==null&&$m(n),e.blockedOn=o,!1;n.shift()}return!0}function np(e,n,o){$s(e)&&o.delete(n)}function tv(){Mu=!1,ti!==null&&$s(ti)&&(ti=null),ni!==null&&$s(ni)&&(ni=null),ii!==null&&$s(ii)&&(ii=null),Ao.forEach(np),No.forEach(np)}function Ws(e,n){e.blockedOn===n&&(e.blockedOn=null,Mu||(Mu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tv)))}var js=null;function ip(e){js!==e&&(js=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){js===e&&(js=null);for(var n=0;n<e.length;n+=3){var o=e[n],a=e[n+1],d=e[n+2];if(typeof a!="function"){if(Ru(a||o)===null)continue;break}var p=fn(o);p!==null&&(e.splice(n,3),n-=3,br(p,{pending:!0,data:d,method:o.method,action:a},a,d))}}))}function xl(e){function n(A){return Ws(A,e)}ti!==null&&Ws(ti,e),ni!==null&&Ws(ni,e),ii!==null&&Ws(ii,e),Ao.forEach(n),No.forEach(n);for(var o=0;o<li.length;o++){var a=li[o];a.blockedOn===e&&(a.blockedOn=null)}for(;0<li.length&&(o=li[0],o.blockedOn===null);)tp(o),o.blockedOn===null&&li.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(a=0;a<o.length;a+=3){var d=o[a],p=o[a+1],T=d[j]||null;if(typeof p=="function")T||ip(o);else if(T){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[j]||null)x=T.formAction;else if(Ru(d)!==null)continue}else x=T.action;typeof x=="function"?o[a+1]=x:(o.splice(a,3),a-=3),ip(o)}}}function lp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),a||setTimeout(o,20)}function o(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function wu(e){this._internalRoot=e}ea.prototype.render=wu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var o=n.current,a=Dt();Qm(o,a,e,n,null,null)},ea.prototype.unmount=wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qm(e.current,2,null,e,null,null),Ls(),n[fe]=null}};function ea(e){this._internalRoot=e}ea.prototype.unstable_scheduleHydration=function(e){if(e){var n=Oo();e={blockedOn:null,target:e,priority:n};for(var o=0;o<li.length&&n!==0&&n<li[o].priority;o++);li.splice(o,0,e),o===0&&tp(e)}};var op=t.version;if(op!=="19.2.4")throw Error(s(527,op,"19.2.4"));Z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var nv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{di=ta.inject(nv),pt=ta}catch{}}return Mo.createRoot=function(e,n){if(!r(e))throw Error(s(299));var o=!1,a="",d=dd,p=md,T=pd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=Km(e,1,!1,null,null,o,a,null,d,p,T,lp),e[fe]=n.current,fu(e),new wu(n)},Mo.hydrateRoot=function(e,n,o){if(!r(e))throw Error(s(299));var a=!1,d="",p=dd,T=md,x=pd,A=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),n=Km(e,1,!0,n,o??null,a,d,A,p,T,x,lp),n.context=Xm(null),o=n.current,a=Dt(),a=Bi(a),d=On(a),d.callback=null,Fn(o,d,a),o=a,n.current.lanes=o,hi(n,o),sn(n),e[fe]=n.current,fu(e),new ea(n)},Mo.version="19.2.4",Mo}var hp;function mv(){if(hp)return Uu.exports;hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Uu.exports=dv(),Uu.exports}var pv=mv();const hv=lc(pv),gv=["",""],eg=["",""],yv=["","","/","","","","","","","","",""],gp=({card:i,onClick:t,isDetailView:l=!1,onDelete:s,onAssetImport:r,onDeleteRegexScript:c,onExportAsset:m,chatLogs:g,onViewChatLog:y})=>{var h,v,_,E;if(l){const C=i.assets&&(i.assets.quickReplies||i.assets.characterCardFile||i.assets.worldBook||i.assets.regexScripts&&i.assets.regexScripts.length>0),N=(g==null?void 0:g.filter(I=>I.characterId===i.id))||[];return S.jsxs("div",{className:"min-h-screen bg-white pb-24",children:[S.jsxs("div",{className:"relative h-[50vh] w-full",children:[S.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-white z-10"}),S.jsx("img",{src:i.imageUrl,className:"w-full h-full object-cover",alt:i.name}),S.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 z-20",children:[S.jsx("h1",{className:"text-4xl font-black text-slate-900 mb-2 drop-shadow-sm",children:i.name}),S.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[S.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-xs font-bold rounded-full shadow-sm shadow-indigo-200",children:i.mainCategory}),i.genre.map(I=>S.jsx("span",{className:"px-3 py-1 bg-white/80 backdrop-blur-md text-slate-700 text-xs font-bold rounded-full border border-slate-200",children:I},I)),S.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full border ${i.playStatus===""?"bg-green-100 text-green-700 border-green-200":"bg-slate-100 text-slate-500 border-slate-200"}`,children:i.playStatus})]})]})]}),S.jsx("div",{className:"px-6 -mt-6 relative z-30",children:S.jsxs("div",{className:"bg-white rounded-[2rem] shadow-xl shadow-slate-200/50 p-6 border border-slate-50",children:[Object.keys(i.attributes).length>0&&S.jsx("div",{className:"grid grid-cols-2 gap-3 mb-8",children:Object.entries(i.attributes).map(([I,D])=>S.jsxs("div",{className:"bg-slate-50 p-3 rounded-2xl border border-slate-100",children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-1",children:I}),S.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:D})]},I))}),S.jsxs("div",{className:"mb-8",children:[S.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),S.jsx("p",{className:"text-slate-600 leading-relaxed text-sm whitespace-pre-wrap",children:i.description})]}),(i.author||i.sourceCommunity||i.sourceLink)&&S.jsxs("div",{className:"mb-8 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[S.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),S.jsxs("div",{className:"space-y-2 text-sm",children:[i.author&&S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"font-bold text-slate-500",children:":"}),S.jsx("span",{className:"text-slate-800",children:i.author})]}),i.sourceCommunity&&S.jsxs("div",{className:"flex justify-between",children:[S.jsx("span",{className:"font-bold text-slate-500",children:":"}),S.jsx("span",{className:"text-slate-800",children:i.sourceCommunity})]}),i.sourceLink&&S.jsxs("div",{className:"flex",children:[S.jsx("span",{className:"font-bold min-w-[4rem] text-slate-500",children:":"}),S.jsx("a",{href:i.sourceLink,target:"_blank",rel:"noreferrer",className:"text-indigo-600 underline truncate",children:i.sourceLink})]})]})]}),N.length>0&&S.jsxs("div",{className:"mb-8",children:[S.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:[" (",N.length,")"]}),S.jsx("div",{className:"space-y-3",children:N.map(I=>S.jsxs("div",{onClick:()=>y==null?void 0:y(I),className:"bg-slate-50 p-4 rounded-2xl border border-slate-100 active:bg-slate-100 transition-colors cursor-pointer",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsx("h4",{className:"font-bold text-slate-800 line-clamp-1",children:I.title}),S.jsx("span",{className:"text-[10px] text-slate-400 whitespace-nowrap ml-2",children:new Date(I.updatedAt).toLocaleDateString()})]}),S.jsx("p",{className:"text-xs text-slate-500 line-clamp-2 mb-2",children:I.content}),I.images&&I.images.length>0&&S.jsxs("div",{className:"flex items-center gap-1 text-slate-400 text-xs",children:[S.jsx("i",{className:"fa-solid fa-image"}),S.jsx("span",{className:"font-bold",children:I.images.length})," "]})]},I.id))})]}),C&&S.jsxs("div",{className:"mb-8 p-4 bg-indigo-50 rounded-2xl border border-indigo-100",children:[S.jsx("h3",{className:"text-xs font-black text-indigo-400 uppercase tracking-widest mb-3",children:" ()"}),S.jsxs("div",{className:"space-y-3",children:[((h=i.assets)==null?void 0:h.characterCardFile)&&S.jsxs("button",{onClick:()=>m==null?void 0:m(i.assets.characterCardFile,i.assets.characterCardFileName||"character_card.png"),className:"w-full flex items-center gap-3 bg-white p-3 rounded-xl border border-indigo-100 hover:bg-indigo-50 transition-colors text-left",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center shrink-0",children:S.jsx("i",{className:"fa-solid fa-address-card"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:""}),S.jsx("p",{className:"text-xs text-slate-400 truncate",children:i.assets.characterCardFileName||""})]}),S.jsx("i",{className:"fa-solid fa-download text-indigo-400"})]}),((v=i.assets)==null?void 0:v.quickReplies)&&S.jsxs("button",{onClick:()=>m==null?void 0:m(i.assets.quickReplies,i.assets.quickRepliesFileName||"quick_replies.json"),className:"w-full flex items-center gap-3 bg-white p-3 rounded-xl border border-indigo-100 hover:bg-indigo-50 transition-colors text-left",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0",children:S.jsx("i",{className:"fa-solid fa-comments"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:""}),S.jsx("p",{className:"text-xs text-slate-400 truncate",children:i.assets.quickRepliesFileName||""})]}),S.jsx("i",{className:"fa-solid fa-download text-indigo-400"})]}),((_=i.assets)==null?void 0:_.worldBook)&&S.jsxs("button",{onClick:()=>m==null?void 0:m(i.assets.worldBook,i.assets.worldBookFileName||"world_book.json"),className:"w-full flex items-center gap-3 bg-white p-3 rounded-xl border border-indigo-100 hover:bg-indigo-50 transition-colors text-left",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center shrink-0",children:S.jsx("i",{className:"fa-solid fa-book-atlas"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:""}),S.jsx("p",{className:"text-xs text-slate-400 truncate",children:i.assets.worldBookFileName||""})]}),S.jsx("i",{className:"fa-solid fa-download text-indigo-400"})]}),((E=i.assets)==null?void 0:E.regexScripts)&&i.assets.regexScripts.map((I,D)=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("button",{onClick:()=>m==null?void 0:m(I.content,I.fileName||`script_${D}.json`),className:"flex-1 flex items-center gap-3 bg-white p-3 rounded-xl border border-indigo-100 hover:bg-indigo-50 transition-colors text-left",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center shrink-0",children:S.jsx("i",{className:"fa-solid fa-code"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsxs("p",{className:"text-sm font-bold text-slate-800 truncate",children:[" ",D+1]}),S.jsx("p",{className:"text-xs text-slate-400 truncate",children:I.fileName||""})]}),S.jsx("i",{className:"fa-solid fa-download text-indigo-400"})]}),S.jsx("button",{onClick:F=>{F.stopPropagation(),c==null||c(D)},className:"w-10 h-full flex items-center justify-center text-red-400 hover:text-red-600 active:scale-90 transition-transform",children:S.jsx("i",{className:"fa-solid fa-xmark"})})]},D))]})]}),S.jsx("div",{className:"mt-8 pb-12 safe-bottom",children:S.jsxs("button",{onClick:s,className:"w-full bg-red-50 text-red-600 py-5 rounded-[2rem] font-black text-lg flex items-center justify-center gap-3 active:bg-red-100 transition-colors border border-red-100",children:[S.jsx("i",{className:"fa-solid fa-trash-can"})," "]})})]})})]})}return S.jsxs("div",{onClick:t,className:"bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-md transition-shadow active:scale-95 transition-transform cursor-pointer border border-slate-100",children:[S.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden",children:[S.jsx("img",{src:i.imageUrl||"https://picsum.photos/seed/default/400/600",alt:i.name,className:"w-full h-full object-cover",loading:"lazy"}),S.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end gap-1",children:[i.genre.slice(0,2).map(C=>S.jsx("span",{className:"bg-white/80 backdrop-blur-sm px-2 py-0.5 rounded text-[10px] font-bold text-slate-800 shadow-sm",children:C},C)),i.genre.length>2&&S.jsxs("span",{className:"bg-black/50 backdrop-blur-sm px-1.5 py-0.5 rounded text-[10px] font-bold text-white shadow-sm",children:["+",i.genre.length-2]})]}),S.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-3 pt-8",children:S.jsx("h3",{className:"text-white font-bold text-base truncate",children:i.name})})]}),S.jsx("div",{className:"p-2",children:S.jsx("p",{className:"text-slate-500 text-[10px] line-clamp-2 h-7 leading-tight",children:i.description||"..."})})]})};var wo={exports:{}},qu={},Vu,yp;function vv(){if(yp)return Vu;yp=1;function i(t,l){typeof l=="boolean"&&(l={forever:l}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=l||{},this._maxRetryTime=l&&l.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}return Vu=i,i.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},i.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},i.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var l=new Date().getTime();if(t&&l-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var s=this._timeouts.shift();if(s===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),s=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},s),this._options.unref&&this._timer.unref(),!0},i.prototype.attempt=function(t,l){this._fn=t,l&&(l.timeout&&(this._operationTimeout=l.timeout),l.cb&&(this._operationTimeoutCb=l.cb));var s=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){s._operationTimeoutCb()},s._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)},i.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},i.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},i.prototype.start=i.prototype.try,i.prototype.errors=function(){return this._errors},i.prototype.attempts=function(){return this._attempts},i.prototype.mainError=function(){if(this._errors.length===0)return null;for(var t={},l=null,s=0,r=0;r<this._errors.length;r++){var c=this._errors[r],m=c.message,g=(t[m]||0)+1;t[m]=g,g>=s&&(l=c,s=g)}return l},Vu}var vp;function Tv(){return vp||(vp=1,(function(i){var t=vv();i.operation=function(l){var s=i.timeouts(l);return new t(s,{forever:l&&(l.forever||l.retries===1/0),unref:l&&l.unref,maxRetryTime:l&&l.maxRetryTime})},i.timeouts=function(l){if(l instanceof Array)return[].concat(l);var s={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var r in l)s[r]=l[r];if(s.minTimeout>s.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var c=[],m=0;m<s.retries;m++)c.push(this.createTimeout(m,s));return l&&l.forever&&!c.length&&c.push(this.createTimeout(m,s)),c.sort(function(g,y){return g-y}),c},i.createTimeout=function(l,s){var r=s.randomize?Math.random()+1:1,c=Math.round(r*Math.max(s.minTimeout,1)*Math.pow(s.factor,l));return c=Math.min(c,s.maxTimeout),c},i.wrap=function(l,s,r){if(s instanceof Array&&(r=s,s=null),!r){r=[];for(var c in l)typeof l[c]=="function"&&r.push(c)}for(var m=0;m<r.length;m++){var g=r[m],y=l[g];l[g]=(function(v){var _=i.operation(s),E=Array.prototype.slice.call(arguments,1),C=E.pop();E.push(function(N){_.retry(N)||(N&&(arguments[0]=_.mainError()),C.apply(this,arguments))}),_.attempt(function(){v.apply(l,E)})}).bind(l,y),l[g].options=s}}})(qu)),qu}var ku,Tp;function Sv(){return Tp||(Tp=1,ku=Tv()),ku}var Sp;function _v(){if(Sp)return wo.exports;Sp=1;const i=Sv(),t=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class l extends Error{constructor(g){super(),g instanceof Error?(this.originalError=g,{message:g}=g):(this.originalError=new Error(g),this.originalError.stack=this.stack),this.name="AbortError",this.message=g}}const s=(m,g,y)=>{const h=y.retries-(g-1);return m.attemptNumber=g,m.retriesLeft=h,m},r=m=>t.includes(m),c=(m,g)=>new Promise((y,h)=>{g={onFailedAttempt:()=>{},retries:10,...g};const v=i.operation(g);v.attempt(async _=>{try{y(await m(_))}catch(E){if(!(E instanceof Error)){h(new TypeError(`Non-error was thrown: "${E}". You should only throw errors.`));return}if(E instanceof l)v.stop(),h(E.originalError);else if(E instanceof TypeError&&!r(E.message))v.stop(),h(E);else{s(E,_,g);try{await g.onFailedAttempt(E)}catch(C){h(C);return}v.retry(E)||h(v.mainError())}}})});return wo.exports=c,wo.exports.default=c,wo.exports.AbortError=l,wo.exports}var tg=_v();const Ev=lc(tg);var xv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cv,Av;function Nv(){return{geminiUrl:Cv,vertexUrl:Av}}function bv(i,t,l,s){var r,c;if(!(i!=null&&i.baseUrl)){const m=Nv();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(c=m.geminiUrl)!==null&&c!==void 0?c:s}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class In{}function W(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(s,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const m=t[c];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const v=y[h];f(v,t.slice(c+1),l[h])}else for(const h of y)f(h,t.slice(c+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const s=t[t.length-1],r=i[s];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[s]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let s=0;s<t.length;s++){if(typeof i!="object"||i===null)return l;const r=t[s];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const m=i[c];return Array.isArray(m)?m.map(g=>u(g,t.slice(s+1),l)):l}else return l}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return l;throw s}}function Rv(i,t){for(const[l,s]of Object.entries(t)){const r=l.split("."),c=s.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}Ou(i,r,c,0,m)}}function Ou(i,t,l,s,r){if(s>=t.length||typeof i!="object"||i===null)return;const c=t[s];if(c.endsWith("[]")){const m=c.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])Ou(y,t,l,s+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const _=[];for(const E of l.slice(s))E==="*"?_.push(h):_.push(E);f(m,_,v)}for(const h of g)delete m[h]}}else{const m=i;c in m&&Ou(m[c],t,l,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sc(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mv(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const s=u(i,["resourceName"]);return s!=null&&f(t,["_url","resourceName"],s),t}function wv(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],Dv(m)),t}function Iv(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],Uv(m)),t}function Dv(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Lv(m))),f(t,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Uv(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>Gv(m))),f(t,["generatedVideos"],c)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&f(t,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function Lv(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],Pv(l)),t}function Gv(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],Bv(l)),t}function Hv(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function qv(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function Vv(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],kv(m)),t}function kv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function ng(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],zv(m)),t}function zv(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Pv(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const s=u(i,["encodedVideo"]);s!=null&&f(t,["videoBytes"],sc(s));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function Bv(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const s=u(i,["bytesBase64Encoded"]);s!=null&&f(t,["videoBytes"],sc(s));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _p;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_p||(_p={}));var Ep;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Ep||(Ep={}));var xp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(xp||(xp={}));var si;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(si||(si={}));var Cp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Cp||(Cp={}));var Ap;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Ap||(Ap={}));var Np;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Np||(Np={}));var bp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bp||(bp={}));var Rp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Rp||(Rp={}));var Mp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Mp||(Mp={}));var wp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(wp||(wp={}));var Ip;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Ip||(Ip={}));var Dp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Dp||(Dp={}));var Up;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Up||(Up={}));var Lp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Lp||(Lp={}));var Gp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Gp||(Gp={}));var Hp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Hp||(Hp={}));var qp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qp||(qp={}));var Vp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Vp||(Vp={}));var kp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(kp||(kp={}));var zp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(zp||(zp={}));var ua;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(ua||(ua={}));var Pp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pp||(Pp={}));var Bp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bp||(Bp={}));var Op;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Op||(Op={}));var Fu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Fu||(Fu={}));var Fp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Fp||(Fp={}));var Jp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Jp||(Jp={}));var Ju;(function(i){i.COLLECTION="COLLECTION"})(Ju||(Ju={}));var Yp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Yp||(Yp={}));var Kp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Kp||(Kp={}));var ca;(function(i){i.PREDICT="PREDICT",i.EMBED_CONTENT="EMBED_CONTENT"})(ca||(ca={}));var Xp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Xp||(Xp={}));var Qp;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Qp||(Qp={}));var Zp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Zp||(Zp={}));var $p;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($p||($p={}));var Wp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Wp||(Wp={}));var jp;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(jp||(jp={}));var eh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(eh||(eh={}));var th;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(th||(th={}));var nh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(nh||(nh={}));var ih;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(ih||(ih={}));var lh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(lh||(lh={}));var oh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(oh||(oh={}));var sh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(sh||(sh={}));var ah;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(ah||(ah={}));var rh;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(rh||(rh={}));var uh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(uh||(uh={}));var ch;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(ch||(ch={}));var fh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(fh||(fh={}));var dh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(dh||(dh={}));var mh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(mh||(mh={}));var ph;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ph||(ph={}));var hh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(hh||(hh={}));var gh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(gh||(gh={}));var yh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yh||(yh={}));var vh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(vh||(vh={}));var Al;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Al||(Al={}));class Yu{constructor(t){const l={};for(const s of t.headers.entries())l[s[0]]=s[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Io{get text(){var t,l,s,r,c,m,g,y;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const _=[];for(const E of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,N]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(N!==null||N!==void 0)&&_.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,h+=E.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var t,l,s,r,c,m,g,y;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const _ of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(_))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);_.inlineData&&typeof _.inlineData.data=="string"&&(h+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,s,r,c,m,g,y;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,s,r,c,m,g,y,h;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,s,r,c,m,g,y,h;if(((r=(s=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(h=v==null?void 0:v[0])===null||h===void 0?void 0:h.output}}class Th{}class Sh{}class Ov{}class Fv{}class Jv{}class Yv{}class _h{}class Eh{}class xh{}class Kv{}class fa{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new fa;let r;const c=t;return l?r=Iv(c):r=wv(c),Object.assign(s,r),s}}class Ch{}class Ah{}class Nh{}class bh{}class Xv{}class Qv{}class Zv{}class ac{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new ac,c=Vv(t);return Object.assign(s,c),s}}class $v{}class Wv{}class jv{}class eT{}class Rh{}class tT{get text(){var t,l,s;let r="",c=!1;const m=[];for(const g of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,s;let r="";const c=[];for(const m of(s=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&c.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class nT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class rc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const s=new rc,c=ng(t);return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ie(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function ig(i,t){const l=Ie(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function lg(i){return Array.isArray(i)?i.map(t=>da(t)):[da(i)]}function da(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function og(i){const t=da(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function sg(i){const t=da(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Mh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function ag(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Mh(t)):[Mh(i)]}function Ku(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function wh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Ih(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function st(i){if(i==null)throw new Error("ContentUnion is required");return Ku(i)?i:{role:"user",parts:ag(i)}}function uc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const s=st(l);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const l=st(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>st(l)):[st(t)]}function Ut(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(wh(i)||Ih(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[st(i)]}const t=[],l=[],s=Ku(i[0]);for(const r of i){const c=Ku(r);if(c!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(wh(r)||Ih(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return s||t.push({role:"user",parts:ag(l)}),t}function iT(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(s=>s!=="null");if(l.length===1)t.type=Object.values(si).includes(l[0].toUpperCase())?l[0].toUpperCase():si.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const s of l)t.anyOf.push({type:Object.values(si).includes(s.toUpperCase())?s.toUpperCase():si.TYPE_UNSPECIFIED})}}function bl(i){const t={},l=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&iT(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(si).includes(g.toUpperCase())?g.toUpperCase():si.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=bl(g);else if(s.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(bl(h))}t[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=bl(v);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function cc(i){return bl(i)}function fc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function dc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ml(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=bl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=bl(t.response));return i}function wl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function lT(i,t,l,s=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===s;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function Dn(i,t){if(typeof t!="string")throw new Error("name must be a string");return lT(i,t,"cachedContents")}function rg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ai(i){return sc(i)}function oT(i){return i!=null&&typeof i=="object"&&"name"in i}function sT(i){return i!=null&&typeof i=="object"&&"video"in i}function aT(i){return i!=null&&typeof i=="object"&&"uri"in i}function ug(i){var t;let l;if(oT(i)&&(l=i.name),!(aT(i)&&(l=i.uri,l===void 0))&&!(sT(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function cg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function fg(i){for(const t of["models","tunedModels","publisherModels"])if(rT(i,t))return i[t];return[]}function rT(i,t){return i!==null&&typeof i=="object"&&t in i}function uT(i,t={}){const l=i,s={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(s.responseJsonSchema=l.outputSchema),t.behavior&&(s.behavior=t.behavior),{functionDeclarations:[s]}}function cT(i,t={}){const l=[],s=new Set;for(const r of i){const c=r.name;if(s.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);s.add(c);const m=uT(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function dg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const s=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function fT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function mg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Il(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function pg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function dT(i){return i.includes("gemini")&&i!=="gemini-embedding-001"||i.includes("maas")}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>KT(m))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["inlinedEmbedContentResponses"],c)}return t}function pT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function hT(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function aa(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata","displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],pg(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const m=u(i,["metadata","endTime"]);m!=null&&f(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&f(t,["dest"],mT(mg(h))),t}function Xu(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["displayName"]);s!=null&&f(t,["displayName"],s);const r=u(i,["state"]);r!=null&&f(t,["state"],pg(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["createTime"]);m!=null&&f(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(t,["updateTime"],h);const v=u(i,["model"]);v!=null&&f(t,["model"],v);const _=u(i,["inputConfig"]);_!=null&&f(t,["src"],gT(_));const E=u(i,["outputConfig"]);E!=null&&f(t,["dest"],pT(mg(E)));const C=u(i,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function gT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const s=u(i,["gcsSource","uris"]);s!=null&&f(t,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function yT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(t,["fileName"]);s!=null&&f(l,["fileName"],s);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>YT(i,m))),f(l,["requests","requests"],c)}return l}function vT(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const s=u(i,["gcsUri"]);s!=null&&f(t,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function TT(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function ST(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Il(i,s)),l}function _T(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Il(i,s)),l}function ET(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const s=u(i,["citationMetadata"]);s!=null&&f(t,["citationMetadata"],xT(s));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const m=u(i,["avgLogprobs"]);m!=null&&f(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&f(t,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(t,["urlContextMetadata"],_),t}function xT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["citations"],s)}return t}function hg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>eS(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function CT(i,t){const l={},s=u(i,["displayName"]);if(t!==void 0&&s!=null&&f(t,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function AT(i,t){const l={},s=u(i,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],hT(fT(r))),l}function Dh(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],Ie(i,s));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],yT(i,dg(i,r)));const c=u(t,["config"]);return c!=null&&CT(c,l),l}function NT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],Ie(i,s));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],vT(dg(i,r)));const c=u(t,["config"]);return c!=null&&AT(c,l),l}function bT(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["batch","displayName"],s),l}function RT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["_url","model"],Ie(i,s));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],GT(i,r));const c=u(t,["config"]);return c!=null&&bT(c,l),l}function MT(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Il(i,s)),l}function wT(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Il(i,s)),l}function IT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function DT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function UT(i,t){const l={},s=u(t,["contents"]);if(s!=null){let c=uc(i,s);Array.isArray(c)&&(c=c.map(m=>m)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],LT(r,l)),Rv(l,{"requests[].*":"requests[].request.*"})),l}function LT(i,t){const l={},s=u(i,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function GT(i,t){const l={},s=u(t,["fileName"]);s!=null&&f(l,["file_name"],s);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],UT(i,r)),l}function HT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function qT(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function VT(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function kT(i,t,l){const s={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],hg(st(r)));const c=u(t,["temperature"]);c!=null&&f(s,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(s,["topP"],m);const g=u(t,["topK"]);g!=null&&f(s,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(s,["maxOutputTokens"],h);const v=u(t,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const _=u(t,["responseLogprobs"]);_!=null&&f(s,["responseLogprobs"],_);const E=u(t,["logprobs"]);E!=null&&f(s,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&f(s,["presencePenalty"],C);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const I=u(t,["seed"]);I!=null&&f(s,["seed"],I);const D=u(t,["responseMimeType"]);D!=null&&f(s,["responseMimeType"],D);const F=u(t,["responseSchema"]);F!=null&&f(s,["responseSchema"],cc(F));const J=u(t,["responseJsonSchema"]);if(J!=null&&f(s,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=u(t,["safetySettings"]);if(l!==void 0&&k!=null){let ze=k;Array.isArray(ze)&&(ze=ze.map(Ue=>tS(Ue))),f(l,["safetySettings"],ze)}const K=u(t,["tools"]);if(l!==void 0&&K!=null){let ze=wl(K);Array.isArray(ze)&&(ze=ze.map(Ue=>iS(Ml(Ue)))),f(l,["tools"],ze)}const te=u(t,["toolConfig"]);if(l!==void 0&&te!=null&&f(l,["toolConfig"],nS(te)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=u(t,["cachedContent"]);l!==void 0&&P!=null&&f(l,["cachedContent"],Dn(i,P));const Q=u(t,["responseModalities"]);Q!=null&&f(s,["responseModalities"],Q);const ye=u(t,["mediaResolution"]);ye!=null&&f(s,["mediaResolution"],ye);const ne=u(t,["speechConfig"]);if(ne!=null&&f(s,["speechConfig"],fc(ne)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(t,["thinkingConfig"]);he!=null&&f(s,["thinkingConfig"],he);const Ae=u(t,["imageConfig"]);Ae!=null&&f(s,["imageConfig"],JT(Ae));const Ne=u(t,["enableEnhancedCivicAnswers"]);if(Ne!=null&&f(s,["enableEnhancedCivicAnswers"],Ne),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function zT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>ET(h))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const m=u(i,["responseId"]);m!=null&&f(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function PT(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Il(i,s)),l}function BT(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Il(i,s)),l}function OT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function FT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function JT(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const s=u(i,["imageSize"]);if(s!=null&&f(t,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function YT(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["request","model"],Ie(i,s));const r=u(t,["contents"]);if(r!=null){let g=Ut(r);Array.isArray(g)&&(g=g.map(y=>hg(y))),f(l,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const m=u(t,["config"]);return m!=null&&f(l,["request","generationConfig"],kT(i,m,u(l,["request"],{}))),l}function KT(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],zT(l));const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function XT(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function QT(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function ZT(i){const t={},l=u(i,["config"]);return l!=null&&XT(l,t),t}function $T(i){const t={},l=u(i,["config"]);return l!=null&&QT(l,t),t}function WT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>aa(m))),f(t,["batchJobs"],c)}return t}function jT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Xu(m))),f(t,["batchJobs"],c)}return t}function eS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],HT(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],qT(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],TT(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function tS(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&f(t,["threshold"],s),t}function nS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],VT(s)),t}function iS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],OT(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],FT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(wn||(wn={}));class Li{constructor(t,l,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,s,r)}init(t,l,s){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lS extends In{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(wn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Dh(this.apiClient,t),s=l._url,r=W("{model}:batchGenerateContent",s),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const E=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=E,_.request=C}h.push(_)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const s=l?Object.assign({},l):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const c=this.getGcsUri(t),m=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?s.dest=`${c.slice(0,-6)}/dest`:s.dest=`${c}_dest_${r}`;else if(m)s.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NT(this.apiClient,t);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Xu(v))}else{const h=Dh(this.apiClient,t);return g=W("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>aa(v))}}async createEmbeddingsInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=RT(this.apiClient,t);return c=W("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>aa(y))}}async get(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BT(this.apiClient,t);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Xu(v))}else{const h=PT(this.apiClient,t);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>aa(v))}}async cancel(t){var l,s,r,c;let m="",g={};if(this.apiClient.isVertexAI()){const y=_T(this.apiClient,t);m=W("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=ST(this.apiClient,t);m=W("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$T(t);return g=W("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=jT(v),E=new Rh;return Object.assign(E,_),E})}else{const h=ZT(t);return g=W("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=WT(v),E=new Rh;return Object.assign(E,_),E})}}async delete(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=wT(this.apiClient,t);return g=W("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>DT(v))}else{const h=MT(this.apiClient,t);return g=W("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>IT(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oS(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function Uh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>RS(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function sS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let v=Ut(m);Array.isArray(v)&&(v=v.map(_=>Uh(_))),f(t,["contents"],v)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],Uh(st(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>wS(_))),f(t,["tools"],v)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&f(t,["toolConfig"],MS(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function aS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let _=Ut(m);Array.isArray(_)&&(_=_.map(E=>E)),f(t,["contents"],_)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],st(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(E=>IS(E))),f(t,["tools"],_)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&f(t,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),l}function rS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],ig(i,s));const r=u(t,["config"]);return r!=null&&sS(r,l),l}function uS(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["model"],ig(i,s));const r=u(t,["config"]);return r!=null&&aS(r,l),l}function cS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Dn(i,s)),l}function fS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Dn(i,s)),l}function dS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function mS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function pS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function hS(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function gS(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const s=u(i,["mode"]);if(s!=null&&f(t,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function yS(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function vS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Dn(i,s)),l}function TS(i,t){const l={},s=u(t,["name"]);return s!=null&&f(l,["_url","name"],Dn(i,s)),l}function SS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function _S(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function ES(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function xS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function CS(i){const t={},l=u(i,["config"]);return l!=null&&ES(l,t),t}function AS(i){const t={},l=u(i,["config"]);return l!=null&&xS(l,t),t}function NS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["cachedContents"],c)}return t}function bS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["cachedContents"],c)}return t}function RS(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],pS(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],hS(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],oS(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function MS(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const s=u(i,["functionCallingConfig"]);return s!=null&&f(t,["functionCallingConfig"],gS(s)),t}function wS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],SS(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],_S(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function IS(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const m=u(i,["functionDeclarations"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(E=>yS(E))),f(t,["functionDeclarations"],_)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function DS(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function US(i,t){const l={},s=u(i,["ttl"]);t!==void 0&&s!=null&&f(t,["ttl"],s);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function LS(i,t){const l={},s=u(t,["name"]);s!=null&&f(l,["_url","name"],Dn(i,s));const r=u(t,["config"]);return r!=null&&DS(r,l),l}function GS(i,t){const l={},s=u(t,["name"]);s!=null&&f(l,["_url","name"],Dn(i,s));const r=u(t,["config"]);return r!=null&&US(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HS extends In{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(wn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(l),l)}async create(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=uS(this.apiClient,t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=rS(this.apiClient,t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=TS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=vS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=fS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=mS(v),E=new Nh;return Object.assign(E,_),E})}else{const h=cS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=dS(v),E=new Nh;return Object.assign(E,_),E})}}async update(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=GS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=LS(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=AS(t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=bS(v),E=new bh;return Object.assign(E,_),E})}else{const h=CS(t);return g=W("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=NS(v),E=new bh;return Object.assign(E,_),E})}}}function ma(i,t){var l={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(l[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(l[s[r]]=i[s[r]]);return l}function Lh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],s=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(i){return this instanceof de?(this.v=i,this):new de(i)}function Wt(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(C){return function(N){return Promise.resolve(N).then(C,_)}}function g(C,N){s[C]&&(r[C]=function(I){return new Promise(function(D,F){c.push([C,I,D,F])>1||y(C,I)})},N&&(r[C]=N(r[C])))}function y(C,N){try{h(s[C](N))}catch(I){E(c[0][3],I)}}function h(C){C.value instanceof de?Promise.resolve(C.value.v).then(v,_):E(c[0][2],C)}function v(C){y("next",C)}function _(C){y("throw",C)}function E(C,N){C(N),c.shift(),c.length&&y(c[0][0],c[0][1])}}function jt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Lh=="function"?Lh(i):i[Symbol.iterator](),l={},s("next"),s("throw"),s("return"),l[Symbol.asyncIterator]=function(){return this},l);function s(c){l[c]=i[c]&&function(m){return new Promise(function(g,y){m=i[c](m),r(g,y,m.done,m.value)})}}function r(c,m,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:gg(l)}function gg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function VS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Gh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let s=0;for(;s<l;)if(i[s].role==="user")t.push(i[s]),s++;else{const r=[];let c=!0;for(;s<l&&i[s].role==="model";)r.push(i[s]),c&&!gg(i[s])&&(c=!1),s++;c?t.push(...r):t.pop()}return t}class kS{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new zS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class zS{constructor(t,l,s,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=s,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),VS(c)}async sendMessage(t){var l;await this.sendPromise;const s=st(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,m,g;const y=await r,h=(m=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let E=[];v!=null&&(E=(g=v.slice(_))!==null&&g!==void 0?g:[]);const C=h?[h]:[];this.recordHistory(s,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const s=st(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,s)}getHistory(t=!1){const l=t?Gh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return Wt(this,arguments,function*(){var r,c,m,g,y,h;const v=[];try{for(var _=!0,E=jt(t),C;C=yield de(E.next()),r=C.done,!r;_=!0){g=C.value,_=!1;const N=g;if(qS(N)){const I=(h=(y=N.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;I!==void 0&&v.push(I)}yield yield de(N)}}catch(N){c={error:N}}finally{try{!_&&!r&&(m=E.return)&&(yield de(m.call(E)))}finally{if(c)throw c.error}}this.recordHistory(l,v)})}recordHistory(t,l,s){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Gh(s)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lo extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Lo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function BS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function OS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],ug(l)),t}function FS(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function JS(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],ug(l)),t}function YS(i){const t={},l=u(i,["uris"]);return l!=null&&f(t,["uris"],l),t}function KS(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function XS(i){const t={},l=u(i,["config"]);return l!=null&&KS(l,t),t}function QS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["files"],c)}return t}function ZS(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S extends In{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(wn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XS(t);return c=W("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=QS(y),v=new $v;return Object.assign(v,h),v})}}async createInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PS(t);return c=W("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=BS(y),v=new Wv;return Object.assign(v,h),v})}}async get(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=JS(t);return c=W("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OS(t);return c=W("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=FS(y),v=new jv;return Object.assign(v,h),v})}}async registerFilesInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=YS(t);return c=W("files:register",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=ZS(y),v=new eT;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ra(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function WS(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>p_(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function jS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function e_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function t_(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const s=u(i,["name"]);s!=null&&f(t,["name"],s);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function n_(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const s=u(i,["responseJsonSchema"]);s!=null&&f(t,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const m=u(i,["enableAffectiveDialog"]);m!=null&&f(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&f(t,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const _=u(i,["presencePenalty"]);_!=null&&f(t,["presencePenalty"],_);const E=u(i,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const N=u(i,["responseModalities"]);N!=null&&f(t,["responseModalities"],N);const I=u(i,["responseSchema"]);I!=null&&f(t,["responseSchema"],I);const D=u(i,["routingConfig"]);D!=null&&f(t,["routingConfig"],D);const F=u(i,["seed"]);F!=null&&f(t,["seed"],F);const J=u(i,["speechConfig"]);J!=null&&f(t,["speechConfig"],J);const k=u(i,["stopSequences"]);k!=null&&f(t,["stopSequences"],k);const K=u(i,["temperature"]);K!=null&&f(t,["temperature"],K);const te=u(i,["thinkingConfig"]);te!=null&&f(t,["thinkingConfig"],te);const P=u(i,["topK"]);P!=null&&f(t,["topK"],P);const Q=u(i,["topP"]);if(Q!=null&&f(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function i_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function l_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function o_(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],dc(_));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],WS(st(N)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let P=wl(I);Array.isArray(P)&&(P=P.map(Q=>g_(Ml(Q)))),f(t,["setup","tools"],P)}const D=u(i,["sessionResumption"]);t!==void 0&&D!=null&&f(t,["setup","sessionResumption"],h_(D));const F=u(i,["inputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","inputAudioTranscription"],F);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&f(t,["setup","outputAudioTranscription"],J);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&f(t,["setup","contextWindowCompression"],K);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&f(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function s_(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],n_(s));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],dc(_));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],st(N));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let Q=wl(I);Array.isArray(Q)&&(Q=Q.map(ye=>y_(Ml(ye)))),f(t,["setup","tools"],Q)}const D=u(i,["sessionResumption"]);t!==void 0&&D!=null&&f(t,["setup","sessionResumption"],D);const F=u(i,["inputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","inputAudioTranscription"],F);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&f(t,["setup","outputAudioTranscription"],J);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&f(t,["setup","contextWindowCompression"],K);const te=u(i,["proactivity"]);t!==void 0&&te!=null&&f(t,["setup","proactivity"],te);const P=u(i,["explicitVadSignal"]);return t!==void 0&&P!=null&&f(t,["setup","explicitVadSignal"],P),l}function a_(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],o_(r,l)),l}function r_(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],s_(r,l)),l}function u_(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function c_(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let s=l;Array.isArray(s)&&(s=s.map(r=>r)),f(t,["weightedPrompts"],s)}return t}function f_(i){const t={},l=u(i,["media"]);if(l!=null){let h=lg(l);Array.isArray(h)&&(h=h.map(v=>ra(v))),f(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],ra(sg(s)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],ra(og(c)));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function d_(i){const t={},l=u(i,["media"]);if(l!=null){let h=lg(l);Array.isArray(h)&&(h=h.map(v=>v)),f(t,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&f(t,["audio"],sg(s));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],og(c));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function m_(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const s=u(i,["serverContent"]);s!=null&&f(t,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const m=u(i,["usageMetadata"]);m!=null&&f(t,["usageMetadata"],v_(m));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&f(t,["voiceActivityDetectionSignal"],h);const v=u(i,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],T_(v)),t}function p_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],jS(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],e_(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],ra(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function h_(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function g_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],i_(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],l_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function y_(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const s=u(i,["computerUse"]);if(s!=null&&f(t,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const m=u(i,["functionDeclarations"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(E=>t_(E))),f(t,["functionDeclarations"],_)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function v_(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const s=u(i,["cachedContentTokenCount"]);s!=null&&f(t,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const m=u(i,["thoughtsTokenCount"]);m!=null&&f(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(N=>N)),f(t,["promptTokensDetails"],C)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(N=>N)),f(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(N=>N)),f(t,["responseTokensDetails"],C)}const _=u(i,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(N=>N)),f(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}function T_(i){const t={},l=u(i,["type"]);return l!=null&&f(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function S_(i,t){const l={},s=u(i,["data"]);if(s!=null&&f(l,["data"],s),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function __(i,t){const l={},s=u(i,["content"]);s!=null&&f(l,["content"],s);const r=u(i,["citationMetadata"]);r!=null&&f(l,["citationMetadata"],E_(r));const c=u(i,["tokenCount"]);c!=null&&f(l,["tokenCount"],c);const m=u(i,["finishReason"]);m!=null&&f(l,["finishReason"],m);const g=u(i,["avgLogprobs"]);g!=null&&f(l,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(l,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&f(l,["index"],h);const v=u(i,["logprobsResult"]);v!=null&&f(l,["logprobsResult"],v);const _=u(i,["safetyRatings"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(N=>N)),f(l,["safetyRatings"],C)}const E=u(i,["urlContextMetadata"]);return E!=null&&f(l,["urlContextMetadata"],E),l}function E_(i,t){const l={},s=u(i,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["citations"],r)}return l}function x_(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let m=Ut(c);Array.isArray(m)&&(m=m.map(g=>g)),f(s,["contents"],m)}return s}function C_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(l,["tokensInfo"],c)}return l}function A_(i,t){const l={},s=u(i,["values"]);s!=null&&f(l,["values"],s);const r=u(i,["statistics"]);return r!=null&&f(l,["statistics"],N_(r)),l}function N_(i,t){const l={},s=u(i,["truncated"]);s!=null&&f(l,["truncated"],s);const r=u(i,["token_count"]);return r!=null&&f(l,["tokenCount"],r),l}function Go(i,t){const l={},s=u(i,["parts"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>GE(m))),f(l,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(l,["role"],r),l}function b_(i,t){const l={},s=u(i,["controlType"]);s!=null&&f(l,["controlType"],s);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(l,["computeControl"],r),l}function R_(i,t){const l={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return l}function M_(i,t,l){const s={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],st(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Sg(y))),f(t,["tools"],g)}const m=u(i,["generationConfig"]);return t!==void 0&&m!=null&&f(t,["generationConfig"],SE(m)),s}function w_(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=Ut(c);Array.isArray(g)&&(g=g.map(y=>Go(y))),f(s,["contents"],g)}const m=u(t,["config"]);return m!=null&&R_(m),s}function I_(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=Ut(c);Array.isArray(g)&&(g=g.map(y=>y)),f(s,["contents"],g)}const m=u(t,["config"]);return m!=null&&M_(m,s),s}function D_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);r!=null&&f(l,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(l,["cachedContentTokenCount"],c),l}function U_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);return r!=null&&f(l,["totalTokens"],r),l}function L_(i,t,l){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function G_(i,t,l){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function H_(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function q_(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function V_(i,t,l){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const m=u(i,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const _=u(i,["personGeneration"]);t!==void 0&&_!=null&&f(t,["parameters","personGeneration"],_);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const C=u(i,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const N=u(i,["language"]);t!==void 0&&N!=null&&f(t,["parameters","language"],N);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","mimeType"],I);const D=u(i,["outputCompressionQuality"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","compressionQuality"],D);const F=u(i,["addWatermark"]);t!==void 0&&F!=null&&f(t,["parameters","addWatermark"],F);const J=u(i,["labels"]);t!==void 0&&J!=null&&f(t,["labels"],J);const k=u(i,["editMode"]);t!==void 0&&k!=null&&f(t,["parameters","editMode"],k);const K=u(i,["baseSteps"]);return t!==void 0&&K!=null&&f(t,["parameters","editConfig","baseSteps"],K),s}function k_(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const m=u(t,["referenceImages"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(h=>PE(h))),f(s,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&V_(g,s),s}function z_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>ga(m))),f(l,["generatedImages"],c)}return l}function P_(i,t,l){const s={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const m=u(i,["outputDimensionality"]);if(t!==void 0&&m!=null&&f(t,["requests[]","outputDimensionality"],m),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function B_(i,t,l){const s={};let r=u(l,["embeddingApiType"]);if(r===void 0&&(r="PREDICT"),r==="PREDICT"){const h=u(i,["taskType"]);t!==void 0&&h!=null&&f(t,["instances[]","task_type"],h)}else if(r==="EMBED_CONTENT"){const h=u(i,["taskType"]);t!==void 0&&h!=null&&f(t,["taskType"],h)}let c=u(l,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const h=u(i,["title"]);t!==void 0&&h!=null&&f(t,["instances[]","title"],h)}else if(c==="EMBED_CONTENT"){const h=u(i,["title"]);t!==void 0&&h!=null&&f(t,["title"],h)}let m=u(l,["embeddingApiType"]);if(m===void 0&&(m="PREDICT"),m==="PREDICT"){const h=u(i,["outputDimensionality"]);t!==void 0&&h!=null&&f(t,["parameters","outputDimensionality"],h)}else if(m==="EMBED_CONTENT"){const h=u(i,["outputDimensionality"]);t!==void 0&&h!=null&&f(t,["outputDimensionality"],h)}let g=u(l,["embeddingApiType"]);if(g===void 0&&(g="PREDICT"),g==="PREDICT"){const h=u(i,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h)}let y=u(l,["embeddingApiType"]);if(y===void 0&&(y="PREDICT"),y==="PREDICT"){const h=u(i,["autoTruncate"]);t!==void 0&&h!=null&&f(t,["parameters","autoTruncate"],h)}else if(y==="EMBED_CONTENT"){const h=u(i,["autoTruncate"]);t!==void 0&&h!=null&&f(t,["autoTruncate"],h)}return s}function O_(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let h=uc(i,c);Array.isArray(h)&&(h=h.map(v=>v)),f(s,["requests[]","content"],h)}const m=u(t,["content"]);m!=null&&Go(st(m));const g=u(t,["config"]);g!=null&&P_(g,s);const y=u(t,["model"]);return y!==void 0&&f(s,["requests[]","model"],Ie(i,y)),s}function F_(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));let c=u(l,["embeddingApiType"]);if(c===void 0&&(c="PREDICT"),c==="PREDICT"){const y=u(t,["contents"]);if(y!=null){let h=uc(i,y);Array.isArray(h)&&(h=h.map(v=>v)),f(s,["instances[]","content"],h)}}let m=u(l,["embeddingApiType"]);if(m===void 0&&(m="PREDICT"),m==="EMBED_CONTENT"){const y=u(t,["content"]);y!=null&&f(s,["content"],st(y))}const g=u(t,["config"]);return g!=null&&B_(g,s,l),s}function J_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["embeddings"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>g)),f(l,["embeddings"],m)}const c=u(i,["metadata"]);return c!=null&&f(l,["metadata"],c),l}function Y_(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>A_(g))),f(l,["embeddings"],m)}const c=u(i,["metadata"]);if(c!=null&&f(l,["metadata"],c),t&&u(t,["embeddingApiType"])==="EMBED_CONTENT"){const m=u(i,["embedding"]),g=u(i,["usageMetadata"]),y=u(i,["truncated"]);if(m){const h={};g&&g.promptTokenCount&&(h.tokenCount=g.promptTokenCount),y&&(h.truncated=y),m.statistics=h,f(l,["embeddings"],[m])}}return l}function K_(i,t){const l={},s=u(i,["endpoint"]);s!=null&&f(l,["name"],s);const r=u(i,["deployedModelId"]);return r!=null&&f(l,["deployedModelId"],r),l}function X_(i,t){const l={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["fileUri"]);s!=null&&f(l,["fileUri"],s);const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function Q_(i,t){const l={},s=u(i,["id"]);s!=null&&f(l,["id"],s);const r=u(i,["args"]);r!=null&&f(l,["args"],r);const c=u(i,["name"]);if(c!=null&&f(l,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return l}function Z_(i,t){const l={},s=u(i,["allowedFunctionNames"]);s!=null&&f(l,["allowedFunctionNames"],s);const r=u(i,["mode"]);if(r!=null&&f(l,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return l}function $_(i,t){const l={},s=u(i,["description"]);s!=null&&f(l,["description"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["parameters"]);c!=null&&f(l,["parameters"],c);const m=u(i,["parametersJsonSchema"]);m!=null&&f(l,["parametersJsonSchema"],m);const g=u(i,["response"]);g!=null&&f(l,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&f(l,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return l}function W_(i,t,l,s){const r={},c=u(t,["systemInstruction"]);l!==void 0&&c!=null&&f(l,["systemInstruction"],Go(st(c)));const m=u(t,["temperature"]);m!=null&&f(r,["temperature"],m);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const _=u(t,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const E=u(t,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&f(r,["logprobs"],C);const N=u(t,["presencePenalty"]);N!=null&&f(r,["presencePenalty"],N);const I=u(t,["frequencyPenalty"]);I!=null&&f(r,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&f(r,["seed"],D);const F=u(t,["responseMimeType"]);F!=null&&f(r,["responseMimeType"],F);const J=u(t,["responseSchema"]);J!=null&&f(r,["responseSchema"],cc(J));const k=u(t,["responseJsonSchema"]);if(k!=null&&f(r,["responseJsonSchema"],k),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=u(t,["safetySettings"]);if(l!==void 0&&K!=null){let Ue=K;Array.isArray(Ue)&&(Ue=Ue.map(Qe=>BE(Qe))),f(l,["safetySettings"],Ue)}const te=u(t,["tools"]);if(l!==void 0&&te!=null){let Ue=wl(te);Array.isArray(Ue)&&(Ue=Ue.map(Qe=>QE(Ml(Qe)))),f(l,["tools"],Ue)}const P=u(t,["toolConfig"]);if(l!==void 0&&P!=null&&f(l,["toolConfig"],XE(P)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(t,["cachedContent"]);l!==void 0&&Q!=null&&f(l,["cachedContent"],Dn(i,Q));const ye=u(t,["responseModalities"]);ye!=null&&f(r,["responseModalities"],ye);const ne=u(t,["mediaResolution"]);ne!=null&&f(r,["mediaResolution"],ne);const he=u(t,["speechConfig"]);if(he!=null&&f(r,["speechConfig"],fc(he)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ae=u(t,["thinkingConfig"]);Ae!=null&&f(r,["thinkingConfig"],Ae);const Ne=u(t,["imageConfig"]);Ne!=null&&f(r,["imageConfig"],AE(Ne));const ze=u(t,["enableEnhancedCivicAnswers"]);if(ze!=null&&f(r,["enableEnhancedCivicAnswers"],ze),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function j_(i,t,l,s){const r={},c=u(t,["systemInstruction"]);l!==void 0&&c!=null&&f(l,["systemInstruction"],st(c));const m=u(t,["temperature"]);m!=null&&f(r,["temperature"],m);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const v=u(t,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const _=u(t,["stopSequences"]);_!=null&&f(r,["stopSequences"],_);const E=u(t,["responseLogprobs"]);E!=null&&f(r,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&f(r,["logprobs"],C);const N=u(t,["presencePenalty"]);N!=null&&f(r,["presencePenalty"],N);const I=u(t,["frequencyPenalty"]);I!=null&&f(r,["frequencyPenalty"],I);const D=u(t,["seed"]);D!=null&&f(r,["seed"],D);const F=u(t,["responseMimeType"]);F!=null&&f(r,["responseMimeType"],F);const J=u(t,["responseSchema"]);J!=null&&f(r,["responseSchema"],cc(J));const k=u(t,["responseJsonSchema"]);k!=null&&f(r,["responseJsonSchema"],k);const K=u(t,["routingConfig"]);K!=null&&f(r,["routingConfig"],K);const te=u(t,["modelSelectionConfig"]);te!=null&&f(r,["modelConfig"],te);const P=u(t,["safetySettings"]);if(l!==void 0&&P!=null){let oe=P;Array.isArray(oe)&&(oe=oe.map(Ee=>Ee)),f(l,["safetySettings"],oe)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let oe=wl(Q);Array.isArray(oe)&&(oe=oe.map(Ee=>Sg(Ml(Ee)))),f(l,["tools"],oe)}const ye=u(t,["toolConfig"]);l!==void 0&&ye!=null&&f(l,["toolConfig"],ye);const ne=u(t,["labels"]);l!==void 0&&ne!=null&&f(l,["labels"],ne);const he=u(t,["cachedContent"]);l!==void 0&&he!=null&&f(l,["cachedContent"],Dn(i,he));const Ae=u(t,["responseModalities"]);Ae!=null&&f(r,["responseModalities"],Ae);const Ne=u(t,["mediaResolution"]);Ne!=null&&f(r,["mediaResolution"],Ne);const ze=u(t,["speechConfig"]);ze!=null&&f(r,["speechConfig"],fc(ze));const Ue=u(t,["audioTimestamp"]);Ue!=null&&f(r,["audioTimestamp"],Ue);const Qe=u(t,["thinkingConfig"]);Qe!=null&&f(r,["thinkingConfig"],Qe);const q=u(t,["imageConfig"]);if(q!=null&&f(r,["imageConfig"],NE(q)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Z=u(t,["modelArmorConfig"]);return l!==void 0&&Z!=null&&f(l,["modelArmorConfig"],Z),r}function Hh(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=Ut(c);Array.isArray(g)&&(g=g.map(y=>Go(y))),f(s,["contents"],g)}const m=u(t,["config"]);return m!=null&&f(s,["generationConfig"],W_(i,m,s)),s}function qh(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["contents"]);if(c!=null){let g=Ut(c);Array.isArray(g)&&(g=g.map(y=>y)),f(s,["contents"],g)}const m=u(t,["config"]);return m!=null&&f(s,["generationConfig"],j_(i,m,s)),s}function Vh(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(v=>__(v))),f(l,["candidates"],h)}const c=u(i,["modelVersion"]);c!=null&&f(l,["modelVersion"],c);const m=u(i,["promptFeedback"]);m!=null&&f(l,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&f(l,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(l,["usageMetadata"],y),l}function kh(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(_=>_)),f(l,["candidates"],v)}const c=u(i,["createTime"]);c!=null&&f(l,["createTime"],c);const m=u(i,["modelVersion"]);m!=null&&f(l,["modelVersion"],m);const g=u(i,["promptFeedback"]);g!=null&&f(l,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&f(l,["responseId"],y);const h=u(i,["usageMetadata"]);return h!=null&&f(l,["usageMetadata"],h),l}function eE(i,t,l){const s={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const m=u(i,["guidanceScale"]);if(t!==void 0&&m!=null&&f(t,["parameters","guidanceScale"],m),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const h=u(i,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const v=u(i,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const _=u(i,["language"]);t!==void 0&&_!=null&&f(t,["parameters","language"],_);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","mimeType"],E);const C=u(i,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=u(i,["imageSize"]);if(t!==void 0&&N!=null&&f(t,["parameters","sampleImageSize"],N),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function tE(i,t,l){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const m=u(i,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const v=u(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const _=u(i,["personGeneration"]);t!==void 0&&_!=null&&f(t,["parameters","personGeneration"],_);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const C=u(i,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const N=u(i,["language"]);t!==void 0&&N!=null&&f(t,["parameters","language"],N);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","mimeType"],I);const D=u(i,["outputCompressionQuality"]);t!==void 0&&D!=null&&f(t,["parameters","outputOptions","compressionQuality"],D);const F=u(i,["addWatermark"]);t!==void 0&&F!=null&&f(t,["parameters","addWatermark"],F);const J=u(i,["labels"]);t!==void 0&&J!=null&&f(t,["labels"],J);const k=u(i,["imageSize"]);t!==void 0&&k!=null&&f(t,["parameters","sampleImageSize"],k);const K=u(i,["enhancePrompt"]);return t!==void 0&&K!=null&&f(t,["parameters","enhancePrompt"],K),s}function nE(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const m=u(t,["config"]);return m!=null&&eE(m,s),s}function iE(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const m=u(t,["config"]);return m!=null&&tE(m,s),s}function lE(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>gE(g))),f(l,["generatedImages"],m)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(l,["positivePromptSafetyAttributes"],vg(c)),l}function oE(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>ga(g))),f(l,["generatedImages"],m)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(l,["positivePromptSafetyAttributes"],Tg(c)),l}function sE(i,t,l){const s={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);t!==void 0&&h!=null&&f(t,["parameters","negativePrompt"],h);const v=u(i,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=u(i,["lastFrame"]);t!==void 0&&_!=null&&f(t,["instances[0]","lastFrame"],ya(_));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(N=>rx(N))),f(t,["instances[0]","referenceImages"],C)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function aE(i,t,l){const s={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const m=u(i,["fps"]);t!==void 0&&m!=null&&f(t,["parameters","fps"],m);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&f(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const v=u(i,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const _=u(i,["personGeneration"]);t!==void 0&&_!=null&&f(t,["parameters","personGeneration"],_);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&f(t,["parameters","pubsubTopic"],E);const C=u(i,["negativePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","negativePrompt"],C);const N=u(i,["enhancePrompt"]);t!==void 0&&N!=null&&f(t,["parameters","enhancePrompt"],N);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&f(t,["parameters","generateAudio"],I);const D=u(i,["lastFrame"]);t!==void 0&&D!=null&&f(t,["instances[0]","lastFrame"],en(D));const F=u(i,["referenceImages"]);if(t!==void 0&&F!=null){let K=F;Array.isArray(K)&&(K=K.map(te=>ux(te))),f(t,["instances[0]","referenceImages"],K)}const J=u(i,["mask"]);t!==void 0&&J!=null&&f(t,["instances[0]","mask"],ax(J));const k=u(i,["compressionQuality"]);return t!==void 0&&k!=null&&f(t,["parameters","compressionQuality"],k),s}function rE(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["name"],s);const r=u(i,["metadata"]);r!=null&&f(l,["metadata"],r);const c=u(i,["done"]);c!=null&&f(l,["done"],c);const m=u(i,["error"]);m!=null&&f(l,["error"],m);const g=u(i,["response","generateVideoResponse"]);return g!=null&&f(l,["response"],dE(g)),l}function uE(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["name"],s);const r=u(i,["metadata"]);r!=null&&f(l,["metadata"],r);const c=u(i,["done"]);c!=null&&f(l,["done"],c);const m=u(i,["error"]);m!=null&&f(l,["error"],m);const g=u(i,["response"]);return g!=null&&f(l,["response"],mE(g)),l}function cE(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const m=u(t,["image"]);m!=null&&f(s,["instances[0]","image"],ya(m));const g=u(t,["video"]);g!=null&&f(s,["instances[0]","video"],_g(g));const y=u(t,["source"]);y!=null&&pE(y,s);const h=u(t,["config"]);return h!=null&&sE(h,s),s}function fE(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["prompt"]);c!=null&&f(s,["instances[0]","prompt"],c);const m=u(t,["image"]);m!=null&&f(s,["instances[0]","image"],en(m));const g=u(t,["video"]);g!=null&&f(s,["instances[0]","video"],Eg(g));const y=u(t,["source"]);y!=null&&hE(y,s);const h=u(t,["config"]);return h!=null&&aE(h,s),s}function dE(i,t){const l={},s=u(i,["generatedSamples"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>vE(g))),f(l,["generatedVideos"],m)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(l,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(l,["raiMediaFilteredReasons"],c),l}function mE(i,t){const l={},s=u(i,["videos"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(g=>TE(g))),f(l,["generatedVideos"],m)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(l,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(l,["raiMediaFilteredReasons"],c),l}function pE(i,t,l){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],ya(c));const m=u(i,["video"]);return t!==void 0&&m!=null&&f(t,["instances[0]","video"],_g(m)),s}function hE(i,t,l){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],en(c));const m=u(i,["video"]);return t!==void 0&&m!=null&&f(t,["instances[0]","video"],Eg(m)),s}function gE(i,t){const l={},s=u(i,["_self"]);s!=null&&f(l,["image"],bE(s));const r=u(i,["raiFilteredReason"]);r!=null&&f(l,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(l,["safetyAttributes"],vg(c)),l}function ga(i,t){const l={},s=u(i,["_self"]);s!=null&&f(l,["image"],yg(s));const r=u(i,["raiFilteredReason"]);r!=null&&f(l,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(l,["safetyAttributes"],Tg(c));const m=u(i,["prompt"]);return m!=null&&f(l,["enhancedPrompt"],m),l}function yE(i,t){const l={},s=u(i,["_self"]);s!=null&&f(l,["mask"],yg(s));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(l,["labels"],c)}return l}function vE(i,t){const l={},s=u(i,["video"]);return s!=null&&f(l,["video"],ox(s)),l}function TE(i,t){const l={},s=u(i,["_self"]);return s!=null&&f(l,["video"],sx(s)),l}function SE(i,t){const l={},s=u(i,["modelSelectionConfig"]);s!=null&&f(l,["modelConfig"],s);const r=u(i,["responseJsonSchema"]);r!=null&&f(l,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(l,["audioTimestamp"],c);const m=u(i,["candidateCount"]);m!=null&&f(l,["candidateCount"],m);const g=u(i,["enableAffectiveDialog"]);g!=null&&f(l,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&f(l,["frequencyPenalty"],y);const h=u(i,["logprobs"]);h!=null&&f(l,["logprobs"],h);const v=u(i,["maxOutputTokens"]);v!=null&&f(l,["maxOutputTokens"],v);const _=u(i,["mediaResolution"]);_!=null&&f(l,["mediaResolution"],_);const E=u(i,["presencePenalty"]);E!=null&&f(l,["presencePenalty"],E);const C=u(i,["responseLogprobs"]);C!=null&&f(l,["responseLogprobs"],C);const N=u(i,["responseMimeType"]);N!=null&&f(l,["responseMimeType"],N);const I=u(i,["responseModalities"]);I!=null&&f(l,["responseModalities"],I);const D=u(i,["responseSchema"]);D!=null&&f(l,["responseSchema"],D);const F=u(i,["routingConfig"]);F!=null&&f(l,["routingConfig"],F);const J=u(i,["seed"]);J!=null&&f(l,["seed"],J);const k=u(i,["speechConfig"]);k!=null&&f(l,["speechConfig"],k);const K=u(i,["stopSequences"]);K!=null&&f(l,["stopSequences"],K);const te=u(i,["temperature"]);te!=null&&f(l,["temperature"],te);const P=u(i,["thinkingConfig"]);P!=null&&f(l,["thinkingConfig"],P);const Q=u(i,["topK"]);Q!=null&&f(l,["topK"],Q);const ye=u(i,["topP"]);if(ye!=null&&f(l,["topP"],ye),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function _E(i,t,l){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function EE(i,t,l){const s={},r=u(t,["model"]);return r!=null&&f(s,["_url","name"],Ie(i,r)),s}function xE(i,t){const l={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=u(i,["enableWidget"]);return s!=null&&f(l,["enableWidget"],s),l}function CE(i,t){const l={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=u(i,["timeRangeFilter"]);return s!=null&&f(l,["timeRangeFilter"],s),l}function AE(i,t){const l={},s=u(i,["aspectRatio"]);s!=null&&f(l,["aspectRatio"],s);const r=u(i,["imageSize"]);if(r!=null&&f(l,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return l}function NE(i,t){const l={},s=u(i,["aspectRatio"]);s!=null&&f(l,["aspectRatio"],s);const r=u(i,["imageSize"]);r!=null&&f(l,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(l,["personGeneration"],c);const m=u(i,["outputMimeType"]);m!=null&&f(l,["imageOutputOptions","mimeType"],m);const g=u(i,["outputCompressionQuality"]);return g!=null&&f(l,["imageOutputOptions","compressionQuality"],g),l}function bE(i,t){const l={},s=u(i,["bytesBase64Encoded"]);s!=null&&f(l,["imageBytes"],ai(s));const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function yg(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&f(l,["gcsUri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(l,["imageBytes"],ai(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}function ya(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=u(i,["imageBytes"]);s!=null&&f(l,["bytesBase64Encoded"],ai(s));const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function en(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&f(l,["gcsUri"],s);const r=u(i,["imageBytes"]);r!=null&&f(l,["bytesBase64Encoded"],ai(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}function RE(i,t,l,s){const r={},c=u(t,["pageSize"]);l!==void 0&&c!=null&&f(l,["_query","pageSize"],c);const m=u(t,["pageToken"]);l!==void 0&&m!=null&&f(l,["_query","pageToken"],m);const g=u(t,["filter"]);l!==void 0&&g!=null&&f(l,["_query","filter"],g);const y=u(t,["queryBase"]);return l!==void 0&&y!=null&&f(l,["_url","models_url"],cg(i,y)),r}function ME(i,t,l,s){const r={},c=u(t,["pageSize"]);l!==void 0&&c!=null&&f(l,["_query","pageSize"],c);const m=u(t,["pageToken"]);l!==void 0&&m!=null&&f(l,["_query","pageToken"],m);const g=u(t,["filter"]);l!==void 0&&g!=null&&f(l,["_query","filter"],g);const y=u(t,["queryBase"]);return l!==void 0&&y!=null&&f(l,["_url","models_url"],cg(i,y)),r}function wE(i,t,l){const s={},r=u(t,["config"]);return r!=null&&RE(i,r,s),s}function IE(i,t,l){const s={},r=u(t,["config"]);return r!=null&&ME(i,r,s),s}function DE(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let m=fg(c);Array.isArray(m)&&(m=m.map(g=>Qu(g))),f(l,["models"],m)}return l}function UE(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let m=fg(c);Array.isArray(m)&&(m=m.map(g=>Zu(g))),f(l,["models"],m)}return l}function LE(i,t){const l={},s=u(i,["maskMode"]);s!=null&&f(l,["maskMode"],s);const r=u(i,["segmentationClasses"]);r!=null&&f(l,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(l,["dilation"],c),l}function Qu(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["name"],s);const r=u(i,["displayName"]);r!=null&&f(l,["displayName"],r);const c=u(i,["description"]);c!=null&&f(l,["description"],c);const m=u(i,["version"]);m!=null&&f(l,["version"],m);const g=u(i,["_self"]);g!=null&&f(l,["tunedModelInfo"],ZE(g));const y=u(i,["inputTokenLimit"]);y!=null&&f(l,["inputTokenLimit"],y);const h=u(i,["outputTokenLimit"]);h!=null&&f(l,["outputTokenLimit"],h);const v=u(i,["supportedGenerationMethods"]);v!=null&&f(l,["supportedActions"],v);const _=u(i,["temperature"]);_!=null&&f(l,["temperature"],_);const E=u(i,["maxTemperature"]);E!=null&&f(l,["maxTemperature"],E);const C=u(i,["topP"]);C!=null&&f(l,["topP"],C);const N=u(i,["topK"]);N!=null&&f(l,["topK"],N);const I=u(i,["thinking"]);return I!=null&&f(l,["thinking"],I),l}function Zu(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["name"],s);const r=u(i,["displayName"]);r!=null&&f(l,["displayName"],r);const c=u(i,["description"]);c!=null&&f(l,["description"],c);const m=u(i,["versionId"]);m!=null&&f(l,["version"],m);const g=u(i,["deployedModels"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(C=>K_(C))),f(l,["endpoints"],E)}const y=u(i,["labels"]);y!=null&&f(l,["labels"],y);const h=u(i,["_self"]);h!=null&&f(l,["tunedModelInfo"],$E(h));const v=u(i,["defaultCheckpointId"]);v!=null&&f(l,["defaultCheckpointId"],v);const _=u(i,["checkpoints"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>C)),f(l,["checkpoints"],E)}return l}function GE(i,t){const l={},s=u(i,["mediaResolution"]);s!=null&&f(l,["mediaResolution"],s);const r=u(i,["codeExecutionResult"]);r!=null&&f(l,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(l,["executableCode"],c);const m=u(i,["fileData"]);m!=null&&f(l,["fileData"],X_(m));const g=u(i,["functionCall"]);g!=null&&f(l,["functionCall"],Q_(g));const y=u(i,["functionResponse"]);y!=null&&f(l,["functionResponse"],y);const h=u(i,["inlineData"]);h!=null&&f(l,["inlineData"],S_(h));const v=u(i,["text"]);v!=null&&f(l,["text"],v);const _=u(i,["thought"]);_!=null&&f(l,["thought"],_);const E=u(i,["thoughtSignature"]);E!=null&&f(l,["thoughtSignature"],E);const C=u(i,["videoMetadata"]);return C!=null&&f(l,["videoMetadata"],C),l}function HE(i,t){const l={},s=u(i,["productImage"]);return s!=null&&f(l,["image"],en(s)),l}function qE(i,t,l){const s={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const m=u(i,["outputGcsUri"]);t!==void 0&&m!=null&&f(t,["parameters","storageUri"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h);const v=u(i,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const N=u(i,["labels"]);return t!==void 0&&N!=null&&f(t,["labels"],N),s}function VE(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["source"]);c!=null&&zE(c,s);const m=u(t,["config"]);return m!=null&&qE(m,s),s}function kE(i,t){const l={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>ga(c))),f(l,["generatedImages"],r)}return l}function zE(i,t,l){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],en(c));const m=u(i,["productImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>HE(y))),f(t,["instances[0]","productImages"],g)}return s}function PE(i,t){const l={},s=u(i,["referenceImage"]);s!=null&&f(l,["referenceImage"],en(s));const r=u(i,["referenceId"]);r!=null&&f(l,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(l,["referenceType"],c);const m=u(i,["maskImageConfig"]);m!=null&&f(l,["maskImageConfig"],LE(m));const g=u(i,["controlImageConfig"]);g!=null&&f(l,["controlImageConfig"],b_(g));const y=u(i,["styleImageConfig"]);y!=null&&f(l,["styleImageConfig"],y);const h=u(i,["subjectImageConfig"]);return h!=null&&f(l,["subjectImageConfig"],h),l}function vg(i,t){const l={},s=u(i,["safetyAttributes","categories"]);s!=null&&f(l,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(l,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(l,["contentType"],c),l}function Tg(i,t){const l={},s=u(i,["safetyAttributes","categories"]);s!=null&&f(l,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(l,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(l,["contentType"],c),l}function BE(i,t){const l={},s=u(i,["category"]);if(s!=null&&f(l,["category"],s),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(l,["threshold"],r),l}function OE(i,t){const l={},s=u(i,["image"]);return s!=null&&f(l,["image"],en(s)),l}function FE(i,t,l){const s={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const m=u(i,["confidenceThreshold"]);t!==void 0&&m!=null&&f(t,["parameters","confidenceThreshold"],m);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&f(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const h=u(i,["labels"]);return t!==void 0&&h!=null&&f(t,["labels"],h),s}function JE(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["source"]);c!=null&&KE(c,s);const m=u(t,["config"]);return m!=null&&FE(m,s),s}function YE(i,t){const l={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>yE(c))),f(l,["generatedMasks"],r)}return l}function KE(i,t,l){const s={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],en(c));const m=u(i,["scribbleImage"]);return t!==void 0&&m!=null&&f(t,["instances[0]","scribble"],OE(m)),s}function XE(i,t){const l={},s=u(i,["retrievalConfig"]);s!=null&&f(l,["retrievalConfig"],s);const r=u(i,["functionCallingConfig"]);return r!=null&&f(l,["functionCallingConfig"],Z_(r)),l}function QE(i,t){const l={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["computerUse"]);s!=null&&f(l,["computerUse"],s);const r=u(i,["fileSearch"]);r!=null&&f(l,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(l,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["functionDeclarations"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(E=>E)),f(l,["functionDeclarations"],_)}const g=u(i,["googleMaps"]);g!=null&&f(l,["googleMaps"],xE(g));const y=u(i,["googleSearch"]);y!=null&&f(l,["googleSearch"],CE(y));const h=u(i,["googleSearchRetrieval"]);h!=null&&f(l,["googleSearchRetrieval"],h);const v=u(i,["urlContext"]);return v!=null&&f(l,["urlContext"],v),l}function Sg(i,t){const l={},s=u(i,["retrieval"]);s!=null&&f(l,["retrieval"],s);const r=u(i,["computerUse"]);if(r!=null&&f(l,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(l,["codeExecution"],c);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(l,["enterpriseWebSearch"],m);const g=u(i,["functionDeclarations"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(C=>$_(C))),f(l,["functionDeclarations"],E)}const y=u(i,["googleMaps"]);y!=null&&f(l,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(l,["googleSearch"],h);const v=u(i,["googleSearchRetrieval"]);v!=null&&f(l,["googleSearchRetrieval"],v);const _=u(i,["urlContext"]);return _!=null&&f(l,["urlContext"],_),l}function ZE(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&f(l,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(l,["updateTime"],c),l}function $E(i,t){const l={},s=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&f(l,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(l,["updateTime"],c),l}function WE(i,t,l){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const m=u(i,["defaultCheckpointId"]);return t!==void 0&&m!=null&&f(t,["defaultCheckpointId"],m),s}function jE(i,t,l){const s={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const m=u(i,["defaultCheckpointId"]);return t!==void 0&&m!=null&&f(t,["defaultCheckpointId"],m),s}function ex(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","name"],Ie(i,r));const c=u(t,["config"]);return c!=null&&WE(c,s),s}function tx(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["config"]);return c!=null&&jE(c,s),s}function nx(i,t,l){const s={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const h=u(i,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const v=u(i,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const _=u(i,["imagePreservationFactor"]);t!==void 0&&_!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],_);const E=u(i,["labels"]);t!==void 0&&E!=null&&f(t,["labels"],E);const C=u(i,["numberOfImages"]);t!==void 0&&C!=null&&f(t,["parameters","sampleCount"],C);const N=u(i,["mode"]);return t!==void 0&&N!=null&&f(t,["parameters","mode"],N),s}function ix(i,t,l){const s={},r=u(t,["model"]);r!=null&&f(s,["_url","model"],Ie(i,r));const c=u(t,["image"]);c!=null&&f(s,["instances[0]","image"],en(c));const m=u(t,["upscaleFactor"]);m!=null&&f(s,["parameters","upscaleConfig","upscaleFactor"],m);const g=u(t,["config"]);return g!=null&&nx(g,s),s}function lx(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>ga(m))),f(l,["generatedImages"],c)}return l}function ox(i,t){const l={},s=u(i,["uri"]);s!=null&&f(l,["uri"],s);const r=u(i,["encodedVideo"]);r!=null&&f(l,["videoBytes"],ai(r));const c=u(i,["encoding"]);return c!=null&&f(l,["mimeType"],c),l}function sx(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&f(l,["uri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(l,["videoBytes"],ai(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}function ax(i,t){const l={},s=u(i,["image"]);s!=null&&f(l,["_self"],en(s));const r=u(i,["maskMode"]);return r!=null&&f(l,["maskMode"],r),l}function rx(i,t){const l={},s=u(i,["image"]);s!=null&&f(l,["image"],ya(s));const r=u(i,["referenceType"]);return r!=null&&f(l,["referenceType"],r),l}function ux(i,t){const l={},s=u(i,["image"]);s!=null&&f(l,["image"],en(s));const r=u(i,["referenceType"]);return r!=null&&f(l,["referenceType"],r),l}function _g(i,t){const l={},s=u(i,["uri"]);s!=null&&f(l,["uri"],s);const r=u(i,["videoBytes"]);r!=null&&f(l,["encodedVideo"],ai(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["encoding"],c),l}function Eg(i,t){const l={},s=u(i,["uri"]);s!=null&&f(l,["gcsUri"],s);const r=u(i,["videoBytes"]);r!=null&&f(l,["bytesBase64Encoded"],ai(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cx(i,t){const l={},s=u(i,["displayName"]);return t!==void 0&&s!=null&&f(t,["displayName"],s),l}function fx(i){const t={},l=u(i,["config"]);return l!=null&&cx(l,t),t}function dx(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),l}function mx(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&dx(s,t),t}function px(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function hx(i,t){const l={},s=u(i,["customMetadata"]);if(t!==void 0&&s!=null){let c=s;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function gx(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const s=u(i,["metadata"]);s!=null&&f(t,["metadata"],s);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],vx(m)),t}function yx(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const s=u(i,["fileName"]);s!=null&&f(t,["fileName"],s);const r=u(i,["config"]);return r!=null&&hx(r,t),t}function vx(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["parent"]);s!=null&&f(t,["parent"],s);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function Tx(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function Sx(i){const t={},l=u(i,["config"]);return l!=null&&Tx(l,t),t}function _x(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["fileSearchStores"],c)}return t}function xg(i,t){const l={},s=u(i,["mimeType"]);t!==void 0&&s!=null&&f(t,["mimeType"],s);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&f(t,["chunkingConfig"],m),l}function Ex(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const s=u(i,["config"]);return s!=null&&xg(s,t),t}function xx(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx="Content-Type",Ax="X-Server-Timeout",Nx="User-Agent",$u="x-goog-api-client",bx="1.42.0",Rx=`google-genai-sdk/${bx}`,Mx="v1beta1",wx="v1beta",Ix=5,Dx=[408,429,500,502,503,504];class Ux{constructor(t){var l,s,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(l=t.httpOptions)===null||l===void 0?void 0:l.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:Mx}else{if(!this.clientOptions.apiKey)throw new Lo({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:wx,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&s.push(t.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,s){const r=[this.getRequestUrlInternal(l)];return s&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,l){return!(l.baseUrl&&l.baseUrlResourceScope===Ju.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,s);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const s=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?s[r]=Object.assign(Object.assign({},s[r]),c):c!==void 0&&(s[r]=c);return s}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const s=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,s,r){if(l&&l.timeout||r){const c=new AbortController,m=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=m}return l&&l.extraBody!==null&&Lx(t,l.extraBody),t.headers=await this.getHeadersInternal(l,s),t}async unaryApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await zh(r),new Yu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,s){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:s})).then(async r=>(await zh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Wt(this,arguments,function*(){var s;const r=(s=t==null?void 0:t.body)===null||s===void 0?void 0:s.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:v}=yield de(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=c.decode(v,{stream:!0});try{const N=JSON.parse(_);if("error"in N){const I=JSON.parse(JSON.stringify(N.error)),D=I.status,F=I.code,J=`got status: ${D}. ${JSON.stringify(N)}`;if(F>=400&&F<600)throw new Lo({message:J,status:F})}}catch(N){if(N.name==="ApiError")throw N}m+=_;let E=-1,C=0;for(;;){E=-1,C=0;for(const D of y){const F=m.indexOf(D);F!==-1&&(E===-1||F<E)&&(E=F,C=D.length)}if(E===-1)break;const N=m.substring(0,E);m=m.substring(E+C);const I=N.trim();if(I.startsWith(g)){const D=I.substring(g.length).trim();try{const F=new Response(D,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield de(new Yu(F))}catch(F){throw new Error(`exception parsing stream chunk ${D}. ${F}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){var s;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,l);const r=this.clientOptions.httpOptions.retryOptions;return Ev(async()=>{const m=await fetch(t,l);if(m.ok)return m;throw Dx.includes(m.status)?new Error(`Retryable HTTP Error: ${m.statusText}`):new tg.AbortError(`Non-retryable exception ${m.statusText} sending request`)},{retries:((s=r.attempts)!==null&&s!==void 0?s:Ix)-1})}getDefaultHeaders(){const t={},l=Rx+" "+this.clientOptions.userAgentExtra;return t[Nx]=l,t[$u]=l,t[Cx]="application/json",t}async getHeadersInternal(t,l){const s=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))s.append(r,c);t.timeout&&t.timeout>0&&s.append(Ax,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,l),s}getFileName(t){var l;let s="";return typeof t=="string"&&(s=t.replace(/[/\\]+$/,""),s=(l=s.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),s}async uploadFile(t,l){var s;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,m=await c.stat(t);r.sizeBytes=String(m.size);const g=(s=l==null?void 0:l.mimeType)!==null&&s!==void 0?s:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),v=W("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return c.upload(t,_,this)}async uploadFileToFileSearchStore(t,l,s){var r;const c=this.clientOptions.uploader,m=await c.stat(l),g=String(m.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(l),_={};s!=null&&xg(s,_);const E=await this.fetchUploadUrl(h,g,y,v,_,s==null?void 0:s.httpOptions);return c.uploadToFileSearchStore(l,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,s,r,c,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function zh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let s;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw l>=400&&l<600?new Lo({message:r,status:l}):new Error(r)}}function Lx(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(c,m){const g=Object.assign({},c);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=s(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gx="mcp_used/unknown";let Hx=!1;function Cg(i){for(const t of i)if(qx(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Hx}function Ag(i){var t;const l=(t=i[$u])!==null&&t!==void 0?t:"";i[$u]=(l+` ${Gx}`).trimStart()}function qx(i){return i!==null&&typeof i=="object"&&i instanceof mc}function Vx(i){return Wt(this,arguments,function*(l,s=100){let r,c=0;for(;c<s;){const m=yield de(l.listTools({cursor:r}));for(const g of m.tools)yield yield de(g),c++;if(!m.nextCursor)break;r=m.nextCursor}})}class mc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new mc(t,l)}async initialize(){var t,l,s,r;if(this.mcpTools.length>0)return;const c={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(l=void 0,jt(Vx(v))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const _=r;m.push(_);const E=_.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=v}}catch(_){l={error:_}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),cT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const s of t)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const m=await r.callTool({name:s.name,arguments:s.args},void 0,c);l.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function kx(i,t,l){const s=new nT;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(s,r),t(s)}class zx{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s}async connect(t){var l,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=Ox(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(k=>{h=k}),_=t.callbacks,E=function(){h({})},C=this.apiClient,N={onopen:E,onmessage:k=>{kx(C,_.onmessage,k)},onerror:(l=_==null?void 0:_.onerror)!==null&&l!==void 0?l:function(k){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(k){}},I=this.webSocketFactory.create(y,Bx(m),N);I.connect(),await v;const J={setup:{model:Ie(this.apiClient,t.model)}};return I.send(JSON.stringify(J)),new Px(I,this.apiClient)}}class Px{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=c_(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=u_(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Al.PLAY)}pause(){this.sendPlaybackControl(Al.PAUSE)}stop(){this.sendPlaybackControl(Al.STOP)}resetContext(){this.sendPlaybackControl(Al.RESET_CONTEXT)}close(){this.conn.close()}}function Bx(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function Ox(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Jx(i,t,l){const s=new tT;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const m=m_(c);Object.assign(s,m)}else Object.assign(s,c);t(s)}class Yx{constructor(t,l,s){this.apiClient=t,this.auth=l,this.webSocketFactory=s,this.music=new zx(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,s,r,c,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&Cg(t.config.tools)&&Ag(_);const E=Zx(_);if(this.apiClient.isVertexAI()){const ne=this.apiClient.getProject(),he=this.apiClient.getLocation(),Ae=this.apiClient.getApiKey(),Ne=!!ne&&!!he||!!Ae;this.apiClient.getCustomBaseUrl()&&!Ne?v=y:(v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const ne=this.apiClient.getApiKey();let he="BidiGenerateContent",Ae="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",Ae="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${he}?${Ae}=${ne}`}let C=()=>{};const N=new Promise(ne=>{C=ne}),I=t.callbacks,D=function(){var ne;(ne=I==null?void 0:I.onopen)===null||ne===void 0||ne.call(I),C({})},F=this.apiClient,J={onopen:D,onmessage:ne=>{Jx(F,I.onmessage,ne)},onerror:(l=I==null?void 0:I.onerror)!==null&&l!==void 0?l:function(ne){},onclose:(s=I==null?void 0:I.onclose)!==null&&s!==void 0?s:function(ne){}},k=this.webSocketFactory.create(v,Qx(E),J);k.connect(),await N;let K=Ie(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const ne=this.apiClient.getProject(),he=this.apiClient.getLocation();ne&&he&&(K=`projects/${ne}/locations/${he}/`+K)}let te={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[ua.AUDIO]}:t.config.responseModalities=[ua.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Q=[];for(const ne of P)if(this.isCallableTool(ne)){const he=ne;Q.push(await he.tool())}else Q.push(ne);Q.length>0&&(t.config.tools=Q);const ye={model:K,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?te=r_(this.apiClient,ye):te=a_(this.apiClient,ye),delete te.config,k.send(JSON.stringify(te)),new Xx(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const Kx={turnComplete:!0};class Xx{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let s=[];try{s=Ut(l.turns),t.isVertexAI()||(s=s.map(r=>Go(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:s,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let s=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?s=l.functionResponses:s=[l.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const c of s){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(Fx)}return{toolResponse:{functionResponses:s}}}sendClientContent(t){t=Object.assign(Object.assign({},Kx),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:d_(t)}:l={realtimeInput:f_(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function Qx(i){const t={};return i.forEach((l,s)=>{t[s]=l}),t}function Zx(i){const t=new Headers;for(const[l,s]of Object.entries(i))t.append(l,s);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ph=10;function Bh(i){var t,l,s;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Rl(m)){r=!0;break}if(!r)return!0;const c=(s=i==null?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Rl(i){return"callTool"in i&&typeof i.callTool=="function"}function $x(i){var t,l,s;return(s=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Rl(r)))!==null&&s!==void 0?s:!1}function Oh(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((s,r)=>{if(Rl(s))return;const c=s;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function Fh(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends In{constructor(t){super(),this.apiClient=t,this.embedContent=async l=>{if(!this.apiClient.isVertexAI())return await this.embedContentInternal(l);if(l.model.includes("gemini")&&l.model!=="gemini-embedding-001"||l.model.includes("maas")){const r=Ut(l.contents);if(r.length>1)throw new Error("The embedContent API for this model only supports one content at a time.");const c=Object.assign(Object.assign({},l),{content:r[0],embeddingApiType:ca.EMBED_CONTENT});return await this.embedContentInternal(c)}else{const r=Object.assign(Object.assign({},l),{embeddingApiType:ca.PREDICT});return await this.embedContentInternal(r)}},this.generateContent=async l=>{var s,r,c,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!$x(l)||Bh(l.config))return await this.generateContentInternal(y);const h=Oh(l);if(h.length>0){const I=h.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${I}.`)}let v,_;const E=Ut(y.contents),C=(c=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Ph;let N=0;for(;N<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const I=v.candidates[0].content,D=[];for(const F of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Rl(F)){const k=await F.callTool(v.functionCalls);D.push(...k)}N++,_={role:"user",parts:D},y.contents=Ut(y.contents),y.contents.push(I),y.contents.push(_),Fh(y.config)&&(E.push(I),E.push(_))}return Fh(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async l=>{var s,r,c,m,g;if(this.maybeMoveToResponseJsonSchem(l),Bh(l.config)){const _=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(_)}const y=Oh(l);if(y.length>0){const _=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(r=(s=l==null?void 0:l.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(s=>{var r;let c;const m=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:m.push(y);let g;return c?g={generatedImages:m,positivePromptSafetyAttributes:c,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async l=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Li(wn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const s={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(s.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async l=>{let s={numberOfImages:1,mode:"upscale"};l.config&&(s=Object.assign(Object.assign({},s),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var s,r,c,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=l.video)===null||s===void 0)&&s.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(c=l.source)===null||c===void 0?void 0:c.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,s,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const m=await Promise.all(c.map(async y=>Rl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&Cg(t.config.tools)){const y=(r=(s=t.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Ag(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,s,r;const c=new Map;for(const m of(s=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&s!==void 0?s:[])if(Rl(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var l,s,r;const c=(r=(s=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:Ph;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,v,_){return Wt(this,arguments,function*(){for(var E,C,N,I,D,F;g<c;){m&&(g++,m=!1);const te=yield de(h.processParamsMaybeAddMcpUsage(_)),P=yield de(h.generateContentStreamInternal(te)),Q=[],ye=[];try{for(var J=!0,k=(C=void 0,jt(P)),K;K=yield de(k.next()),E=K.done,!E;J=!0){I=K.value,J=!1;const ne=I;if(yield yield de(ne),ne.candidates&&(!((D=ne.candidates[0])===null||D===void 0)&&D.content)){ye.push(ne.candidates[0].content);for(const he of(F=ne.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(g<c&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(he.functionCall.name)){const Ae=yield de(v.get(he.functionCall.name).callTool([he.functionCall]));Q.push(...Ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(ne){C={error:ne}}finally{try{!J&&!E&&(N=k.return)&&(yield de(N.call(k)))}finally{if(C)throw C.error}}if(Q.length>0){m=!0;const ne=new Io;ne.candidates=[{content:{role:"user",parts:Q}}],yield yield de(ne);const he=[];he.push(...ye),he.push({role:"user",parts:Q});const Ae=Ut(_.contents).concat(he);_.contents=Ae}else break}})})(this,y,t)}async generateContentInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qh(this.apiClient,t);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=kh(v),E=new Io;return Object.assign(E,_),E})}else{const h=Hh(this.apiClient,t);return g=W("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=Vh(v),E=new Io;return Object.assign(E,_),E})}}async generateContentStreamInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qh(this.apiClient,t);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(_){return Wt(this,arguments,function*(){var E,C,N,I;try{for(var D=!0,F=jt(_),J;J=yield de(F.next()),E=J.done,!E;D=!0){I=J.value,D=!1;const k=I,K=kh(yield de(k.json()),t);K.sdkHttpResponse={headers:k.headers};const te=new Io;Object.assign(te,K),yield yield de(te)}}catch(k){C={error:k}}finally{try{!D&&!E&&(N=F.return)&&(yield de(N.call(F)))}finally{if(C)throw C.error}}})})}else{const h=Hh(this.apiClient,t);return g=W("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(_){return Wt(this,arguments,function*(){var E,C,N,I;try{for(var D=!0,F=jt(_),J;J=yield de(F.next()),E=J.done,!E;D=!0){I=J.value,D=!1;const k=I,K=Vh(yield de(k.json()),t);K.sdkHttpResponse={headers:k.headers};const te=new Io;Object.assign(te,K),yield yield de(te)}}catch(k){C={error:k}}finally{try{!D&&!E&&(N=F.return)&&(yield de(N.call(F)))}finally{if(C)throw C.error}}})})}}async embedContentInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=F_(this.apiClient,t,t),v=dT(t.model)?"{model}:embedContent":"{model}:predict";return g=W(v,h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(_=>_.json().then(E=>{const C=E;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const E=Y_(_,t),C=new Th;return Object.assign(C,E),C})}else{const h=O_(this.apiClient,t);return g=W("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=J_(v),E=new Th;return Object.assign(E,_),E})}}async generateImagesInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=iE(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=oE(v),E=new Sh;return Object.assign(E,_),E})}else{const h=nE(this.apiClient,t);return g=W("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=lE(v),E=new Sh;return Object.assign(E,_),E})}}async editImageInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=k_(this.apiClient,t);return c=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=z_(y),v=new Ov;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=ix(this.apiClient,t);return c=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=lx(y),v=new Fv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=VE(this.apiClient,t);return c=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=kE(y),v=new Jv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=JE(this.apiClient,t);return c=W("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=YE(y),v=new Yv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=EE(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Zu(v))}else{const h=_E(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Qu(v))}}async listInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=IE(this.apiClient,t);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=UE(v),E=new _h;return Object.assign(E,_),E})}else{const h=wE(this.apiClient,t);return g=W("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=DE(v),E=new _h;return Object.assign(E,_),E})}}async update(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tx(this.apiClient,t);return g=W("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Zu(v))}else{const h=ex(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>Qu(v))}}async delete(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=G_(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=q_(v),E=new Eh;return Object.assign(E,_),E})}else{const h=L_(this.apiClient,t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=H_(v),E=new Eh;return Object.assign(E,_),E})}}async countTokens(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=I_(this.apiClient,t);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=U_(v),E=new xh;return Object.assign(E,_),E})}else{const h=w_(this.apiClient,t);return g=W("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=D_(v),E=new xh;return Object.assign(E,_),E})}}async computeTokens(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=x_(this.apiClient,t);return c=W("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=C_(y),v=new Kv;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=fE(this.apiClient,t);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>{const _=uE(v),E=new fa;return Object.assign(E,_),E})}else{const h=cE(this.apiClient,t);return g=W("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m.then(v=>{const _=rE(v),E=new fa;return Object.assign(E,_),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jx extends In{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,s=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;s&&"httpOptions"in s&&(c=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:s});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=qv(t);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m}else{const h=Hv(t);return g=W("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=Mv(t);return c=W("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function tC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>cC(c))),f(t,["parts"],r)}const s=u(i,["role"]);return s!=null&&f(t,["role"],s),t}function nC(i,t,l){const s={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const m=u(t,["uses"]);l!==void 0&&m!=null&&f(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&f(l,["bidiGenerateContentSetup"],uC(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&f(l,["fieldMask"],y),s}function iC(i,t){const l={},s=u(t,["config"]);return s!=null&&f(l,["config"],nC(i,s,l)),l}function lC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const s=u(i,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}function oC(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const s=u(i,["args"]);s!=null&&f(t,["args"],s);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function sC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function aC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function rC(i,t){const l={},s=u(i,["generationConfig"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const _=u(i,["speechConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","speechConfig"],dc(_));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const N=u(i,["systemInstruction"]);t!==void 0&&N!=null&&f(t,["setup","systemInstruction"],tC(st(N)));const I=u(i,["tools"]);if(t!==void 0&&I!=null){let P=wl(I);Array.isArray(P)&&(P=P.map(Q=>dC(Ml(Q)))),f(t,["setup","tools"],P)}const D=u(i,["sessionResumption"]);t!==void 0&&D!=null&&f(t,["setup","sessionResumption"],fC(D));const F=u(i,["inputAudioTranscription"]);t!==void 0&&F!=null&&f(t,["setup","inputAudioTranscription"],F);const J=u(i,["outputAudioTranscription"]);t!==void 0&&J!=null&&f(t,["setup","outputAudioTranscription"],J);const k=u(i,["realtimeInputConfig"]);t!==void 0&&k!=null&&f(t,["setup","realtimeInputConfig"],k);const K=u(i,["contextWindowCompression"]);t!==void 0&&K!=null&&f(t,["setup","contextWindowCompression"],K);const te=u(i,["proactivity"]);if(t!==void 0&&te!=null&&f(t,["setup","proactivity"],te),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function uC(i,t){const l={},s=u(t,["model"]);s!=null&&f(l,["setup","model"],Ie(i,s));const r=u(t,["config"]);return r!=null&&f(l,["config"],rC(r,l)),l}function cC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const s=u(i,["codeExecutionResult"]);s!=null&&f(t,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],lC(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],oC(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],eC(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const v=u(i,["thought"]);v!=null&&f(t,["thought"],v);const _=u(i,["thoughtSignature"]);_!=null&&f(t,["thoughtSignature"],_);const E=u(i,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function fC(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function dC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const s=u(i,["fileSearch"]);s!=null&&f(t,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(_=>_)),f(t,["functionDeclarations"],v)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],sC(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],aC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const s=i[l];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function pC(i,t){let l=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const c=s.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=mC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class hC extends In{constructor(t){super(),this.apiClient=t}async create(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=iC(this.apiClient,t);c=W("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=pC(g,t.config);return r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(i,t){const l={},s=u(i,["force"]);return t!==void 0&&s!=null&&f(t,["_query","force"],s),l}function yC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const s=u(i,["config"]);return s!=null&&gC(s,t),t}function vC(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function TC(i,t){const l={},s=u(i,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function SC(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const s=u(i,["config"]);return s!=null&&TC(s,t),t}function _C(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const s=u(i,["nextPageToken"]);s!=null&&f(t,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends In{constructor(t){super(),this.apiClient=t,this.list=async l=>new Li(wn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:l.parent,config:s.config}),await this.listInternal(l),l)}async get(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=vC(t);return c=W("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=yC(t);r=W("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SC(t);return c=W("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=_C(y),v=new Xv;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xC extends In{constructor(t,l=new EC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(s={})=>new Li(wn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fx(t);return c=W("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=px(t);return c=W("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,s;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=mx(t);r=W("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Sx(t);return c=W("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=_x(y),v=new Qv;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ex(t);return c=W("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=xx(y),v=new Zv;return Object.assign(v,h),v})}}async importFile(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yx(t);return c=W("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=gx(y),v=new ac;return Object.assign(v,h),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ng=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Ng=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^l()&15>>+s/4).toString(16))};const CC=()=>Ng();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const ju=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kt extends Error{}class vt extends Kt{constructor(t,l,s,r){super(`${vt.makeMessage(t,l,s)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,s){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):s;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,s,r){if(!t||!r)return new va({message:s,cause:ju(l)});const c=l;return t===400?new Rg(t,c,s,r):t===401?new Mg(t,c,s,r):t===403?new wg(t,c,s,r):t===404?new Ig(t,c,s,r):t===409?new Dg(t,c,s,r):t===422?new Ug(t,c,s,r):t===429?new Lg(t,c,s,r):t>=500?new Gg(t,c,s,r):new vt(t,c,s,r)}}class ec extends vt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class va extends vt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class bg extends va{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Rg extends vt{}class Mg extends vt{}class wg extends vt{}class Ig extends vt{}class Dg extends vt{}class Ug extends vt{}class Lg extends vt{}class Gg extends vt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AC=/^[a-z][a-z0-9+.-]*:/i,NC=i=>AC.test(i);let tc=i=>(tc=Array.isArray,tc(i));const bC=tc;let RC=bC;const Jh=RC;function MC(i){if(!i)return!0;for(const t in i)return!1;return!0}function wC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const IC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Kt(`${i} must be an integer`);if(t<0)throw new Kt(`${i} must be a positive integer`);return t},DC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const GC=()=>{var i,t,l,s,r;const c=LC();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":Kh(Deno.build.os),"X-Stainless-Arch":Yh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":Kh((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":Yh((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=HC();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Cl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function HC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const s=l.exec(navigator.userAgent);if(s){const r=s[1]||0,c=s[2]||0,m=s[3]||0;return{browser:t,version:`${r}.${c}.${m}`}}}return null}const Yh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Kh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let na;const qC=()=>na??(na=GC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Hg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function kC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Hg({start(){},async pull(l){const{done:s,value:r}=await t.next();s?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function qg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zC(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zu(i,t,l){return Vg(),new File(i,t??"unknown_file",l)}function BC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const OC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",FC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&kg(i),JC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function YC(i,t,l){if(Vg(),i=await i,FC(i))return i instanceof File?i:zu([await i.arrayBuffer()],i.name);if(JC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),zu(await nc(r),t,l)}const s=await nc(i);if(t||(t=BC(i)),!(l!=null&&l.type)){const r=s.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return zu(s,t,l)}async function nc(i){var t,l,s,r,c;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(kg(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(OC(i))try{for(var g=!0,y=jt(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const v=r;m.push(...await nc(v))}}catch(v){l={error:v}}finally{try{!g&&!t&&(s=y.return)&&await s.call(y)}finally{if(l)throw l.error}}else{const v=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${KC(i)}`)}return m}function KC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zg{constructor(t){this._client=t}}zg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xh=Object.freeze(Object.create(null)),XC=(i=Pg)=>(function(l,...s){if(l.length===1)return l[0];let r=!1;const c=[],m=l.reduce((v,_,E)=>{var C,N,I;/[?#]/.test(_)&&(r=!0);const D=s[E];let F=(r?encodeURIComponent:i)(""+D);return E!==s.length&&(D==null||typeof D=="object"&&D.toString===((I=Object.getPrototypeOf((N=Object.getPrototypeOf((C=D.hasOwnProperty)!==null&&C!==void 0?C:Xh))!==null&&N!==void 0?N:Xh))===null||I===void 0?void 0:I.toString))&&(F=D+"",c.push({start:v.length+_.length,length:F.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+_+(E===s.length?"":F)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((v,_)=>v.start-_.start),c.length>0){let v=0;const _=c.reduce((E,C)=>{const N=" ".repeat(C.start-v),I="^".repeat(C.length);return v=C.start+C.length,E+N+I},"");throw new Kt(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${m}
${_}`)}return m}),ia=XC(Pg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bg extends zg{create(t,l){var s;const{api_version:r=this._client.apiVersion}=t,c=ma(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Kt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Kt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ia`/${r}/interactions`,Object.assign(Object.assign({body:c},l),{stream:(s=t.stream)!==null&&s!==void 0?s:!1}))}delete(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(ia`/${r}/interactions/${t}`,s)}cancel(t,l={},s){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(ia`/${r}/interactions/${t}/cancel`,s)}get(t,l={},s){var r;const c=l??{},{api_version:m=this._client.apiVersion}=c,g=ma(c,["api_version"]);return this._client.get(ia`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},s),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}Bg._key=Object.freeze(["interactions"]);class Og extends Bg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let s=0;for(const r of i)l.set(r,s),s+=r.length;return l}let la;function pc(i){let t;return(la??(t=new globalThis.TextEncoder,la=t.encode.bind(t)))(i)}let oa;function Qh(i){let t;return(oa??(t=new globalThis.TextDecoder,oa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ta{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?pc(t):t;this.buffer=QC([this.buffer,l]);const s=[];let r;for(;(r=ZC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Qh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=Qh(this.buffer.subarray(0,c));s.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}Ta.NEWLINE_CHARS=new Set([`
`,"\r"]);Ta.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ZC(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function $C(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pa={off:0,error:200,warn:300,info:400,debug:500},Zh=(i,t,l)=>{if(i){if(wC(pa,i))return i;yt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(pa))}`)}};function Uo(){}function sa(i,t,l){return!t||pa[i]>pa[l]?Uo:t[i].bind(t)}const WC={error:Uo,warn:Uo,info:Uo,debug:Uo};let $h=new WeakMap;function yt(i){var t;const l=i.logger,s=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return WC;const r=$h.get(l);if(r&&r[0]===s)return r[1];const c={error:sa("error",l,s),warn:sa("warn",l,s),info:sa("info",l,s),debug:sa("debug",l,s)};return $h.set(l,[s,c]),c}const Ui=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nl{constructor(t,l,s){this.iterator=t,this.controller=l,this.client=s}static fromSSEResponse(t,l,s){let r=!1;const c=s?yt(s):console;function m(){return Wt(this,arguments,function*(){var y,h,v,_;if(r)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,N=jt(jC(t,l)),I;I=yield de(N.next()),y=I.done,!y;C=!0){_=I.value,C=!1;const D=_;if(!E)if(D.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield de(JSON.parse(D.data))}catch(F){throw c.error("Could not parse message into JSON:",D.data),c.error("From chunk:",D.raw),F}}}catch(D){h={error:D}}finally{try{!C&&!y&&(v=N.return)&&(yield de(v.call(N)))}finally{if(h)throw h.error}}E=!0}catch(D){if(Wu(D))return yield de(void 0);throw D}finally{E||l.abort()}})}return new Nl(m,l,s)}static fromReadableStream(t,l,s){let r=!1;function c(){return Wt(this,arguments,function*(){var y,h,v,_;const E=new Ta,C=qg(t);try{for(var N=!0,I=jt(C),D;D=yield de(I.next()),y=D.done,!y;N=!0){_=D.value,N=!1;const F=_;for(const J of E.decode(F))yield yield de(J)}}catch(F){h={error:F}}finally{try{!N&&!y&&(v=I.return)&&(yield de(v.call(I)))}finally{if(h)throw h.error}}for(const F of E.flush())yield yield de(F)})}function m(){return Wt(this,arguments,function*(){var y,h,v,_;if(r)throw new Kt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,N=jt(c()),I;I=yield de(N.next()),y=I.done,!y;C=!0){_=I.value,C=!1;const D=_;E||D&&(yield yield de(JSON.parse(D)))}}catch(D){h={error:D}}finally{try{!C&&!y&&(v=N.return)&&(yield de(v.call(N)))}finally{if(h)throw h.error}}E=!0}catch(D){if(Wu(D))return yield de(void 0);throw D}finally{E||l.abort()}})}return new Nl(m,l,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],s=this.iterator(),r=c=>({next:()=>{if(c.length===0){const m=s.next();t.push(m),l.push(m)}return c.shift()}});return[new Nl(()=>r(t),this.controller,this.client),new Nl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return Hg({async start(){l=t[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:c}=await l.next();if(c)return s.close();const m=pc(JSON.stringify(r)+`
`);s.enqueue(m)}catch(r){s.error(r)}},async cancel(){var s;await((s=l.return)===null||s===void 0?void 0:s.call(l))}})}}function jC(i,t){return Wt(this,arguments,function*(){var s,r,c,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Kt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Kt("Attempted to iterate over a response with no body");const g=new tA,y=new Ta,h=qg(i.body);try{for(var v=!0,_=jt(eA(h)),E;E=yield de(_.next()),s=E.done,!s;v=!0){m=E.value,v=!1;const C=m;for(const N of y.decode(C)){const I=g.decode(N);I&&(yield yield de(I))}}}catch(C){r={error:C}}finally{try{!v&&!s&&(c=_.return)&&(yield de(c.call(_)))}finally{if(r)throw r.error}}for(const C of y.flush()){const N=g.decode(C);N&&(yield yield de(N))}})}function eA(i){return Wt(this,arguments,function*(){var l,s,r,c;let m=new Uint8Array;try{for(var g=!0,y=jt(i),h;h=yield de(y.next()),l=h.done,!l;g=!0){c=h.value,g=!1;const v=c;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?pc(v):v;let E=new Uint8Array(m.length+_.length);E.set(m),E.set(_,m.length),m=E;let C;for(;(C=$C(m))!==-1;)yield yield de(m.slice(0,C)),m=m.slice(C)}}catch(v){s={error:v}}finally{try{!g&&!l&&(r=y.return)&&(yield de(r.call(y)))}finally{if(s)throw s.error}}m.length>0&&(yield yield de(m))})}class tA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,s,r]=nA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function nA(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iA(i,t){const{response:l,requestLogID:s,retryOfRequestLogID:r,startTime:c}=t,m=await(async()=>{var g;if(t.options.stream)return yt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Nl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?l.headers.get("content-length")==="0"?void 0:await l.json():await l.text()})();return yt(i).debug(`[${s}] response parsed`,Ui({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-c})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hc extends Promise{constructor(t,l,s=iA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=s,this.client=t}_thenUnwrap(t){return new hc(this.client,this.responsePromise,async(l,s)=>t(await this.parseResponse(l,s),s))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fg=Symbol("brand.privateNullableHeaders");function*lA(i){if(!i)return;if(Fg in i){const{values:s,nulls:r}=i;yield*s.entries();for(const c of r)yield[c,null];return}let t=!1,l;i instanceof Headers?l=i.entries():Jh(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let s of l){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=Jh(s[1])?s[1]:[s[1]];let m=!1;for(const g of c)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const Do=i=>{const t=new Headers,l=new Set;for(const s of i){const r=new Set;for(const[c,m]of lA(s)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),m===null?(t.delete(c),l.add(g)):(t.append(c,m),l.delete(g))}}return{[Fg]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pu=i=>{var t,l,s,r,c,m;if(typeof globalThis.process<"u")return(s=(l=(t=xv)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(m=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jg;class Sa{constructor(t){var l,s,r,c,m,g,y,{baseURL:h=Pu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(l=Pu("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:_="v1beta"}=t,E=ma(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:_},E),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(s=C.timeout)!==null&&s!==void 0?s:Sa.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const N="warn";this.logLevel=N,this.logLevel=(m=(c=Zh(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:Zh(Pu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:N,this.fetchOptions=C.fetchOptions,this.maxRetries=(g=C.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:VC(),this.encoder=PC,this._options=C,this.apiKey=v,this.apiVersion=_,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=Do([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return Do([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Do([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,s])=>typeof s<"u").map(([l,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(l)}=`;throw new Kt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Cl}`}defaultIdempotencyKey(){return`stainless-node-retry-${CC()}`}makeStatusError(t,l,s,r){return vt.generate(t,l,s,r)}buildURL(t,l,s){const r=!this.baseURLOverridden()&&s||this.baseURL,c=NC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return MC(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(c.search=this.stringifyQuery(l)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:s}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new hc(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,s){var r,c,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:v,timeout:_}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:v,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=s===void 0?"":`, retryOf: ${s}`,N=Date.now();if(yt(this).debug(`[${E}] sending request`,Ui({retryOfRequestLogID:s,method:g.method,url:v,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new ec;const I=new AbortController,D=await this.fetchWithTimeout(v,h,_,I).catch(ju),F=Date.now();if(D instanceof globalThis.Error){const k=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new ec;const K=Wu(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(l)return yt(this).info(`[${E}] connection ${K?"timed out":"failed"} - ${k}`),yt(this).debug(`[${E}] connection ${K?"timed out":"failed"} (${k})`,Ui({retryOfRequestLogID:s,url:v,durationMs:F-N,message:D.message})),this.retryRequest(g,l,s??E);throw yt(this).info(`[${E}] connection ${K?"timed out":"failed"} - error; no more retries left`),yt(this).debug(`[${E}] connection ${K?"timed out":"failed"} (error; no more retries left)`,Ui({retryOfRequestLogID:s,url:v,durationMs:F-N,message:D.message})),K?new bg:new va({cause:D})}const J=`[${E}${C}] ${h.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${F-N}ms`;if(!D.ok){const k=await this.shouldRetry(D);if(l&&k){const ne=`retrying, ${l} attempts remaining`;return await zC(D.body),yt(this).info(`${J} - ${ne}`),yt(this).debug(`[${E}] response error (${ne})`,Ui({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:F-N})),this.retryRequest(g,l,s??E,D.headers)}const K=k?"error; no more retries left":"error; not retryable";yt(this).info(`${J} - ${K}`);const te=await D.text().catch(ne=>ju(ne).message),P=DC(te),Q=P?void 0:te;throw yt(this).debug(`[${E}] response error (${K})`,Ui({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,message:Q,durationMs:Date.now()-N})),this.makeStatusError(D.status,P,Q,D.headers)}return yt(this).info(J),yt(this).debug(`[${E}] response start`,Ui({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:F-N})),{response:D,options:g,controller:I,requestLogID:E,retryOfRequestLogID:s,startTime:N}}async fetchWithTimeout(t,l,s,r){const c=l||{},{signal:m,method:g}=c,y=ma(c,["signal","method"]),h=this._makeAbort(r);m&&m.addEventListener("abort",h,{once:!0});const v=setTimeout(h,s),_=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},_?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(v)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,s,r){var c;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const h=parseFloat(y);Number.isNaN(h)?m=Date.parse(y)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,h)}return await UC(m),this.makeRequest(t,l-1,s)}calculateDefaultRetryTimeoutMillis(t,l){const c=l-t,m=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var s,r,c;const m=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:v}=m,_=this.buildURL(y,h,v);"timeout"in m&&IC("timeout",m.timeout),m.timeout=(s=m.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:m}),N=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:N},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=m.fetchOptions)!==null&&c!==void 0?c:{}),url:_,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:s,retryCount:r}){let c={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=Do([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),qC()),this._options.defaultHeaders,s,t.headers,m]);return this.validateHeaders(g),g.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const s=Do([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&s.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:kC(t)}:typeof t=="object"&&s.values.get("content-type")==="application/x-www-form-urlencoded"?{bodyHeaders:{"content-type":"application/x-www-form-urlencoded"},body:this.stringifyQuery(t)}:this.encoder({body:t,headers:s})}}Sa.DEFAULT_TIMEOUT=6e4;class at extends Sa{constructor(){super(...arguments),this.interactions=new Og(this)}}Jg=at;at.GeminiNextGenAPIClient=Jg;at.GeminiNextGenAPIClientError=Kt;at.APIError=vt;at.APIConnectionError=va;at.APIConnectionTimeoutError=bg;at.APIUserAbortError=ec;at.NotFoundError=Ig;at.ConflictError=Dg;at.RateLimitError=Lg;at.BadRequestError=Rg;at.AuthenticationError=Mg;at.InternalServerError=Gg;at.PermissionDeniedError=wg;at.UnprocessableEntityError=Ug;at.toFile=YC;at.Interactions=Og;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function sA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function aA(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function rA(i,t){const l={},s=u(i,["sdkHttpResponse"]);return s!=null&&f(l,["sdkHttpResponse"],s),l}function uA(i,t,l){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const m=u(i,["learningRateMultiplier"]);if(m!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return s}function cA(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const P=u(i,["validationDataset"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec"],Bu(P))}else if(r==="PREFERENCE_TUNING"){const P=u(i,["validationDataset"]);t!==void 0&&P!=null&&f(t,["preferenceOptimizationSpec"],Bu(P))}else if(r==="DISTILLATION"){const P=u(i,["validationDataset"]);t!==void 0&&P!=null&&f(t,["distillationSpec"],Bu(P))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const m=u(i,["description"]);t!==void 0&&m!=null&&f(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const P=u(i,["epochCount"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],P)}else if(g==="PREFERENCE_TUNING"){const P=u(i,["epochCount"]);t!==void 0&&P!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],P)}else if(g==="DISTILLATION"){const P=u(i,["epochCount"]);t!==void 0&&P!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],P)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const P=u(i,["learningRateMultiplier"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],P)}else if(y==="PREFERENCE_TUNING"){const P=u(i,["learningRateMultiplier"]);t!==void 0&&P!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],P)}else if(y==="DISTILLATION"){const P=u(i,["learningRateMultiplier"]);t!==void 0&&P!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],P)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const P=u(i,["exportLastCheckpointOnly"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],P)}else if(h==="PREFERENCE_TUNING"){const P=u(i,["exportLastCheckpointOnly"]);t!==void 0&&P!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],P)}else if(h==="DISTILLATION"){const P=u(i,["exportLastCheckpointOnly"]);t!==void 0&&P!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],P)}let v=u(l,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const P=u(i,["adapterSize"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],P)}else if(v==="PREFERENCE_TUNING"){const P=u(i,["adapterSize"]);t!==void 0&&P!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],P)}else if(v==="DISTILLATION"){const P=u(i,["adapterSize"]);t!==void 0&&P!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],P)}let _=u(l,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const P=u(i,["tuningMode"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","tuningMode"],P)}const E=u(i,["customBaseModel"]);t!==void 0&&E!=null&&f(t,["customBaseModel"],E);let C=u(l,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const P=u(i,["batchSize"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],P)}let N=u(l,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const P=u(i,["learningRate"]);t!==void 0&&P!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],P)}const I=u(i,["labels"]);t!==void 0&&I!=null&&f(t,["labels"],I);const D=u(i,["beta"]);t!==void 0&&D!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],D);const F=u(i,["baseTeacherModel"]);t!==void 0&&F!=null&&f(t,["distillationSpec","baseTeacherModel"],F);const J=u(i,["tunedTeacherModelSource"]);t!==void 0&&J!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],J);const k=u(i,["sftLossWeightMultiplier"]);t!==void 0&&k!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const K=u(i,["outputUri"]);t!==void 0&&K!=null&&f(t,["outputUri"],K);const te=u(i,["encryptionSpec"]);return t!==void 0&&te!=null&&f(t,["encryptionSpec"],te),s}function fA(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&EA(c);const m=u(i,["config"]);return m!=null&&uA(m,l),l}function dA(i,t){const l={},s=u(i,["baseModel"]);s!=null&&f(l,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&xA(c,l,t);const m=u(i,["config"]);return m!=null&&cA(m,l,t),l}function mA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function pA(i,t){const l={},s=u(i,["name"]);return s!=null&&f(l,["_url","name"],s),l}function hA(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),s}function gA(i,t,l){const s={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),s}function yA(i,t){const l={},s=u(i,["config"]);return s!=null&&hA(s,l),l}function vA(i,t){const l={},s=u(i,["config"]);return s!=null&&gA(s,l),l}function TA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>Yg(g))),f(l,["tuningJobs"],m)}return l}function SA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>ic(g))),f(l,["tuningJobs"],m)}return l}function _A(i,t){const l={},s=u(i,["name"]);s!=null&&f(l,["model"],s);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function EA(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function xA(i,t,l){const s={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}else if(r==="DISTILLATION"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["distillationSpec","promptDatasetUri"],m)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(c==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}else if(c==="DISTILLATION"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["distillationSpec","promptDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Yg(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],rg(c));const m=u(i,["createTime"]);m!=null&&f(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(l,["updateTime"],h);const v=u(i,["description"]);v!=null&&f(l,["description"],v);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const E=u(i,["_self"]);return E!=null&&f(l,["tunedModel"],_A(E)),l}function ic(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],rg(c));const m=u(i,["createTime"]);m!=null&&f(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(l,["updateTime"],h);const v=u(i,["error"]);v!=null&&f(l,["error"],v);const _=u(i,["description"]);_!=null&&f(l,["description"],_);const E=u(i,["baseModel"]);E!=null&&f(l,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&f(l,["tunedModel"],C);const N=u(i,["preTunedModel"]);N!=null&&f(l,["preTunedModel"],N);const I=u(i,["supervisedTuningSpec"]);I!=null&&f(l,["supervisedTuningSpec"],I);const D=u(i,["preferenceOptimizationSpec"]);D!=null&&f(l,["preferenceOptimizationSpec"],D);const F=u(i,["distillationSpec"]);F!=null&&f(l,["distillationSpec"],F);const J=u(i,["tuningDataStats"]);J!=null&&f(l,["tuningDataStats"],J);const k=u(i,["encryptionSpec"]);k!=null&&f(l,["encryptionSpec"],k);const K=u(i,["partnerModelTuningSpec"]);K!=null&&f(l,["partnerModelTuningSpec"],K);const te=u(i,["customBaseModel"]);te!=null&&f(l,["customBaseModel"],te);const P=u(i,["experiment"]);P!=null&&f(l,["experiment"],P);const Q=u(i,["labels"]);Q!=null&&f(l,["labels"],Q);const ye=u(i,["outputUri"]);ye!=null&&f(l,["outputUri"],ye);const ne=u(i,["pipelineJob"]);ne!=null&&f(l,["pipelineJob"],ne);const he=u(i,["serviceAccount"]);he!=null&&f(l,["serviceAccount"],he);const Ae=u(i,["tunedModelDisplayName"]);Ae!=null&&f(l,["tunedModelDisplayName"],Ae);const Ne=u(i,["veoTuningSpec"]);return Ne!=null&&f(l,["veoTuningSpec"],Ne),l}function CA(i,t){const l={},s=u(i,["sdkHttpResponse"]);s!=null&&f(l,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const m=u(i,["done"]);m!=null&&f(l,["done"],m);const g=u(i,["error"]);return g!=null&&f(l,["error"],g),l}function Bu(i,t){const l={},s=u(i,["gcsUri"]);s!=null&&f(l,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AA extends In{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new Li(wn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var s;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((s=l.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let m="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?m=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(m=c.name.split("/operations/")[0]),{name:m,state:Fu.JOB_STATE_QUEUED}}}}async getInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=pA(t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>ic(v))}else{const h=mA(t);return g=W("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>Yg(v))}}async listInternal(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=vA(t);return g=W("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=SA(v),E=new Ch;return Object.assign(E,_),E})}else{const h=yA(t);return g=W("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=TA(v),E=new Ch;return Object.assign(E,_),E})}}async cancel(t){var l,s,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=sA(t);return g=W("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=rA(v),E=new Ah;return Object.assign(E,_),E})}else{const h=oA(t);return g=W("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(_=>{const E=_;return E.sdkHttpResponse={headers:v.headers},E})),m.then(v=>{const _=aA(v),E=new Ah;return Object.assign(E,_),E})}}async tuneInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=dA(t,t);return c=W("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>ic(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,s;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=fA(t);return c=W("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(s=t.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>CA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bA=1024*1024*8,RA=3,MA=1e3,wA=2,ha="x-goog-upload-status";async function IA(i,t,l){var s;const r=await Kg(i,t,l),c=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function DA(i,t,l){var s;const r=await Kg(i,t,l),c=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[ha])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=ng(c),g=new rc;return Object.assign(g,m),g}async function Kg(i,t,l){var s,r;let c=0,m=0,g=new Yu(new Response),y="upload";for(c=i.size;m<c;){const h=Math.min(bA,c-m),v=i.slice(m,m+h);m+h>=c&&(y+=", finalize");let _=0,E=MA;for(;_<RA&&(g=await l.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((s=g==null?void 0:g.headers)===null||s===void 0)&&s[ha]));)_++,await LA(E),E=E*wA;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[ha])!=="active")break;if(c<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function UA(i){return{size:i.size,type:i.type}}function LA(i){return new Promise(t=>setTimeout(t,i))}class GA{async upload(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await IA(t,l,s)}async uploadToFileSearchStore(t,l,s){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DA(t,l,s)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await UA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HA{create(t,l,s){return new qA(t,l,s)}}class qA{constructor(t,l,s){this.url=t,this.headers=l,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wh="x-goog-api-key";class VA{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(Wh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Wh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kA="gl-node/";class zA{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const l=this.httpOptions;l!=null&&l.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const s=new at({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:l==null?void 0:l.timeout,maxRetries:(t=l==null?void 0:l.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=s.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const s=bv(t.httpOptions,t.vertexai,void 0,void 0);s&&(t.httpOptions?t.httpOptions.baseUrl=s:t.httpOptions={baseUrl:s}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new VA(this.apiKey);this.apiClient=new Ux({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:kA+"web",uploader:new GA,downloader:new NA}),this.models=new Wx(this.apiClient),this.live=new Yx(this.apiClient,r,new HA),this.batches=new lS(this.apiClient),this.chats=new kS(this.models,this.apiClient),this.caches=new HS(this.apiClient),this.files=new $S(this.apiClient),this.operations=new jx(this.apiClient),this.authTokens=new hC(this.apiClient),this.tunings=new AA(this.apiClient),this.fileSearchStores=new xC(this.apiClient)}}var PA={};const BA=new zA({apiKey:PA.API_KEY}),OA=async(i,t,l)=>{try{return(await BA.models.generateContent({model:"gemini-3-flash-preview",contents:`300
      ${i}
      ${t}
      ${l}
      
      `,config:{temperature:.8,topP:.95}})).text}catch(s){return console.error("Gemini Error:",s),null}},FA=({initialData:i,availableGenres:t,availableMainCategories:l,onClose:s,onSave:r})=>{const[c,m]=ue.useState(i?{...i,genre:Array.isArray(i.genre)?i.genre:[i.genre],author:i.author||"",sourceCommunity:i.sourceCommunity||"",sourceLink:i.sourceLink||""}:{id:Math.random().toString(36).substr(2,9),name:"",mainCategory:l[0]||"",genre:[],playStatus:"",description:"",imageUrl:"",attributes:{},author:"",sourceCommunity:"",sourceLink:"",createdAt:Date.now()}),[g,y]=ue.useState(!1),h=C=>{var D;const N=(D=C.target.files)==null?void 0:D[0];if(!N)return;const I=new FileReader;I.onload=F=>{m(J=>{var k;return{...J,imageUrl:(k=F.target)==null?void 0:k.result}})},I.readAsDataURL(N)},v=C=>{m(N=>{const I=N.genre||[];return I.includes(C)?{...N,genre:I.filter(D=>D!==C)}:{...N,genre:[...I,C]}})},_=async()=>{var I;if(!c.name){alert("");return}y(!0);const C=((I=c.genre)==null?void 0:I.join(", "))||"",N=await OA(c.name,C,c.description||"");N&&m(D=>({...D,description:N})),y(!1)},E=C=>{if(C.preventDefault(),!c.name||!c.imageUrl){alert("");return}c.playStatus||(c.playStatus=""),c.mainCategory||(c.mainCategory=l[0]||""),(!c.genre||c.genre.length===0)&&(c.genre=[]),r(c)};return S.jsxs("div",{className:"p-6 flex flex-col min-h-screen bg-slate-50",children:[S.jsxs("div",{className:"flex items-center mb-6 relative shrink-0",children:[S.jsx("button",{onClick:s,className:"absolute left-0 text-slate-800 p-2 -ml-2 active:scale-90 transition-transform bg-white rounded-full shadow-sm border border-slate-100",children:S.jsx("i",{className:"fa-solid fa-arrow-left text-lg"})}),S.jsx("h2",{className:"text-xl font-bold text-slate-900 w-full text-center",children:i?"":""})]}),S.jsxs("form",{onSubmit:E,className:"flex-1 flex flex-col",children:[S.jsxs("div",{className:"space-y-6 flex-1",children:[S.jsx("div",{className:"flex flex-col items-center",children:S.jsxs("label",{className:"w-full aspect-[3/4] max-w-[200px] border-2 border-dashed border-slate-200 rounded-2xl flex flex-col items-center justify-center bg-white cursor-pointer overflow-hidden relative group shadow-sm",children:[c.imageUrl?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:c.imageUrl,alt:"preview",className:"w-full h-full object-cover"}),S.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:S.jsx("span",{className:"text-white text-sm font-bold",children:""})})]}):S.jsxs("div",{className:"text-center p-4",children:[S.jsx("i",{className:"fa-solid fa-cloud-arrow-up text-3xl text-slate-300 mb-2"}),S.jsx("p",{className:"text-xs text-slate-400",children:" (JPG/PNG)"})]}),S.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]})}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:""}),S.jsx("input",{type:"text",value:c.name,onChange:C=>m(N=>({...N,name:C.target.value})),placeholder:"",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-indigo-400 outline-none transition-all"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),S.jsx("div",{className:"flex flex-wrap gap-2 bg-slate-100 p-2 rounded-xl",children:l.map(C=>S.jsx("button",{type:"button",onClick:()=>m(N=>({...N,mainCategory:C})),className:`flex-1 min-w-[30%] py-2.5 rounded-lg text-sm font-bold transition-all ${c.mainCategory===C?"bg-white text-indigo-600 shadow-sm scale-100":"text-slate-400 hover:text-slate-600 scale-95"}`,children:C},C))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"() - "}),S.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(C=>{var I;const N=(I=c.genre)==null?void 0:I.includes(C);return S.jsx("button",{type:"button",onClick:()=>v(C),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${N?"bg-indigo-600 text-white border-indigo-600 shadow-md shadow-indigo-200":"bg-white text-slate-500 border-slate-200 hover:border-slate-300"}`,children:C},C)})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),S.jsx("div",{className:"flex bg-slate-100 p-1.5 rounded-xl",children:eg.map(C=>S.jsx("button",{type:"button",onClick:()=>m(N=>({...N,playStatus:C})),className:`flex-1 py-2.5 rounded-lg text-sm font-bold transition-all ${c.playStatus===C?"bg-white text-indigo-600 shadow-sm scale-100":"text-slate-400 hover:text-slate-600 scale-95"}`,children:C},C))})]}),S.jsxs("div",{className:"space-y-3 pt-2 border-t border-slate-100",children:[S.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-widest",children:" ()"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("div",{className:"flex-1",children:S.jsx("input",{type:"text",value:c.author||"",onChange:C=>m(N=>({...N,author:C.target.value})),placeholder:"",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-indigo-400 outline-none text-sm"})}),S.jsx("div",{className:"flex-1",children:S.jsx("input",{type:"text",value:c.sourceCommunity||"",onChange:C=>m(N=>({...N,sourceCommunity:C.target.value})),placeholder:"",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-indigo-400 outline-none text-sm"})})]}),S.jsx("input",{type:"url",value:c.sourceLink||"",onChange:C=>m(N=>({...N,sourceLink:C.target.value})),placeholder:" (URL)",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-indigo-400 outline-none text-sm"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700",children:" / "}),S.jsxs("button",{type:"button",onClick:_,disabled:g,className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md flex items-center gap-1 active:scale-95 transition-transform disabled:opacity-50",children:[S.jsx("i",{className:`fa-solid ${g?"fa-spinner fa-spin":"fa-wand-magic-sparkles"}`}),"AI "]})]}),S.jsx("textarea",{rows:8,value:c.description,onChange:C=>m(N=>({...N,description:C.target.value})),placeholder:"...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-indigo-400 outline-none resize-none transition-all"})]})]})]}),S.jsx("div",{className:"mt-10 pb-8 safe-bottom",children:S.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-4 rounded-2xl font-bold shadow-lg shadow-indigo-200 active:bg-indigo-700 active:scale-[0.98] transition-all",children:""})})]})]})},JA=({initialData:i,cards:t,categories:l,onClose:s,onSave:r,onDelete:c})=>{const[m,g]=ue.useState(""),[y,h]=ue.useState(""),[v,_]=ue.useState(""),[E,C]=ue.useState(""),[N,I]=ue.useState([]);ue.useEffect(()=>{i?(g(i.title),h(i.content),_(i.characterId||""),C(i.category||""),I(i.images||[])):(g(""),h(""),_(""),C(""),I([]))},[i]);const D=k=>{const K=k.target.files;K&&(Array.from(K).forEach(te=>{const P=new FileReader;P.onloadend=()=>{P.result&&I(Q=>[...Q,P.result])},P.readAsDataURL(te)}),k.target.value="")},F=k=>{I(K=>K.filter((te,P)=>P!==k))},J=k=>{if(k.preventDefault(),!y.trim()&&N.length===0)return;const K={id:(i==null?void 0:i.id)||Date.now().toString(),title:m.trim()||"",content:y,characterId:v||void 0,category:E,images:N,createdAt:(i==null?void 0:i.createdAt)||Date.now(),updatedAt:Date.now()};r(K)};return S.jsxs("div",{className:"flex flex-col h-full bg-white",children:[S.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white/90 backdrop-blur-md z-10",children:[S.jsx("h2",{className:"text-xl font-bold text-slate-800",children:i?"":""}),S.jsxs("div",{className:"flex gap-2",children:[i&&c&&S.jsx("button",{type:"button",onClick:()=>c(i.id),className:"w-10 h-10 rounded-full bg-red-50 text-red-500 flex items-center justify-center active:bg-red-100 mr-2",children:S.jsx("i",{className:"fa-solid fa-trash-can"})}),S.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center active:bg-slate-200",children:S.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),S.jsxs("form",{onSubmit:J,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),S.jsx("input",{type:"text",value:m,onChange:k=>g(k.target.value),placeholder:"xx",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none transition-all"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),S.jsxs("div",{className:"relative",children:[S.jsx("select",{value:E,onChange:k=>C(k.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none appearance-none transition-all",children:l.map(k=>S.jsx("option",{value:k,children:k},k))}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:S.jsx("i",{className:"fa-solid fa-chevron-down"})})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),S.jsxs("div",{className:"relative",children:[S.jsxs("select",{value:v,onChange:k=>_(k.target.value),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none appearance-none transition-all",children:[S.jsx("option",{value:"",children:"--  --"}),t.map(k=>S.jsx("option",{value:k.id,children:k.name},k.id))]}),S.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",children:S.jsx("i",{className:"fa-solid fa-chevron-down"})})]})]}),S.jsxs("div",{className:"flex-1 flex flex-col min-h-[200px]",children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),S.jsx("textarea",{value:y,onChange:k=>h(k.target.value),placeholder:"...",className:"flex-1 w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none transition-all resize-none font-mono text-sm leading-relaxed"})]}),S.jsxs("div",{children:[S.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[" (",N.length,")"]}),S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[N.map((k,K)=>S.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden border border-slate-200 group",children:[S.jsx("img",{src:k,className:"w-full h-full object-cover"}),S.jsx("button",{type:"button",onClick:()=>F(K),className:"absolute top-1 right-1 w-6 h-6 bg-black/50 text-white rounded-full flex items-center justify-center active:scale-90 transition-transform",children:S.jsx("i",{className:"fa-solid fa-xmark text-xs"})})]},K)),S.jsxs("label",{className:"aspect-square rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-400 hover:text-indigo-500 hover:border-indigo-200 hover:bg-indigo-50 transition-colors cursor-pointer active:scale-95",children:[S.jsx("i",{className:"fa-solid fa-image text-xl mb-1"}),S.jsx("span",{className:"text-xs font-bold",children:""}),S.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:D,className:"hidden"})]})]})]})]}),S.jsx("div",{className:"p-6 border-t border-slate-100 bg-white sticky bottom-0 safe-bottom",children:S.jsxs("button",{onClick:J,disabled:!y.trim()&&N.length===0,className:"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg shadow-indigo-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] transition-all",children:[S.jsx("i",{className:"fa-solid fa-check"})," "]})})]})},YA=({log:i,linkedCard:t,onClose:l,onEdit:s})=>{const[r,c]=ue.useState(null),[m,g]=ue.useState(!1),y=()=>{if(!r)return;const h=document.createElement("a");h.href=r,h.download=`image_${Date.now()}.png`,document.body.appendChild(h),h.click(),document.body.removeChild(h),c(null),g(!1)};return S.jsxs("div",{className:"fixed inset-0 bg-white z-50 overflow-y-auto animate-in slide-in-from-right flex flex-col",children:[S.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur-md border-b border-slate-100 px-4 py-3 flex items-center justify-between z-10 shrink-0",children:[S.jsx("button",{onClick:l,className:"w-10 h-10 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center active:bg-slate-200",children:S.jsx("i",{className:"fa-solid fa-arrow-left"})}),S.jsx("h2",{className:"font-bold text-slate-800 truncate px-4 flex-1 text-center",children:i.title}),S.jsx("button",{onClick:s,className:"w-10 h-10 rounded-full bg-indigo-50 text-indigo-600 flex items-center justify-center active:bg-indigo-100",children:S.jsx("i",{className:"fa-solid fa-pen"})})]}),S.jsxs("div",{className:"p-6 pb-24 space-y-6 flex-1 overflow-y-auto",children:[S.jsxs("div",{className:"flex flex-wrap gap-2 items-center text-xs text-slate-500",children:[S.jsx("span",{className:"bg-slate-100 px-2 py-1 rounded-lg",children:new Date(i.createdAt).toLocaleString()}),i.category&&S.jsx("span",{className:"bg-indigo-50 text-indigo-600 px-2 py-1 rounded-lg font-bold",children:i.category})]}),t&&S.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-2xl border border-slate-100",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden bg-slate-200 shrink-0",children:S.jsx("img",{src:t.imageUrl,className:"w-full h-full object-cover"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"text-xs text-slate-400 font-bold mb-0.5",children:""}),S.jsx("p",{className:"font-bold text-slate-800",children:t.name})]})]}),S.jsx("div",{className:"prose prose-slate prose-sm max-w-none whitespace-pre-wrap leading-relaxed text-slate-700 font-mono bg-slate-50 p-4 rounded-2xl border border-slate-100",children:i.content}),i.images&&i.images.length>0&&S.jsx("div",{className:"grid grid-cols-2 gap-3 mt-6",children:i.images.map((h,v)=>S.jsx("div",{onClick:()=>c(h),className:"aspect-square rounded-2xl overflow-hidden border border-slate-100 cursor-zoom-in active:opacity-90 transition-opacity bg-slate-50",children:S.jsx("img",{src:h,className:"w-full h-full object-cover",loading:"lazy"})},v))})]}),r&&S.jsxs("div",{className:"fixed inset-0 bg-black z-[70] flex flex-col animate-in fade-in duration-200",children:[S.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-20 bg-gradient-to-b from-black/50 to-transparent pointer-events-none",children:[S.jsx("button",{onClick:()=>c(null),className:"w-10 h-10 rounded-full bg-black/30 text-white backdrop-blur-md flex items-center justify-center active:bg-black/50 pointer-events-auto",children:S.jsx("i",{className:"fa-solid fa-xmark"})}),S.jsx("button",{onClick:()=>g(!0),className:"w-10 h-10 rounded-full bg-black/30 text-white backdrop-blur-md flex items-center justify-center active:bg-black/50 pointer-events-auto",children:S.jsx("i",{className:"fa-solid fa-ellipsis"})})]}),S.jsx("div",{className:"flex-1 flex items-center justify-center p-0 overflow-hidden bg-black relative",children:S.jsx("img",{src:r,className:"max-w-full max-h-full object-contain shadow-2xl"})}),m&&S.jsxs("div",{className:"absolute inset-0 z-[80] flex flex-col justify-end",children:[S.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>g(!1)}),S.jsxs("div",{className:"bg-white rounded-t-[2rem] p-6 z-10 animate-in slide-in-from-bottom duration-300 pb-12 relative",children:[S.jsx("div",{className:"w-12 h-1 bg-slate-200 rounded-full mx-auto mb-8"}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("button",{onClick:y,className:"w-full py-4 bg-slate-50 text-slate-800 font-bold rounded-2xl flex items-center justify-center gap-3 active:bg-slate-100 border border-slate-100",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-download"})}),""]}),S.jsx("button",{onClick:()=>g(!1),className:"w-full py-4 text-slate-400 font-bold rounded-2xl active:bg-slate-50",children:""})]})]})]})]})]})},KA=()=>{const[i,t]=ue.useState([]),[l,s]=ue.useState(""),[r,c]=ue.useState(""),[m,g]=ue.useState([""]),[y,h]=ue.useState(gv),[v,_]=ue.useState(yv),[E,C]=ue.useState(""),[N,I]=ue.useState(null),[D,F]=ue.useState(!1),[J,k]=ue.useState(null),[K,te]=ue.useState(!1),[P,Q]=ue.useState(!1),[ye,ne]=ue.useState(!1),[he,Ae]=ue.useState(!1),[Ne,ze]=ue.useState(""),[Ue,Qe]=ue.useState(null),[q,Z]=ue.useState(""),[oe,Ee]=ue.useState(!1),[Re,M]=ue.useState(""),[B,$]=ue.useState(null),[ee,ce]=ue.useState(""),[re,xe]=ue.useState("home"),[Be,Pe]=ue.useState([]),[At,an]=ue.useState(null),[Dl,Un]=ue.useState(!1),[rn,Ln]=ue.useState(null),[Lt,Gi]=ue.useState([""]),[Gn,Hi]=ue.useState(""),[Ul,qi]=ue.useState(!1),[ri,Ho]=ue.useState(""),[it,Ll]=ue.useState(""),[ui,Gl]=ue.useState(null);ue.useEffect(()=>{const R=localStorage.getItem("chat_logs");R&&Pe(JSON.parse(R));const Y=localStorage.getItem("chat_log_categories");Y&&Gi(JSON.parse(Y));const X=localStorage.getItem("custom_main_categories");X&&h(JSON.parse(X));const j=localStorage.getItem("custom_genres");j&&_(JSON.parse(j));const fe=localStorage.getItem("role_cards");if(fe){const Gt=JSON.parse(fe).map(be=>{var cn,Ht;let dt=(cn=be.assets)==null?void 0:cn.regexScripts;be.assets&&typeof be.assets.regexScripts=="string"?dt=[{content:be.assets.regexScripts,fileName:be.assets.regexScriptsFileName||"script.json"}]:(Ht=be.assets)!=null&&Ht.regexScripts||(dt=[]);const Xt=be.mainCategory||"";return{...be,mainCategory:Xt,genre:Array.isArray(be.genre)?be.genre:[be.genre],playStatus:be.playStatus||"",assets:{...be.assets||{},regexScripts:dt}}});t(Gt)}else{const Ye=[{id:"1",name:"",mainCategory:"",genre:["",""],playStatus:"",description:"",imageUrl:"https://images.unsplash.com/photo-1599508704512-2f19efd1e35f?q=80&w=1000&auto=format&fit=crop",attributes:{:"185cm",:"",:""},createdAt:Date.now(),assets:{regexScripts:[]}}];t(Ye),localStorage.setItem("role_cards",JSON.stringify(Ye))}},[]);const ci=ue.useMemo(()=>i.filter(R=>{if(R.deletedAt)return!1;const Y=l===""||R.mainCategory===l,X=r===""||R.playStatus===r,j=m.includes("")||m.every(Ye=>R.genre.includes(Ye)),fe=R.name.toLowerCase().includes(E.toLowerCase())||R.description.toLowerCase().includes(E.toLowerCase());return Y&&X&&j&&fe}),[i,l,r,m,E]),Vi=ue.useMemo(()=>i.filter(R=>R.deletedAt).sort((R,Y)=>(Y.deletedAt||0)-(R.deletedAt||0)),[i]),qo=R=>{let Y;i.find(X=>X.id===R.id)?(Y=i.map(X=>X.id===R.id?R:X),J&&J.id===R.id&&k(R)):Y=[R,...i],t(Y),localStorage.setItem("role_cards",JSON.stringify(Y)),F(!1),I(null)},fi=R=>{if(!J)return;const Y={...J,...R};k(Y);const X=i.map(j=>j.id===Y.id?Y:j);t(X),localStorage.setItem("role_cards",JSON.stringify(X))},Vo=()=>{if(!J)return;const R=i.map(Y=>Y.id===J.id?{...Y,deletedAt:Date.now()}:Y);t(R),localStorage.setItem("role_cards",JSON.stringify(R)),k(null),te(!1)},di=R=>{const Y=i.map(X=>X.id===R?{...X,deletedAt:void 0}:X);t(Y),localStorage.setItem("role_cards",JSON.stringify(Y))},pt=(R,Y)=>{if(R.stopPropagation(),!confirm(""))return;const X=i.filter(j=>j.id!==Y);t(X),localStorage.setItem("role_cards",JSON.stringify(X))},tn=()=>{if(Vi.length===0||!confirm(""))return;const R=i.filter(Y=>!Y.deletedAt);t(R),localStorage.setItem("role_cards",JSON.stringify(R))},ht=(R,Y)=>{const X=document.createElement("a");let j;if(R.startsWith("data:"))j=R;else{const fe=new Blob([R],{type:"text/plain"});j=URL.createObjectURL(fe)}X.href=j,X.download=Y,document.body.appendChild(X),X.click(),document.body.removeChild(X),R.startsWith("data:")||URL.revokeObjectURL(j)},mi=async(R,Y)=>{const X=Y.target.files;if(!X||X.length===0||!J)return;if(R==="regex"){const Ye=[],be=Array.from(X).map(dt=>new Promise(Xt=>{const cn=new FileReader;cn.onload=Ht=>{var fn;(fn=Ht.target)!=null&&fn.result&&Ye.push({content:Ht.target.result,fileName:dt.name}),Xt()},cn.readAsText(dt)}));if(await Promise.all(be),Ye.length>0){const dt=J.assets||{},Xt=Array.isArray(dt.regexScripts)?dt.regexScripts:[];fi({assets:{...dt,regexScripts:[...Xt,...Ye]}}),alert(` ${Ye.length} `)}Q(!1),Y.target.value="";return}const j=X[0],fe=new FileReader;fe.onload=Ye=>{var dt;const Gt=(dt=Ye.target)==null?void 0:dt.result,be=J.assets||{};R==="card"?(fi({assets:{...be,characterCardFile:Gt,characterCardFileName:j.name}}),alert("")):R==="qr"?(fi({assets:{...be,quickReplies:Gt,quickRepliesFileName:j.name}}),alert("(QR)")):R==="worldBook"&&(fi({assets:{...be,worldBook:Gt,worldBookFileName:j.name}}),alert("")),Q(!1),Y.target.value=""},R==="card"&&j.type.startsWith("image/")?fe.readAsDataURL(j):fe.readAsText(j)},_a=R=>{var X;if(!J||!((X=J.assets)!=null&&X.regexScripts))return;const Y=[...J.assets.regexScripts];Y.splice(R,1),fi({assets:{...J.assets,regexScripts:Y}})},Hl=R=>{localStorage.setItem("custom_genres",JSON.stringify(R)),_(R)},ki=()=>{if(!Ne.trim())return;if(v.includes(Ne.trim())){alert("");return}const R=[...v,Ne.trim()];Hl(R),ze("")},zi=R=>{Qe(R),Z(R)},Pi=()=>{if(!Ue||!q.trim())return;const R=Ue,Y=q.trim(),X=v.map(fe=>fe===R?Y:fe);Hl(X);const j=i.map(fe=>({...fe,genre:fe.genre.map(Ye=>Ye===R?Y:Ye)}));t(j),localStorage.setItem("role_cards",JSON.stringify(j)),m.includes(R)&&g(m.map(fe=>fe===R?Y:fe)),Qe(null)},un=R=>{if(!confirm(`${R}`))return;const Y=v.filter(j=>j!==R);Hl(Y);const X=i.map(j=>({...j,genre:j.genre.filter(fe=>fe!==R)}));if(t(X),localStorage.setItem("role_cards",JSON.stringify(X)),m.includes(R)){const j=m.filter(fe=>fe!==R);g(j.length===0?[""]:j)}},Hn=R=>{localStorage.setItem("custom_main_categories",JSON.stringify(R)),h(R)},pi=()=>{if(!Re.trim())return;if(y.includes(Re.trim())){alert("");return}const R=[...y,Re.trim()];Hn(R),M("")},Ea=R=>{$(R),ce(R)},ko=()=>{if(!B||!ee.trim())return;const R=B,Y=ee.trim(),X=y.map(fe=>fe===R?Y:fe);Hn(X);const j=i.map(fe=>({...fe,mainCategory:fe.mainCategory===R?Y:fe.mainCategory}));t(j),localStorage.setItem("role_cards",JSON.stringify(j)),l===R&&s(Y),$(null)},ql=R=>{if(y.length<=1){alert("");return}if(!confirm(`${R}
`))return;const Y=y.filter(fe=>fe!==R);Hn(Y);const X="",j=i.map(fe=>({...fe,mainCategory:fe.mainCategory===R?X:fe.mainCategory}));t(j),localStorage.setItem("role_cards",JSON.stringify(j)),l===R&&s("")},hi=R=>{let Y;Be.find(X=>X.id===R.id)?Y=Be.map(X=>X.id===R.id?R:X):Y=[R,...Be],Pe(Y),localStorage.setItem("chat_logs",JSON.stringify(Y)),Un(!1),Ln(null)},xa=R=>{if(!confirm(""))return;const Y=Be.filter(X=>X.id!==R);Pe(Y),localStorage.setItem("chat_logs",JSON.stringify(Y)),(At==null?void 0:At.id)===R&&an(null)},zo=()=>{if(!ri.trim())return;if(Lt.includes(ri.trim())){alert("");return}const R=[...Lt,ri.trim()];Gi(R),localStorage.setItem("chat_log_categories",JSON.stringify(R)),Ho("")},Po=R=>{if(R===""||!confirm(`"${R}"`))return;const Y=Lt.filter(X=>X!==R);Gi(Y),localStorage.setItem("chat_log_categories",JSON.stringify(Y)),Gn===R&&Hi("")},Bo=()=>{if(ui===null||!it.trim())return;const R=Lt[ui];if(R==="")return;const Y=[...Lt];Y[ui]=it.trim(),Gi(Y),localStorage.setItem("chat_log_categories",JSON.stringify(Y));const X=Be.map(j=>j.category===R?{...j,category:it.trim()}:j);Pe(X),localStorage.setItem("chat_logs",JSON.stringify(X)),Gl(null),Ll("")},Bi=ue.useMemo(()=>Gn===""?Be:Be.filter(R=>R.category===Gn),[Be,Gn]),Vl=()=>{const R={version:1,timestamp:Date.now(),cards:i,custom_genres:v,custom_main_categories:y},Y=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),X=URL.createObjectURL(Y),j=document.createElement("a");j.href=X,j.download=`rolecard_backup_${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(X)},Oo=R=>{var j;const Y=(j=R.target.files)==null?void 0:j[0];if(!Y)return;if(!confirm("")){R.target.value="";return}const X=new FileReader;X.onload=fe=>{var Ye;try{const Gt=(Ye=fe.target)==null?void 0:Ye.result,be=JSON.parse(Gt);be.cards&&Array.isArray(be.cards)&&(t(be.cards),localStorage.setItem("role_cards",JSON.stringify(be.cards))),be.custom_genres&&Array.isArray(be.custom_genres)&&(_(be.custom_genres),localStorage.setItem("custom_genres",JSON.stringify(be.custom_genres))),be.custom_main_categories&&Array.isArray(be.custom_main_categories)&&(h(be.custom_main_categories),localStorage.setItem("custom_main_categories",JSON.stringify(be.custom_main_categories))),alert("")}catch(Gt){console.error(Gt),alert("")}R.target.value=""},X.readAsText(Y)};return J!=null&&J.assets&&(J.assets.quickReplies||J.assets.characterCardFile||J.assets.worldBook||J.assets.regexScripts&&J.assets.regexScripts.length>0),S.jsxs("div",{className:"flex flex-col h-screen max-w-md mx-auto bg-slate-50 relative overflow-hidden",children:[re==="home"&&S.jsxs("header",{className:"pt-6 px-4 bg-white shadow-sm shrink-0 z-10",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:""}),S.jsx("button",{onClick:()=>ne(!0),className:"w-10 h-10 rounded-full bg-slate-100 text-slate-500 hover:text-red-500 hover:bg-red-50 flex items-center justify-center transition-colors active:scale-95",children:S.jsx("i",{className:"fa-solid fa-trash-can"})})]}),S.jsxs("div",{className:"relative mb-4",children:[S.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:S.jsx("i",{className:"fa-solid fa-magnifying-glass"})}),S.jsx("input",{type:"text",placeholder:"...",className:"w-full bg-slate-100 border-none rounded-xl py-3 pl-10 pr-4 text-slate-700 focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none transition-all",value:E,onChange:R=>C(R.target.value)})]}),S.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-100 mb-3",children:[S.jsxs("div",{className:"flex-1 flex overflow-x-auto no-scrollbar",children:[S.jsx("button",{onClick:()=>s(""),className:`min-w-[4rem] px-2 py-3 text-sm font-medium transition-all border-b-2 whitespace-nowrap ${l===""?"text-indigo-600 border-indigo-600":"text-slate-400 border-transparent"}`,children:""}),y.map(R=>S.jsx("button",{onClick:()=>s(R),className:`min-w-[4rem] px-2 py-3 text-sm font-medium transition-all border-b-2 whitespace-nowrap ${l===R?"text-indigo-600 border-indigo-600":"text-slate-400 border-transparent"}`,children:R},R))]}),S.jsx("button",{onClick:()=>Ee(!0),className:"w-8 h-8 flex items-center justify-center text-slate-400 hover:text-indigo-600 active:bg-slate-100 rounded-full shrink-0",children:S.jsx("i",{className:"fa-solid fa-gear"})})]}),S.jsxs("div",{className:"flex gap-3 mb-1 px-1",children:[S.jsx("button",{onClick:()=>c(""),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all border ${r===""?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-500 border-slate-200"}`,children:""}),eg.map(R=>S.jsx("button",{onClick:()=>c(R),className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all border ${r===R?"bg-indigo-50 text-indigo-600 border-indigo-200":"bg-white text-slate-500 border-slate-200"}`,children:R},R))]}),S.jsxs("div",{className:"flex items-center gap-2 pb-4",children:[S.jsxs("div",{className:"flex-1 flex overflow-x-auto no-scrollbar py-3 gap-2",children:[S.jsx("button",{onClick:()=>g([""]),className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-medium transition-all ${m.includes("")?"bg-slate-200 text-slate-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:""}),v.map(R=>{const Y=m.includes(R);return S.jsx("button",{onClick:()=>{if(m.includes(""))g([R]);else if(Y){const X=m.filter(j=>j!==R);g(X.length===0?[""]:X)}else g([...m,R])},className:`whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-medium transition-all ${Y?"bg-indigo-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:R},R)})]}),S.jsx("button",{onClick:()=>Ae(!0),className:"w-8 h-8 flex items-center justify-center bg-slate-100 rounded-full text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 transition-colors shrink-0",children:S.jsx("i",{className:"fa-solid fa-gear"})})]})]}),S.jsxs("main",{className:"flex-1 overflow-y-auto no-scrollbar pb-24 bg-slate-50",children:[re==="home"&&S.jsx("div",{className:"p-4",children:ci.length>0?S.jsx("div",{className:"grid grid-cols-2 gap-4",children:ci.map(R=>S.jsx(gp,{card:R,onClick:()=>k(R)},R.id))}):S.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400 opacity-60",children:[S.jsx("i",{className:"fa-solid fa-ghost text-5xl mb-4"}),S.jsx("p",{children:""})]})}),re==="chatLogs"&&S.jsxs("div",{className:"p-4 space-y-4 animate-in fade-in",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),S.jsx("button",{onClick:()=>qi(!0),className:"w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center active:bg-slate-200",children:S.jsx("i",{className:"fa-solid fa-gear"})})]}),S.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar pb-2",children:Lt.map(R=>S.jsx("button",{onClick:()=>Hi(R),className:`px-4 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-colors ${Gn===R?"bg-indigo-600 text-white shadow-md shadow-indigo-200":"bg-white text-slate-500 border border-slate-100"}`,children:R},R))}),Bi.length>0?S.jsx("div",{className:"space-y-3",children:Bi.map(R=>{const Y=i.find(X=>X.id===R.characterId);return S.jsxs("div",{onClick:()=>{Ln(R),Un(!0)},className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 active:scale-[0.98] transition-transform cursor-pointer",children:[S.jsxs("div",{className:"flex justify-between items-start mb-2",children:[S.jsx("h3",{className:"font-bold text-slate-800 line-clamp-1",children:R.title||""}),S.jsx("span",{className:"text-[10px] text-slate-400 whitespace-nowrap ml-2",children:new Date(R.updatedAt).toLocaleDateString()})]}),S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Y?S.jsxs("div",{className:"flex items-center gap-1.5 bg-indigo-50 px-2 py-1 rounded-lg",children:[S.jsx("div",{className:"w-4 h-4 rounded-full overflow-hidden bg-slate-200",children:S.jsx("img",{src:Y.imageUrl,className:"w-full h-full object-cover"})}),S.jsx("span",{className:"text-xs font-bold text-indigo-700",children:Y.name})]}):S.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-lg",children:""}),R.images&&R.images.length>0&&S.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 px-2 py-1 rounded-lg text-slate-500",children:[S.jsx("i",{className:"fa-solid fa-image text-xs"}),S.jsx("span",{className:"text-xs font-bold",children:R.images.length})]})]}),R.images&&R.images.length>0&&S.jsxs("div",{className:"flex gap-2 mb-3 overflow-x-auto no-scrollbar pb-1",children:[R.images.slice(0,4).map((X,j)=>S.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden shrink-0 border border-slate-100 bg-slate-50",children:S.jsx("img",{src:X,className:"w-full h-full object-cover"})},j)),R.images.length>4&&S.jsxs("div",{className:"w-16 h-16 rounded-lg bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-400 text-xs font-bold shrink-0",children:["+",R.images.length-4]})]}),S.jsx("p",{className:"text-xs text-slate-500 line-clamp-3 leading-relaxed bg-slate-50 p-2 rounded-lg",children:R.content})]},R.id)})}):S.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400 opacity-60",children:[S.jsx("i",{className:"fa-regular fa-comments text-5xl mb-4"}),S.jsx("p",{children:""})]})]}),re==="settings"&&S.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[S.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-6",children:""}),S.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[S.jsxs("h3",{className:"text-lg font-bold text-slate-700 mb-4 flex items-center gap-2",children:[S.jsx("i",{className:"fa-solid fa-database text-indigo-500"})," "]}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("button",{onClick:Vl,className:"w-full flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 group-hover:text-indigo-500 shadow-sm",children:S.jsx("i",{className:"fa-solid fa-file-export"})}),S.jsxs("div",{className:"text-left",children:[S.jsx("div",{className:"font-bold text-slate-700 group-hover:text-indigo-700",children:""}),S.jsx("div",{className:"text-xs text-slate-400",children:""})]})]}),S.jsx("i",{className:"fa-solid fa-chevron-right text-slate-300 group-hover:text-indigo-300"})]}),S.jsxs("label",{className:"w-full flex items-center justify-between p-4 bg-slate-50 rounded-xl hover:bg-indigo-50 hover:text-indigo-600 transition-colors group cursor-pointer",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center text-slate-400 group-hover:text-indigo-500 shadow-sm",children:S.jsx("i",{className:"fa-solid fa-file-import"})}),S.jsxs("div",{className:"text-left",children:[S.jsx("div",{className:"font-bold text-slate-700 group-hover:text-indigo-700",children:""}),S.jsx("div",{className:"text-xs text-slate-400",children:" (.json)"})]})]}),S.jsx("input",{type:"file",accept:".json",onChange:Oo,className:"hidden"}),S.jsx("i",{className:"fa-solid fa-chevron-right text-slate-300 group-hover:text-indigo-300"})]})]})]}),S.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-indigo-100 text-indigo-500 rounded-2xl flex items-center justify-center text-3xl mx-auto mb-4",children:S.jsx("i",{className:"fa-solid fa-layer-group"})}),S.jsx("h3",{className:"text-lg font-bold text-slate-800",children:""}),S.jsx("p",{className:"text-sm text-slate-400 mt-1",children:" 1.0.0"}),S.jsxs("p",{className:"text-xs text-blue-900 mt-4 font-medium",children:["AI ",S.jsx("i",{className:"fa-solid fa-heart text-red-400 mx-1"})," "]}),S.jsx("p",{className:"text-[10px] text-blue-900 mt-2 font-mono font-bold",children:"    "})]})]})]}),S.jsxs("nav",{className:"bg-white border-t border-slate-100 flex justify-around items-center h-16 pb-safe shrink-0 z-30",children:[S.jsxs("button",{onClick:()=>xe("home"),className:`flex-1 h-full flex flex-col items-center justify-center gap-1 transition-colors ${re==="home"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[S.jsx("i",{className:`text-xl ${re==="home"?"fa-solid":"fa-regular"} fa-folder-open`}),S.jsx("span",{className:"text-[10px] font-medium",children:""})]}),S.jsx("div",{className:"w-px h-8 bg-slate-100"}),S.jsxs("button",{onClick:()=>xe("chatLogs"),className:`flex-1 h-full flex flex-col items-center justify-center gap-1 transition-colors ${re==="chatLogs"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[S.jsx("i",{className:`text-xl ${re==="chatLogs"?"fa-solid":"fa-regular"} fa-comments`}),S.jsx("span",{className:"text-[10px] font-medium",children:""})]}),S.jsx("div",{className:"w-px h-8 bg-slate-100"}),S.jsxs("button",{onClick:()=>xe("settings"),className:`flex-1 h-full flex flex-col items-center justify-center gap-1 transition-colors ${re==="settings"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[S.jsx("i",{className:`text-xl ${re==="settings"?"fa-solid":"fa-regular"} fa-user`}),S.jsx("span",{className:"text-[10px] font-medium",children:""})]})]}),re==="home"&&S.jsx("button",{onClick:()=>{I(null),F(!0)},className:"fixed bottom-20 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-300 flex items-center justify-center text-2xl active:scale-90 transition-transform z-20",children:S.jsx("i",{className:"fa-solid fa-plus"})}),re==="chatLogs"&&S.jsx("button",{onClick:()=>{Ln(null),Un(!0)},className:"fixed bottom-20 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-300 flex items-center justify-center text-2xl active:scale-90 transition-transform z-20",children:S.jsx("i",{className:"fa-solid fa-plus"})}),ye&&S.jsxs("div",{className:"fixed inset-0 bg-white z-[80] overflow-y-auto animate-in slide-in-from-bottom flex flex-col",children:[S.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white/90 backdrop-blur-md z-10",children:[S.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[S.jsx("i",{className:"fa-solid fa-trash-can text-red-500"})," "]}),S.jsx("button",{onClick:()=>ne(!1),className:"w-10 h-10 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center active:bg-slate-200",children:S.jsx("i",{className:"fa-solid fa-xmark"})})]}),S.jsx("div",{className:"flex-1 p-6 space-y-4",children:Vi.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-slate-400",children:[S.jsx("i",{className:"fa-solid fa-trash-can-arrow-up text-4xl mb-3 opacity-50"}),S.jsx("p",{children:""})]}):Vi.map(R=>S.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-3 rounded-2xl border border-slate-100",children:[S.jsx("div",{className:"w-16 h-16 rounded-xl overflow-hidden shrink-0 bg-slate-200",children:S.jsx("img",{src:R.imageUrl,alt:R.name,className:"w-full h-full object-cover grayscale opacity-80"})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h3",{className:"font-bold text-slate-700 truncate",children:R.name}),S.jsxs("p",{className:"text-xs text-slate-400",children:[": ",new Date(R.deletedAt).toLocaleDateString()]})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>di(R.id),className:"w-10 h-10 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center active:scale-95 transition-transform",title:"",children:S.jsx("i",{className:"fa-solid fa-rotate-left"})}),S.jsx("button",{onClick:Y=>pt(Y,R.id),className:"w-10 h-10 rounded-xl bg-red-100 text-red-600 flex items-center justify-center active:scale-95 transition-transform",title:"",children:S.jsx("i",{className:"fa-solid fa-trash"})})]})]},R.id))}),S.jsx("div",{className:"p-6 border-t border-slate-100 bg-white sticky bottom-0 safe-bottom",children:S.jsxs("button",{onClick:tn,disabled:Vi.length===0,className:"w-full py-4 bg-red-50 text-red-600 rounded-2xl font-bold border border-red-100 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed active:bg-red-100",children:[S.jsx("i",{className:"fa-solid fa-dumpster"})," "]})})]}),D&&S.jsx("div",{className:"fixed inset-0 bg-slate-50 z-50 overflow-y-auto animate-slide-up no-scrollbar flex flex-col",children:S.jsx(FA,{initialData:N,availableGenres:v,availableMainCategories:y,onClose:()=>F(!1),onSave:qo})}),oe&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-[70] flex items-center justify-center p-6 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-sm flex flex-col max-h-[80vh] shadow-2xl animate-in zoom-in-95",children:[S.jsxs("div",{className:"p-6 pb-2 flex justify-between items-center border-b border-slate-100",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-800",children:""}),S.jsx("button",{onClick:()=>Ee(!1),className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:S.jsx("i",{className:"fa-solid fa-xmark"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:y.map(R=>S.jsx("div",{className:"flex items-center gap-2 group",children:B===R?S.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[S.jsx("input",{type:"text",value:ee,onChange:Y=>ce(Y.target.value),className:"flex-1 bg-indigo-50 border border-indigo-200 rounded-lg px-3 py-2 text-sm text-indigo-900 focus:outline-none",autoFocus:!0}),S.jsx("button",{onClick:ko,className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-check"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg px-4 py-3 text-sm font-bold text-slate-700",children:R}),S.jsx("button",{onClick:()=>Ea(R),className:"w-8 h-8 text-slate-400 hover:text-indigo-600 flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-pen"})}),S.jsx("button",{onClick:()=>ql(R),className:"w-8 h-8 text-slate-400 hover:text-red-600 flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-trash-can"})})]})},R))}),S.jsx("div",{className:"p-6 pt-2 border-t border-slate-100",children:S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:Re,onChange:R=>M(R.target.value),placeholder:"...",className:"flex-1 bg-slate-100 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none"}),S.jsx("button",{onClick:pi,disabled:!Re.trim(),className:"bg-slate-900 text-white px-5 rounded-xl font-bold disabled:opacity-50",children:S.jsx("i",{className:"fa-solid fa-plus"})})]})})]})}),he&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-[70] flex items-center justify-center p-6 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-sm flex flex-col max-h-[80vh] shadow-2xl animate-in zoom-in-95",children:[S.jsxs("div",{className:"p-6 pb-2 flex justify-between items-center border-b border-slate-100",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-800",children:""}),S.jsx("button",{onClick:()=>Ae(!1),className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:S.jsx("i",{className:"fa-solid fa-xmark"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:v.map(R=>S.jsx("div",{className:"flex items-center gap-2 group",children:Ue===R?S.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[S.jsx("input",{type:"text",value:q,onChange:Y=>Z(Y.target.value),className:"flex-1 bg-indigo-50 border border-indigo-200 rounded-lg px-3 py-2 text-sm text-indigo-900 focus:outline-none",autoFocus:!0}),S.jsx("button",{onClick:Pi,className:"w-8 h-8 bg-indigo-600 text-white rounded-lg flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-check"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg px-4 py-3 text-sm font-bold text-slate-700",children:R}),S.jsx("button",{onClick:()=>zi(R),className:"w-8 h-8 text-slate-400 hover:text-indigo-600 flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-pen"})}),S.jsx("button",{onClick:()=>un(R),className:"w-8 h-8 text-slate-400 hover:text-red-600 flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-trash-can"})})]})},R))}),S.jsx("div",{className:"p-6 pt-2 border-t border-slate-100",children:S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"text",value:Ne,onChange:R=>ze(R.target.value),placeholder:"...",className:"flex-1 bg-slate-100 border-none rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none"}),S.jsx("button",{onClick:ki,disabled:!Ne.trim(),className:"bg-slate-900 text-white px-5 rounded-xl font-bold disabled:opacity-50",children:S.jsx("i",{className:"fa-solid fa-plus"})})]})})]})}),J&&S.jsxs("div",{className:"fixed inset-0 bg-white z-40 overflow-y-auto no-scrollbar animate-in fade-in",children:[S.jsx("button",{onClick:()=>k(null),className:"fixed top-10 left-4 w-10 h-10 bg-black/30 backdrop-blur-md rounded-full text-white flex items-center justify-center z-50 active:scale-90 transition-transform",children:S.jsx("i",{className:"fa-solid fa-arrow-left"})}),S.jsxs("div",{className:"fixed top-10 right-4 flex gap-3 z-50",children:[S.jsx("button",{onClick:()=>Q(!0),className:"w-10 h-10 bg-black/30 backdrop-blur-md rounded-full text-white flex items-center justify-center active:scale-90 transition-transform",children:S.jsx("i",{className:"fa-solid fa-folder-open"})}),S.jsx("button",{onClick:()=>{I(J),F(!0),k(null)},className:"w-10 h-10 bg-black/30 backdrop-blur-md rounded-full text-white flex items-center justify-center active:scale-90 transition-transform",children:S.jsx("i",{className:"fa-solid fa-pen"})})]}),S.jsx(gp,{card:J,isDetailView:!0,onDelete:()=>{te(!0),Vo()},onAssetImport:(R,Y)=>mi(R,Y),onDeleteRegexScript:_a,onExportAsset:ht,chatLogs:Be,onViewChatLog:R=>{an(R),xe("chatLogs"),k(null)}})]}),P&&S.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center",children:[S.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>Q(!1)}),S.jsxs("div",{className:"bg-white w-full rounded-t-[2rem] p-6 pb-12 animate-slide-up relative z-10 max-h-[80vh] overflow-y-auto",children:[S.jsx("div",{className:"w-12 h-1 bg-slate-200 rounded-full mx-auto mb-6 shrink-0"}),S.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-6 px-2",children:""}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("label",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl active:bg-slate-100 transition-colors cursor-pointer",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center text-lg",children:S.jsx("i",{className:"fa-solid fa-address-card"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-bold text-slate-800",children:""}),S.jsx("p",{className:"text-xs text-slate-400",children:" .png, .json ()"})]}),S.jsx("input",{type:"file",accept:".json,image/png",onChange:R=>mi("card",R),className:"hidden"})]}),S.jsxs("label",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl active:bg-slate-100 transition-colors cursor-pointer",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center text-lg",children:S.jsx("i",{className:"fa-solid fa-comments"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-bold text-slate-800",children:" (QR)"}),S.jsx("p",{className:"text-xs text-slate-400",children:" .json, .jsonl"})]}),S.jsx("input",{type:"file",accept:".json,.jsonl",onChange:R=>mi("qr",R),className:"hidden"})]}),S.jsxs("label",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl active:bg-slate-100 transition-colors cursor-pointer",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 text-orange-600 flex items-center justify-center text-lg",children:S.jsx("i",{className:"fa-solid fa-book-atlas"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-bold text-slate-800",children:" (World Book)"}),S.jsx("p",{className:"text-xs text-slate-400",children:" .json"})]}),S.jsx("input",{type:"file",accept:".json",onChange:R=>mi("worldBook",R),className:"hidden"})]}),S.jsxs("label",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl active:bg-slate-100 transition-colors cursor-pointer",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center text-lg",children:S.jsx("i",{className:"fa-solid fa-code"})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"font-bold text-slate-800",children:""}),S.jsx("p",{className:"text-xs text-slate-400",children:",  .json, .js"})]}),S.jsx("input",{type:"file",multiple:!0,accept:".json,.js",onChange:R=>mi("regex",R),className:"hidden"})]})]})]})]}),K&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-6 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-[2rem] p-8 w-full max-w-xs animate-in zoom-in shadow-2xl",children:[S.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-600 rounded-full flex items-center justify-center text-3xl mx-auto mb-6",children:S.jsx("i",{className:"fa-solid fa-trash-arrow-up"})}),S.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:""}),S.jsx("p",{className:"text-slate-500 text-center text-sm mb-8 leading-relaxed",children:""}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("button",{onClick:()=>te(!1),className:"flex-1 py-4 bg-slate-100 text-slate-600 font-black rounded-2xl active:bg-slate-200 transition-colors",children:""}),S.jsx("button",{onClick:Vo,className:"flex-1 py-4 bg-red-600 text-white font-black rounded-2xl active:bg-red-700 shadow-lg shadow-red-200 transition-all",children:""})]})]})}),Ul&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-6 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-white rounded-[2rem] p-6 w-full max-w-sm animate-in zoom-in shadow-2xl max-h-[80vh] flex flex-col",children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h3",{className:"text-xl font-black text-slate-900",children:""}),S.jsx("button",{onClick:()=>qi(!1),className:"w-8 h-8 rounded-full bg-slate-100 text-slate-500 flex items-center justify-center active:bg-slate-200",children:S.jsx("i",{className:"fa-solid fa-xmark"})})]}),S.jsxs("div",{className:"flex gap-2 mb-6",children:[S.jsx("input",{type:"text",value:ri,onChange:R=>Ho(R.target.value),placeholder:"",className:"flex-1 bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-slate-800 focus:ring-2 focus:ring-indigo-400 focus:bg-white outline-none transition-all"}),S.jsx("button",{onClick:zo,disabled:!ri.trim(),className:"w-12 h-12 rounded-xl bg-indigo-600 text-white flex items-center justify-center shadow-lg shadow-indigo-200 disabled:opacity-50 disabled:shadow-none active:scale-90 transition-all",children:S.jsx("i",{className:"fa-solid fa-plus"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-2",children:Lt.map((R,Y)=>S.jsx("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl border border-slate-100 group",children:ui===Y?S.jsxs("div",{className:"flex-1 flex gap-2",children:[S.jsx("input",{type:"text",value:it,onChange:X=>Ll(X.target.value),className:"flex-1 bg-white border border-indigo-200 rounded-lg px-2 py-1 text-sm focus:outline-none",autoFocus:!0}),S.jsx("button",{onClick:Bo,className:"w-8 h-8 rounded-lg bg-green-100 text-green-600 flex items-center justify-center",children:S.jsx("i",{className:"fa-solid fa-check"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("span",{className:"flex-1 font-bold text-slate-700",children:R}),R!==""&&S.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>{Gl(Y),Ll(R)},className:"w-8 h-8 rounded-lg bg-white text-slate-400 hover:text-indigo-600 flex items-center justify-center shadow-sm",children:S.jsx("i",{className:"fa-solid fa-pen"})}),S.jsx("button",{onClick:()=>Po(R),className:"w-8 h-8 rounded-lg bg-white text-slate-400 hover:text-red-600 flex items-center justify-center shadow-sm",children:S.jsx("i",{className:"fa-solid fa-trash-can"})})]})]})},R))})]})}),At&&S.jsx(YA,{log:At,linkedCard:i.find(R=>R.id===At.characterId),onClose:()=>an(null),onEdit:()=>{Ln(At),Un(!0),an(null)}}),Dl&&S.jsx("div",{className:"fixed inset-0 bg-slate-50 z-50 overflow-y-auto animate-slide-up no-scrollbar flex flex-col",children:S.jsx(JA,{initialData:rn,cards:i,categories:Lt,onClose:()=>Un(!1),onSave:hi,onDelete:xa})}),S.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        .animate-slide-up {
          animation: slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }
        .transition-active:active {
          transform: scale(0.92);
          opacity: 0.8;
        }
      `})]})},XA="modulepreload",QA=function(i,t){return new URL(i,t).href},jh={},ZA=function(t,l,s){let r=Promise.resolve();if(l&&l.length>0){let m=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const g=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),h=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));r=m(l.map(v=>{if(v=QA(v,s),v in jh)return;jh[v]=!0;const _=v.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(!!s)for(let I=g.length-1;I>=0;I--){const D=g[I];if(D.href===v&&(!_||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${E}`))return;const N=document.createElement("link");if(N.rel=_?"stylesheet":XA,_||(N.as="script"),N.crossOrigin="",N.href=v,h&&N.setAttribute("nonce",h),document.head.appendChild(N),_)return new Promise((I,D)=>{N.addEventListener("load",I),N.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return r.then(m=>{for(const g of m||[])g.status==="rejected"&&c(g.reason);return t().catch(c)})};function $A(i={}){const{immediate:t=!1,onNeedRefresh:l,onOfflineReady:s,onRegistered:r,onRegisteredSW:c,onRegisterError:m}=i;let g,y;const h=async(_=!0)=>{await y};async function v(){if("serviceWorker"in navigator){if(g=await ZA(async()=>{const{Workbox:_}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:_}},[],import.meta.url).then(({Workbox:_})=>new _("./sw.js",{scope:"./",type:"classic"})).catch(_=>{m==null||m(_)}),!g)return;g.addEventListener("activated",_=>{(_.isUpdate||_.isExternal)&&window.location.reload()}),g.addEventListener("installed",_=>{_.isUpdate||s==null||s()}),g.register({immediate:t}).then(_=>{c?c("./sw.js",_):r==null||r(_)}).catch(_=>{m==null||m(_)})}}return y=v(),h}const WA=$A({onNeedRefresh(){confirm("")&&WA(!0)},onOfflineReady(){console.log("App is ready to work offline")}}),Xg=document.getElementById("root");if(!Xg)throw new Error("Could not find root element to mount to");const jA=hv.createRoot(Xg);jA.render(S.jsx(av.StrictMode,{children:S.jsx(KA,{})}));
